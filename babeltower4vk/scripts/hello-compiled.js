var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];g in d||(d[g]={});d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=$jscomp.propertyToPolyfillSymbol[e],
$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};$jscomp.polyfill("Math.log10",function(a){return a?a:function(a){return Math.log(a)/Math.LN10}},"es6","es3");
window.onload=function(){var a={type:Phaser.AUTO,scale:{mode:Phaser.Scale.FIT,parent:"thegame",width:750,height:1334},physics:{default:"arcade",arcade:{gravity:{y:0}}},scene:{preload:function(){window.mySoundPlayer=new SoundPlayer;window.translator=new Translator;window.newsReader=new NewsReader;window.newsReader.readNews();var a=window.innerWidth,b=this.add.graphics(),e=this.add.graphics();e.fillStyle(2236962,.8);e.fillRect(.1*a,270,.8*a,50);this.load.on("progress",function(c){b.clear();b.fillStyle(16777215,
1);b.fillRect(.15*a,280,.7*a*c,30)});this.load.on("fileprogress",function(a){});this.load.on("complete",function(){b.destroy();e.destroy()});window.mySoundPlayer.preloadSoundsFromGame(this);this.load.atlas({key:"allGraphics",textureURL:"art/art.png",atlasURL:"art/art.json"});this.load.atlas({key:"allGraphics2",textureURL:"art/art3.png",atlasURL:"art/art3.json"})},create:function(){var a=new BottleScreen(this);a.init();b.bottleScreen=a;this.input.on("pointerdown",a.downCallBack,a);this.input.on("pointerup",
a.upCallBack,a);this.input.on("pointermove",a.moveCallBack,a);this.input.on("gameout",a.outCallBack,a);b.resize(window.innerWidth,window.innerHeight)},update:function(a,b){window.bottleScreen&&window.bottleScreen.update(a,b)},resize:function(){}},title:"Babel Tower by Airapport",version:"1.0.7.6",enableDebug:!1},b=new Phaser.Game(a);b.resize=function(c,d){void 0===c&&(c=a.width);void 0===d&&(d=a.height);var e=750,f=1334;this.bottleScreen&&(e=this.bottleScreen.w0,f=this.bottleScreen.h0);if(50<=c&&
50<=d){var g=d/c;if(g>f/e){var h=e;e*=g;b.scale.setGameSize(h,e);b.scale.displaySize.resize(c,c*g)}else h=f/g,e=f,b.scale.setGameSize(f/g,f),b.scale.displaySize.resize(d/g,d);window.bottleScreen&&window.bottleScreen.react2NewSize(h,e)}};b.clearBeforeRender=!1;window.game=b;window.addEventListener("resize",function(a){b&&b.resize(window.innerWidth,window.innerHeight)},!1);window.portalWrapper=new PortalInteractionWrapper;window.portalWrapper.onInit();window.manualSizeChecker={lastW:0,lastH:window.innerHeight,
timer:setInterval(function(){window.innerWidth==window.manualSizeChecker.lastW&&window.innerHeight==window.manualSizeChecker.lastH||!window.bottleScreen||(window.game.resize(window.innerWidth,window.innerHeight),window.manualSizeChecker.lastW=window.innerWidth,window.manualSizeChecker.lastH=window.innerHeight)},100)}};var PortalInteractionWrapper=function(){this.hasPreloadedRewarded=this.hasPreloadedInterstitial=!1;this.preparedReward=null;this.lastAdsShowMoment=0;this.minTimeBetweenAds=1E4};PortalInteractionWrapper.prototype.onInit=function(a){this.preloadInterstitial();this.preloadRewarded()};PortalInteractionWrapper.prototype.onLevelComplete=function(a){};PortalInteractionWrapper.prototype.preloadInterstitial=function(){};PortalInteractionWrapper.prototype.preloadRewarded=function(){};
PortalInteractionWrapper.prototype.isRewardedAdReady=function(){return Date.now()-this.lastAdsShowMoment>=this.minTimeBetweenAds?this.hasPreloadedRewarded:!1};PortalInteractionWrapper.prototype.isInterstitialAdReady=function(){return Date.now()-this.lastAdsShowMoment>=this.minTimeBetweenAds?this.hasPreloadedInterstitial:!1};PortalInteractionWrapper.prototype.showInterstitial=function(a){};PortalInteractionWrapper.prototype.showRewarded=function(a,b){};
PortalInteractionWrapper.prototype.givePreparedReward=function(){window.bottleScreen.world.giveReward(this.preparedReward)};BottleScreen=function(a,b){this.config={mustClearSave:!1,completeStoreyQuickly:!1,cheapBricks:!1,hideAllUpgradeButtons:!1,tradeArtfactsForBricks:!0};window.bottleScreen=this;window.addEventListener("blur",this.onDeactivate,!1);window.addEventListener("beforeunload",this.onJustClose,!1);window.lastDeactivationMoment=0;this.utils=new Utils;this.game=a;this.scene=b;this.hudGrp=this.grp=this.bgd=null;this.gameHeight=this.gameWidth=this.h0=this.w0=1200;this.topMargin=this.leftMargin=0;this.screenZeroX=
this.w0/2;this.screenZeroY=this.h0/2;this.screenVisHalfW=this.w0/2;this.screenVisHalfH=this.h0/2;this.guiController=new GUIController(this);this.lastUpdateMoment=0};
BottleScreen.prototype={init:function(){this.statsWrapper=new StatsWrapper;this.bgd=this.game.add.image(0,0,"allGraphics2","w000_tmpSquare4new0000");this.bgd.tint=6737151;this.grp=this.game.add.container();this.bgd.displayWidth=this.w0;this.bgd.displayHeight=this.h0;this.bgd.x=this.bgd.displayWidth/2;this.bgd.y=this.bgd.displayHeight/2;this.grp.add(this.bgd);var a=this.game.add.image(0,0,"allGraphics2","w000_smallScreenButtons4new0000");this.grp.add(a);a=this.game.add.image(this.w0,0,"allGraphics2",
"w000_smallScreenButtons4new0000");this.grp.add(a);a=this.game.add.image(0,this.h0,"allGraphics2","w000_smallScreenButtons4new0000");this.grp.add(a);a=this.game.add.image(this.w0,this.h0,"allGraphics2","w000_smallScreenButtons4new0000");this.grp.add(a);this.hudGrp=this.game.add.container();this.world=new BabelWorld(this,BabelHUD,BabelBallanser,BabelPurchaser);this.world.hud.showStartScreen();this.worldTime4Control=0;this.isWaiting4ActualUpdateEvent=!0;this.reserveInterval=1E4;setInterval(this.checkWorldUpdate,
this.reserveInterval);setInterval(this.doOncePerMinute,6E4)},checkWorldUpdate:function(){var a=window.bottleScreen;a.lastUpdateMoment>a.worldTime4Control+.5*a.reserveInterval||a.update(a.worldTime4Control+a.reserveInterval,a.reserveInterval);a.worldTime4Control=a.lastUpdateMoment},doOncePerMinute:function(){window.bottleScreen.saveCurrentWorld()},saveCurrentWorld:function(){this.world&&this.world.doSaving()},update:function(a,b){0!=this.lastUpdateMoment&&(b=a-this.lastUpdateMoment,0>b&&(b=0));this.lastUpdateMoment=
a;this.isWaiting4ActualUpdateEvent&&(this.worldTime4Control=this.lastUpdateMoment,this.isWaiting4ActualUpdateEvent=!1);this.world&&(3E4<b&&(this.world.fixAwayTime(b),b=16),this.world.update(a,b))},outCallBack:function(a){this.world.outCallBack()},downCallBack:function(a){this.world.downCallBack(a.x,a.y,a.x-this.grp.x,a.y-this.grp.y)},upCallBack:function(a){this.world.upCallBack(a.x,a.y,a.x-this.grp.x,a.y-this.grp.y)},moveCallBack:function(a){this.world.movCallBack(a.x,a.y,a.x-this.grp.x,a.y-this.grp.y,
a.isDown)},react2NewSize:function(a,b){this.gameWidth=a;this.gameHeight=b;this.leftMargin=(this.gameWidth-this.w0)/2;this.topMargin=(this.gameHeight-this.h0)/2;this.grp.x=this.leftMargin;this.grp.y=this.topMargin;this.bgd.displayWidth=this.gameWidth+10;this.bgd.displayHeight=this.gameHeight+10;this.world&&(this.world.updateUnmovableBGDs(),this.world.updateHUD())},onJustClose:function(a){window.bottleScreen.saveCurrentWorld()},onDeactivate:function(a){a=Date.now();1E3<a-window.lastDeactivationMoment&&
(window.lastDeactivationMoment=a,window.bottleScreen.saveCurrentWorld())},openLinkAndTrack:function(a,b){window.open(a);b&&window.bottleScreen.statsWrapper.sendEvent("click_link",b,1)}};var GUIController=function(a){this.myBottleScreen=a;this.buttonsList=[]};GUIController.prototype.registerButton=function(a){this.buttonsList.push(a)};var Utils=function(){this.bigNumbersEndings=["k","m","b","t"];this.alphabet="abcdefghijklmnopqrstuvwxyz";this.bigAlphabet=" 0123456789.,;:!?/_+-=~#$^&*()[]{}<>%@|'\u00bf\u00a1AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz"};
Utils.prototype.showTimeAsText=function(a,b){b&&(a*=1E3);a=Math.round(a);b=[];for(var c=[1E3,60,60,24,7,4.35,12],d="ms;s;m;h; days; weeks; months; years".split(";"),e=0;e<c.length;){var f=c[e];b.push(a%f);a=Math.floor(a/f);e++;if(0==a)break}0<a&&(b.push(a),e++);return 1<e?b[e-1]+d[e-1]+" "+b[e-2]+d[e-2]:"0"};
Utils.prototype.showNumberAsText=function(a){if(1>a).0049999999>a?a="0":(a=(Math.round(100*a)/100).toString(),4<a.length&&(a=a.substr(0,4)));else if(1E3>a)a=this.convertSmallNumber2String(a);else{var b=Math.floor(Math.log10(a)/3);a=this.convertSmallNumber2String(a/Math.pow(10,3*b));a=b<=this.bigNumbersEndings.length?a+this.bigNumbersEndings[b-1]:a+("e"+3*b)}return a};
Utils.prototype.convertSmallNumber2String=function(a){a=(Math.round(100*a)/100).toString();4<a.length&&(a=a.substr(0,4));"."==a[a.length-1]&&(a=a.substr(0,a.length-1));return a};Utils.prototype.saveString2Ar=function(a,b,c){if(c&&""!=c){a[b+0]=c.length;b++;for(var d=0;d<c.length;d++){var e=c.charAt(d);e=this.bigAlphabet.indexOf(e);a[b+0]=e;b++}return b}a[b+0]=0;return b+1};
Utils.prototype.loadStringFromAr=function(a,b){var c={id:b,str:""},d=a[b+0];c.str="";b++;for(var e=0;e<d;e++){var f=a[b];f=-1==f?" ":this.bigAlphabet.charAt(f);c.str+=f;b++}c.id=b;return c};Utils.prototype.saveNumAr2Ar=function(a,b,c){var d=c.length;a[b+0]=d;b++;for(var e=0;e<d;e++)a[b+0]=c[e],b++;return b};Utils.prototype.loadNumArFromAr=function(a,b,c){c.length=0;var d=a[b+0];b++;for(var e=0;e<d;e++)c.push(a[b+0]),b++;return b};
Utils.prototype.loadLocalNumber=function(a,b,c){var d=localStorage.getItem(a);"null"!=d&&null!=d&&""!=d?b=eval(d):c&&localStorage.setItem(a,b);return b};Utils.prototype.getDistBetweenPoints=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Utils.prototype.getIdOfArOfWeights=function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];b*=Math.random();for(c=0;b>a[c];)if(b-=a[c],c++,c>=a.length){c=a.length-1;break}return c};
Utils.prototype.sendEmailWithCaptionAndText=function(a,b){window.open("mailto:general@cardswars.com?subject="+a+"&body="+b)};Utils.prototype.openLink=function(a){window.open(a)};
var SoundPlayer=function(){this.isSoundEnabled=!0;this.isTemporarilyMuted=!1;this.soundsList=[{code:"buttonDown",num:2,config:{volume:1}},{code:"buttonUp",num:2,config:{volume:1}},{code:"coinDrop",num:5,config:{volume:1}},{code:"hammerHit",num:5,config:{volume:1}},{code:"knockWood",num:5,config:{volume:1}},{code:"oreLoad",num:4,config:{volume:.5}},{code:"pumpSound",num:5,config:{volume:1}},{code:"chopSound",num:5,config:{volume:.25}},{code:"drum",num:4,config:{volume:1}},{code:"winchLong",num:4,config:{volume:1}},
{code:"winchShort",num:7,config:{volume:1}},{code:"waterFlush",num:3,config:{volume:.5}},{code:"thunderbolt",num:1,config:{volume:1}},{code:"hoseWater",num:5,config:{volume:.25}},{code:"rain",num:4,config:{volume:1}},{code:"windmillMechanism",num:4,config:{volume:1}},{code:"saw",num:7,config:{volume:.25}},{code:"woodSaw",num:7,config:{volume:1}},{code:"cogTick",num:4,config:{volume:1}}];this.createdSounds={};this.myGame=null;this.numsOfCodes={};this.configsOfCodes={};for(var a=0;a<this.soundsList.length;a++)this.numsOfCodes[this.soundsList[a].code]=
this.soundsList[a].num,this.configsOfCodes[this.soundsList[a].code]=this.soundsList[a].config};SoundPlayer.prototype.preloadSoundsFromGame=function(a){this.myGame=a;for(var b=0;b<this.soundsList.length;b++){var c=this.soundsList[b],d=c.code;c=c.num;for(var e=0;e<c;e++)a.load.audio(d+e,["sounds/snd_"+d+"_"+e+".mp3","sounds/snd_"+d+"_"+e+".ogg"])}this.isSoundEnabled="true"==localStorage.getItem("soundOn")};
SoundPlayer.prototype.playSound=function(a){if(this.isSoundEnabled&&!this.isTemporarilyMuted){var b=this.numsOfCodes[a];if(0!=b&&!isNaN(b)&&null!=b){b=a+Math.floor(Math.random()*b);var c=this.createdSounds[b];c||(c=window.game.sound.add(b),this.createdSounds[b]=c);c.play(this.configsOfCodes[a])}}};SoundPlayer.prototype.switchSound=function(a){this.isSoundEnabled=a;localStorage.setItem("soundOn",this.isSoundEnabled?"true":"false")};
SoundPlayer.prototype.setTemporarilyMute=function(a){this.isTemporarilyMuted=a};
var Translator=function(){this.lettersInTextCode="QWERTYUIOPASDFGHJKLZXCVBNM_0123456789";this.availableLangs=["en","ru","uk","de"];this.allPhrases={};this.allPhrases.TXID_CAP_INF_LEVEL={en:"level",ru:"\u0443\u0440\u043e\u0432\u0435\u043d\u044c",uk:"\u0440\u0456\u0432\u0435\u043d\u044c",de:"Ebene"};this.allPhrases.TXID_CAP_INF_MONEY={en:"Money",ru:"\u0414\u0435\u043d\u044c\u0433\u0438",uk:"\u0433\u0440\u043e\u0448\u0456",de:"Geld"};this.allPhrases.TXID_CAP_INF_NOTENOGHMONEY={en:"Not enough money",
ru:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u0435\u043d\u0435\u0433",uk:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u043a\u043e\u0448\u0442\u0456\u0432",de:"Nicht genug Geld"};this.allPhrases.TXID_CAP_INF_PURCHPRICE={en:"PURCHASE PRICE",ru:"\u0426\u0415\u041d\u0410 \u041f\u041e\u041a\u0423\u041f\u041a\u0418",uk:"\u0426\u0406\u041d\u0410 \u041f\u041e\u041a\u0423\u041f\u041a\u0418",de:"KAUFPREIS"};this.allPhrases.TXID_CAP_INF_USEMARKET_BEG=
{en:"Consider selling some resources at the",ru:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0440\u043e\u0434\u0430\u0442\u044c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u043d\u0430",uk:"\u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0440\u043e\u0434\u0430\u0442\u0438 \u0434\u0435\u044f\u043a\u0456 \u0440\u0435\u0441\u0443\u0440\u0441\u0438 \u043d\u0430",de:"\u00dcberlege dir einige Ressourcen auf"};
this.allPhrases.TXID_CAP_INF_USEMARKET_END={en:"to get more money",ru:"\u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u0435\u043d\u0435\u0433",uk:"\u0449\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0433\u0440\u043e\u0448\u0435\u0439",de:"zu verkaufen um mehr Geld zu bekommen"};this.allPhrases.TXID_CAP_INF_USEMARKET_MID={en:"Market",ru:"\u0420\u044b\u043d\u043a\u0435",
uk:"\u0440\u0438\u043d\u043a\u0443",de:"dem Markt"};this.allPhrases.TXID_CAP_UPGRADEPRICE={en:"UPGRADE PRICE",ru:"\u0426\u0415\u041d\u0410 \u0410\u041f\u0413\u0420\u0415\u0419\u0414\u0410",uk:"\u0426\u0406\u041d\u0410 \u0410\u041f\u0413\u0420\u0415\u0419\u0414\u0410",de:"UPGRADE PREIS"};this.allPhrases.TXID_GOODS_BRICKS={en:"bricks",ru:"\u043a\u0438\u0440\u043f\u0438\u0447\u0438",uk:"\u0446\u0435\u0433\u043b\u0430",de:"Ziegel"};this.allPhrases.TXID_GOODS_PLANKS={en:"planks",ru:"\u0434\u043e\u0441\u043a\u0438",
uk:"\u0434\u043e\u0448\u043a\u0438",de:"Bretter"};this.allPhrases.TXID_GOODS_STONE={en:"stone",ru:"\u043a\u0430\u043c\u0435\u043d\u044c",uk:"\u043a\u0430\u043c\u0456\u043d\u044c",de:"Stein"};this.allPhrases.TXID_GOODS_WOOD={en:"wood",ru:"\u0434\u0435\u0440\u0435\u0432\u043e",uk:"\u0434\u0435\u0440\u0435\u0432\u043e",de:"Holz"};this.allPhrases.TXID_MACH_DESC_BABELTOWER={en:"The main object here",ru:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 \u0437\u0434\u0430\u043d\u0438\u0435",uk:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430 \u0431\u0443\u0434\u0456\u0432\u043b\u044f",
de:"Das Hauptziel hier"};this.allPhrases.TXID_MACH_DESC_BERTH={en:"Attracts tourists on flying machines and earns money",ru:"\u041f\u0440\u0438\u0432\u043b\u0435\u043a\u0430\u0435\u0442 \u0442\u0443\u0440\u0438\u0441\u0442\u043e\u0432 \u043d\u0430 \u043b\u0435\u0442\u0430\u044e\u0449\u0438\u0445 \u043c\u0430\u0448\u0438\u043d\u0430\u0445 \u0438 \u0437\u0430\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0434\u0435\u043d\u044c\u0433\u0438",uk:"\u041f\u0440\u0438\u0432\u0430\u0431\u043b\u044e\u0454 \u0442\u0443\u0440\u0438\u0441\u0442\u0456\u0432 \u043d\u0430 \u043b\u0456\u0442\u0430\u044e\u0447\u0438\u0445 \u043c\u0430\u0448\u0438\u043d\u0430\u0445 \u0456 \u0437\u0430\u0440\u043e\u0431\u043b\u044f\u0454 \u0433\u0440\u043e\u0448\u0456",
de:"Zieht Touristen auf Flugmaschinen an und verdient Geld"};this.allPhrases.TXID_MACH_DESC_BRICKSSTORAGE={en:"Stores Bricks. Bricks can be sold from it",ru:"\u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439. \u041e\u0442\u0441\u044e\u0434\u0430 \u043a\u0438\u0440\u043f\u0438\u0447\u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c",uk:"\u0421\u0445\u043e\u0432\u0438\u0449\u0435 \u0446\u0435\u0433\u043b\u0438. \u0417\u0432\u0456\u0434\u0441\u0438 \u0446\u0435\u0433\u043b\u0438\u043d\u0438 \u043c\u043e\u0436\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u0438",
de:"Bewahrt Ziegel auf. Ziegel k\u00f6nnen hiervon verkauft werden"};this.allPhrases.TXID_MACH_DESC_CLOUD={en:"Waters ground below",ru:"\u041f\u043e\u043b\u0438\u0432\u0430\u0435\u0442 \u0437\u0435\u043c\u043b\u044e \u043f\u043e\u0434 \u043d\u0438\u043c",uk:"\u041f\u043e\u043b\u0438\u0432\u0430\u0454 \u0437\u0435\u043c\u043b\u044e \u043f\u0456\u0434 \u043d\u0438\u043c",de:"W\u00e4ssert den Boden"};this.allPhrases.TXID_MACH_DESC_CONNECTION={en:"Connects objects",ru:"\u0421\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442\u044b",
uk:"\u043f\u043e\u0454\u0434\u043d\u0443\u0454 \u043e\u0431'\u0454\u043a\u0442\u0438",de:"Verbindet Objekte"};this.allPhrases.TXID_MACH_DESC_CRANE={en:"Brings bricks to the higher levels of the Tower",ru:"\u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u0442 \u043a\u0438\u0440\u043f\u0438\u0447\u0438 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u0432\u044b\u0441\u043e\u043a\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u0438 \u0431\u0430\u0448\u043d\u0438",uk:"\u041f\u0456\u0434\u043d\u0456\u043c\u0430\u0454 \u0446\u0435\u0433\u043b\u0438\u043d\u0438 \u043d\u0430 \u0431\u0456\u043b\u044c\u0448 \u0432\u0438\u0441\u043e\u043a\u0456 \u0440\u0456\u0432\u043d\u0456 \u0432\u0435\u0436\u0456",
de:"Bringt Ziegel zu den h\u00f6heren Ebenen des Turms"};this.allPhrases.TXID_MACH_DESC_DRUMMER={en:"Creates the rhythm for the faster work of the transporter",ru:"\u0421\u043e\u0437\u0434\u0430\u0451\u0442 \u0440\u0438\u0442\u043c \u0434\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u0431\u044b\u0441\u0442\u0440\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u043e\u0432",uk:"\u0421\u0442\u0432\u043e\u0440\u044e\u0454 \u0440\u0438\u0442\u043c \u0434\u043b\u044f \u0448\u0432\u0438\u0434\u0448\u043e\u0457 \u0440\u043e\u0431\u043e\u0442\u0438 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432",
de:"Erzeugt den Rhythmus f\u00fcr die schnellere Arbeit des Transporters"};this.allPhrases.TXID_MACH_DESC_FOREST={en:"Source of Wood. Can be depleted. Grows slowly, faster if gets water",ru:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b. \u041c\u043e\u0436\u0435\u0442 \u0438\u0441\u0442\u043e\u0449\u0430\u0442\u044c\u0441\u044f. \u0420\u0430\u0441\u0442\u0435\u0442 \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e, \u043d\u043e \u0431\u044b\u0441\u0442\u0440\u0435\u0435, \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0432\u043e\u0434\u0443",
uk:"\u0414\u0436\u0435\u0440\u0435\u043b\u043e \u0434\u0435\u0440\u0435\u0432\u0438\u043d\u0438. \u041c\u043e\u0436\u0435 \u0432\u0438\u0441\u043d\u0430\u0436\u0443\u0432\u0430\u0442\u0438\u0441\u044f. \u0417\u0440\u043e\u0441\u0442\u0430\u0454 \u043f\u043e\u0432\u0456\u043b\u044c\u043d\u043e, \u0430\u043b\u0435 \u0448\u0432\u0438\u0434\u0448\u0435, \u044f\u043a\u0449\u043e \u043e\u0442\u0440\u0438\u043c\u0443\u0454 \u0432\u043e\u0434\u0443",de:"Quelle von Holz. Kann ersch\u00f6pfen. W\u00e4chst langsam, w\u00e4chst schneller, wenn es bew\u00e4ssert wird"};
this.allPhrases.TXID_MACH_DESC_LIFTENGINE={en:"Increases the elevator speed",ru:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u044a\u0451\u043c\u043d\u0438\u043a\u0430",uk:"\u0417\u0431\u0456\u043b\u044c\u0448\u0443\u0454 \u0448\u0432\u0438\u0434\u043a\u0456\u0441\u0442\u044c \u043f\u0456\u0434\u0439\u043e\u043c\u043d\u0438\u043a\u0430",de:"Erh\u00f6ht die Aufzugsgeschwindigkeit"};this.allPhrases.TXID_MACH_DESC_LUMBERMILL=
{en:"Converts Wood into Planks",ru:"\u041f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0414\u0435\u0440\u0435\u0432\u043e \u0432 \u0414\u043e\u0441\u043a\u0438",uk:"\u041f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u044e\u0454 \u0414\u0435\u0440\u0435\u0432\u043e \u0432 \u0414\u043e\u0448\u043a\u0438",de:"Wandelt Holz in Bretter um"};this.allPhrases.TXID_MACH_DESC_PLANKSSTORAGE={en:"Stores Planks. Planks can be sold from it",ru:"\u0421\u043a\u043b\u0430\u0434 \u0414\u043e\u0441\u043e\u043a. \u0421 \u043d\u0435\u0433\u043e \u0414\u043e\u0441\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c",
uk:"\u0421\u043a\u043b\u0430\u0434 \u0414\u043e\u0449\u043e\u043a. \u0417 \u043d\u044c\u043e\u0433\u043e \u0414\u043e\u0448\u043a\u0438 \u043c\u043e\u0436\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u0438",de:"Bewahrt Bretter auf. Bretter k\u00f6nnen hiervon verkauft werden"};this.allPhrases.TXID_MACH_DESC_PUMP={en:"Pumps water from the Well automatically",ru:"\u041a\u0430\u0447\u0430\u0435\u0442 \u0432\u043e\u0434\u0443 \u0438\u0437 \u043a\u043e\u043b\u043e\u0434\u0446\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438",
uk:"\u041a\u0430\u0447\u0430\u0454 \u0432\u043e\u0434\u0443 \u0437 \u043a\u043e\u043b\u043e\u0434\u044f\u0437\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e",de:"Pumpt Wasser automatisch aus dem Brunnen"};this.allPhrases.TXID_MACH_DESC_QUARRY={en:"Source of Stone",ru:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043a\u0430\u043c\u043d\u044f",uk:"\u0434\u0436\u0435\u0440\u0435\u043b\u043e \u043a\u0430\u043c\u0435\u043d\u044e",de:"Steinquelle"};this.allPhrases.TXID_MACH_DESC_QUARRYSTORAGE=
{en:"Stores Stone. Stone can be sold from it",ru:"\u0421\u043a\u043b\u0430\u0434 \u041a\u0430\u043c\u043d\u044f. \u0421 \u043d\u0435\u0433\u043e \u041a\u0430\u043c\u0435\u043d\u044c \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c",uk:"\u0421\u043a\u043b\u0430\u0434 \u041a\u0430\u043c\u0435\u043d\u044f. \u0417 \u043d\u044c\u043e\u0433\u043e \u041a\u0430\u043c\u0456\u043d\u044c \u043c\u043e\u0436\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u0438",
de:"Bewahrt Steine auf. Steine k\u00f6nnen hiervon verkauft werden"};this.allPhrases.TXID_MACH_DESC_SAW={en:"Converts Stone into Bricks",ru:"\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442 \u041a\u0430\u043c\u0435\u043d\u044c \u0432 \u041a\u0438\u0440\u043f\u0438\u0447\u0438",uk:"\u041f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u044e\u044d \u041a\u0430\u043c\u0456\u043d\u044c \u043d\u0430 \u0426\u0435\u0433\u043b\u0443",de:"Wandelt Stein in Ziegel um"};this.allPhrases.TXID_MACH_DESC_SLOT=
{en:"Slot for the next object",ru:"\u0421\u043b\u043e\u0442 \u0434\u043b\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430",uk:"\u0421\u043b\u043e\u0442 \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u043e\u0431'\u0454\u043a\u0442\u0430",de:"Platz f\u00fcr das n\u00e4chste Objekt"};this.allPhrases.TXID_MACH_DESC_SMOKEMACHINE={en:"Creates clouds",ru:"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u043e\u0431\u043b\u0430\u043a\u0430",
uk:"\u0441\u0442\u0432\u043e\u0440\u044e\u0454 \u0445\u043c\u0430\u0440\u0438",de:"erzeugt Wolken"};this.allPhrases.TXID_MACH_DESC_TRANSPORTER={en:"Transports goods",ru:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u044b",uk:"\u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0443\u0454 \u0442\u043e\u0432\u0430\u0440\u0438",de:"Transportiert Waren"};this.allPhrases.TXID_MACH_DESC_WATERWELL={en:"Contains Water. Can be depleted. Restores water inside by itself (faster when it's raining)",
ru:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0432\u043e\u0434\u0443. \u041c\u043e\u0436\u0435\u0442 \u0438\u0441\u0441\u044f\u043a\u0430\u0442\u044c. \u041f\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f (\u0431\u044b\u0441\u0442\u0440\u0435\u0435, \u043a\u043e\u0433\u0434\u0430 \u0438\u0434\u0435\u0442 \u0434\u043e\u0436\u0434\u044c)",uk:"\u041c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u043e\u0434\u0443. \u041c\u043e\u0436\u0435 \u0432\u0438\u0447\u0435\u0440\u043f\u0443\u0432\u0430\u0442\u0438\u0441\u044f. \u041f\u043e\u0441\u0442\u0443\u043f\u043e\u0432\u043e \u0437\u0430\u043f\u043e\u0432\u043d\u044e\u0454\u0442\u044c\u0441\u044f (\u0448\u0432\u0438\u0434\u0448\u0435, \u043a\u043e\u043b\u0438 \u0439\u0434\u0435 \u0434\u043e\u0449)",
de:"Enth\u00e4lt Wasser. Kann ersch\u00f6pfen. Stellt langsam Wasser her (schneller, wenn es regnet)"};this.allPhrases.TXID_MACH_DESC_WOODSTORAGE={en:"Stores Wood. Wood can be sold from it",ru:"\u0421\u043a\u043b\u0430\u0434 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b. \u0414\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0443 \u0441 \u043d\u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c",uk:"\u0421\u043a\u043b\u0430\u0434 \u0434\u0435\u0440\u0435\u0432\u0438\u043d\u0438. \u0414\u0435\u0440\u0435\u0432\u0438\u043d\u0443 \u0437 \u043d\u044c\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u0438",
de:"Bewahrt Holz auf. Holz kann hiervon verkauft werden"};this.allPhrases.TXID_MACH_DESC_ZEPPELIN={en:"Travels from faraway to see your magnificent tower",ru:"\u041f\u0440\u0438\u043b\u0435\u0442\u0430\u0435\u0442 \u0438\u0437 \u0434\u0430\u043b\u044c\u043d\u0438\u0445 \u0441\u0442\u0440\u0430\u043d, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0430\u0448\u0443 \u0432\u0435\u043b\u0438\u043a\u043e\u043b\u0435\u043f\u043d\u0443\u044e \u0431\u0430\u0448\u043d\u044e",
uk:"\u041f\u0440\u0438\u043b\u0456\u0442\u0430\u0454 \u0437 \u0434\u0430\u043b\u0435\u043a\u0438\u0445 \u043a\u0440\u0430\u0457\u043d, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0432\u0430\u0448\u0443 \u0447\u0443\u0434\u043e\u0432\u0443 \u0432\u0435\u0436\u0443",de:"Reisen aus dem Fernen um Ihren pr\u00e4chtigen Turm zu sehen"};this.allPhrases.TXID_MACH_NAME_BABELTOWER={en:"Babel tower",ru:"\u0412\u0430\u0432\u0438\u043b\u043e\u043d\u0441\u043a\u0430\u044f \u0431\u0430\u0448\u043d\u044f",
uk:"\u0412\u0430\u0432\u0438\u043b\u043e\u043d\u0441\u044c\u043a\u0430 \u0432\u0435\u0436\u0430",de:"Turm zu Babel"};this.allPhrases.TXID_MACH_NAME_BERTH={en:"Berth",ru:"\u041f\u0440\u0438\u0447\u0430\u043b",uk:"\u043f\u0440\u0438\u0447\u0430\u043b",de:"Liegeplatz"};this.allPhrases.TXID_MACH_NAME_BRICKSSTORAGE={en:"Brick Storage",ru:"\u0421\u043a\u043b\u0430\u0434 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439",uk:"\u0441\u043a\u043b\u0430\u0434 \u0446\u0435\u0433\u043b\u0438",de:"Ziegellager"};
this.allPhrases.TXID_MACH_NAME_CLOUD={en:"Cloud",ru:"\u041e\u0431\u043b\u0430\u043a\u043e",uk:"\u0445\u043c\u0430\u0440\u0430",de:"Wolke"};this.allPhrases.TXID_MACH_NAME_CONNECTION={en:"Connection",ru:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",uk:"\u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f",de:"Verbindung"};this.allPhrases.TXID_MACH_NAME_CRANE={en:"Crane",ru:"\u041f\u043e\u0434\u044a\u0435\u043c\u043d\u0438\u043a",uk:"\u043f\u0456\u0434\u0439\u043e\u043c\u043d\u0438\u043a",
de:"Kran"};this.allPhrases.TXID_MACH_NAME_DRUMMER={en:"Drummer",ru:"\u0411\u0430\u0440\u0430\u0431\u0430\u043d",uk:"\u0431\u0430\u0440\u0430\u0431\u0430\u043d",de:"Schlagzeuger"};this.allPhrases.TXID_MACH_NAME_FOREST={en:"Forest",ru:"\u041b\u0435\u0441",uk:"\u043b\u0456\u0441",de:"Wald"};this.allPhrases.TXID_MACH_NAME_LIFTENGINE={en:"Lift Engine",ru:"\u0414\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u044c \u0434\u043b\u044f \u041f\u043e\u0434\u044a\u0451\u043c\u043d\u0438\u043a\u0430",uk:"\u0414\u0432\u0438\u0433\u0443\u043d \u0434\u043b\u044f \u043f\u0456\u0434\u0439\u043e\u043c\u043d\u0438\u043a\u0456\u0432",
de:"Auzugsmotor"};this.allPhrases.TXID_MACH_NAME_LUMBERMILL={en:"Lumbermill",ru:"\u041b\u0435\u0441\u043e\u043f\u0438\u043b\u043a\u0430",uk:"\u041b\u0456\u0441\u043e\u043f\u0438\u043b\u043a\u0430",de:"S\u00e4gewerk"};this.allPhrases.TXID_MACH_NAME_PLANKSSTORAGE={en:"Planks Storage",ru:"\u0421\u043a\u043b\u0430\u0434 \u0414\u043e\u0441\u043e\u043a",uk:"\u0441\u043a\u043b\u0430\u0434 \u0414\u043e\u0449\u043e\u043a",de:"Bretterlager"};this.allPhrases.TXID_MACH_NAME_PUMP={en:"Water Pump",ru:"\u041d\u0430\u0441\u043e\u0441",
uk:"\u043d\u0430\u0441\u043e\u0441",de:"Wasserpumpe"};this.allPhrases.TXID_MACH_NAME_QUARRY={en:"Quarry",ru:"\u041a\u0430\u0440\u044c\u0435\u0440",uk:"\u043a\u0430\u0440'\u0454\u0440",de:"Steinbruch"};this.allPhrases.TXID_MACH_NAME_QUARRYSTORAGE={en:"Stones Storage",ru:"\u0421\u043a\u043b\u0430\u0434 \u041a\u0430\u043c\u043d\u044f",uk:"\u0441\u043a\u043b\u0430\u0434 \u041a\u0430\u043c\u0435\u043d\u044f",de:"Steinlager"};this.allPhrases.TXID_MACH_NAME_SAW={en:"Bricks Producer",ru:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439",
uk:"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a \u0446\u0435\u0433\u043b\u0438",de:"Ziegler"};this.allPhrases.TXID_MACH_NAME_SLOT={en:"Purchase Slot",ru:"\u0421\u043b\u043e\u0442 \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438",uk:"\u0421\u043b\u043e\u0442 \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438",de:"Kaufplatz"};this.allPhrases.TXID_MACH_NAME_SMOKEMACHINE={en:"Smoke Machine",ru:"\u0414\u044b\u043c\u043e\u0432\u0430\u044f \u043c\u0430\u0448\u0438\u043d\u0430",
uk:"\u0434\u0438\u043c\u043e\u0432\u0430 \u043c\u0430\u0448\u0438\u043d\u0430",de:"Nebelmaschine"};this.allPhrases.TXID_MACH_NAME_TRANSPORTER={en:"Transporter",ru:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0449\u0438\u043a",uk:"\u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u043b\u044c\u043d\u0438\u043a",de:"Transporter"};this.allPhrases.TXID_MACH_NAME_WATERWELL={en:"Water Well",ru:"\u041a\u043e\u043b\u043e\u0434\u0435\u0446",uk:"\u041a\u043e\u043b\u043e\u0434\u044f\u0437\u044c",
de:"Brunnen"};this.allPhrases.TXID_MACH_NAME_WOODSTORAGE={en:"Wood Storage",ru:"\u0421\u043a\u043b\u0430\u0434 \u0414\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b",uk:"\u0441\u043a\u043b\u0430\u0434 \u0414\u0435\u0440\u0435\u0432\u0438\u043d\u0438",de:"Holzlager"};this.allPhrases.TXID_MACH_NAME_ZEPPELIN={en:"Zeppelin",ru:"\u0414\u0438\u0440\u0438\u0436\u0430\u0431\u043b\u044c",uk:"\u0434\u0438\u0440\u0438\u0436\u0430\u0431\u043b\u044c",de:"Zeppelin"};this.allPhrases.TXID_MACH_NAME_ELEPHANT={en:"Elephant",
ru:"\u0421\u043b\u043e\u043d",uk:"\u0441\u043b\u043e\u043d",de:"Elefant"};this.allPhrases.TXID_MACH_DESC_ELEPHANT={en:"Transports much more stone than human",ru:"\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0438\u0442 \u043d\u0430\u043c\u043d\u043e\u0433\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u043a\u0430\u043c\u043d\u044f, \u0447\u0435\u043c \u0447\u0435\u043b\u043e\u0432\u0435\u043a",uk:"\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0438\u0442\u044c \u043d\u0430\u0431\u0430\u0433\u0430\u0442\u043e \u0431\u0456\u043b\u044c\u0448\u0435 \u043a\u0430\u043c\u0435\u043d\u044e, \u043d\u0456\u0436 \u043b\u044e\u0434\u0438\u043d\u0430",
de:"Transport viel mehr Stein als ein Mensch"};this.allPhrases.TXID_MACH_NAME_HAYSTACK={en:"Haystack",ru:"\u0421\u0442\u043e\u0433",uk:"\u0441\u0442\u0456\u0433",de:"Heuhaufen"};this.allPhrases.TXID_MACH_DESC_HAYSTACK={en:"Contains hay for the elephant",ru:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u0435\u043d\u043e \u0434\u043b\u044f \u0441\u043b\u043e\u043d\u0430",uk:"\u041c\u0456\u0441\u0442\u0438\u0442\u044c \u0441\u0456\u043d\u043e \u0434\u043b\u044f \u0441\u043b\u043e\u043d\u0430",
de:"Enth\u00e4lt Heu f\u00fcr den Elefanten"};this.allPhrases.TXID_MACH_NAME_FIELD={en:"Field",ru:"\u041f\u043e\u043b\u0435",uk:"\u043f\u043e\u043b\u0435",de:"Feld"};this.allPhrases.TXID_MACH_DESC_FIELD={en:"Grows grass to feed the elephant",ru:"\u0420\u0430\u0441\u0442\u0438\u0442 \u0442\u0440\u0430\u0432\u0443 \u0434\u043b\u044f \u0441\u043b\u043e\u043d\u0430",uk:"\u0420\u043e\u0441\u0442\u0438\u0442\u044c \u0442\u0440\u0430\u0432\u0443 \u0434\u043b\u044f \u0441\u043b\u043e\u043d\u0430",de:"Produziert Gras, um den Elefanten zu f\u00fcttern"};
this.allPhrases.TXID_MACH_NAME_CLOCK={en:"Clock",ru:"\u0427\u0430\u0441\u044b",uk:"\u0413\u043e\u0434\u0438\u043d\u043d\u0438\u043a",de:"Uhr"};this.allPhrases.TXID_MACH_DESC_CLOCK={en:"Boosts time speeding",ru:"\u0423\u0441\u0438\u043b\u0438\u0432\u0430\u0435\u0442 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",uk:"\u041f\u0456\u0434\u0441\u0438\u043b\u044e\u0454 \u043f\u0440\u0438\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u044f \u0447\u0430\u0441\u0443",
de:"Verst\u00e4rkt die Zeitbeschleunigung"};this.allPhrases.TXID_MSG_SELLREING_BEG={en:"Sell",ru:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c",uk:"\u043f\u0440\u043e\u0434\u0430\u0442\u0438"};this.allPhrases.TXID_MSG_SELLREING_END={en:"coins",ru:"\u043c\u043e\u043d\u0435\u0442",uk:"\u043c\u043e\u043d\u0435\u0442",de:"M\u00fcnzen verkaufen"};this.allPhrases.TXID_MSG_SELLREING_MID={en:"for",ru:"\u0437\u0430",uk:"\u0437\u0430",de:"f\u00fcr"};this.allPhrases.TXID_MSGANS_CONTACT={en:"CONTACT",ru:"\u041d\u0410\u041f\u0418\u0421\u0410\u0422\u042c",
uk:"\u041d\u0410\u041f\u0418\u0421\u0410\u0422\u0418",de:"KONTAKT"};this.allPhrases.TXID_MSGANS_NO={en:"NO",ru:"\u041d\u0415\u0422",uk:"\u041d\u0406",de:"NEIN"};this.allPhrases.TXID_MSGANS_OK={en:"OK",ru:"\u041e\u041a",uk:"\u041e\u041a",de:"OK"};this.allPhrases.TXID_MSGCAP_MENU={en:"MENU",ru:"\u041c\u0415\u041d\u042e",uk:"\u041c\u0415\u041d\u042e",de:"MEN\u00dc"};this.allPhrases.TXID_MSGCAP_BOOSTNAME_CLICK={en:"Click power",ru:"\u0421\u0438\u043b\u0430 \u043a\u043b\u0438\u043a\u0430",uk:"\u0441\u0438\u043b\u0430 \u043a\u043b\u0456\u043a\u0430",
de:"Klickst\u00e4rke"};this.allPhrases.TXID_MSGCAP_BOOSTNAME_PRICE={en:"Market prices",ru:"\u0426\u0435\u043d\u044b \u043d\u0430 \u0440\u044b\u043d\u043a\u0435",uk:"\u0426\u0456\u043d\u0438 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443",de:"Marktpreise"};this.allPhrases.TXID_MSGCAP_BOOSTNAME_PROD={en:"Production",ru:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e",uk:"\u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0446\u0442\u0432\u043e",de:"Produktion"};this.allPhrases.TXID_MSGCAP_BUILDINHEIGHT_END=
{en:"tower",ru:"\u0443\u0440\u043e\u0432\u043d\u044f",uk:"\u0440\u0456\u0432\u043d\u044f",de:"des Turm gebaut"};this.allPhrases.TXID_MSGCAP_BUILDINHEIGHT_START={en:"You have built level",ru:"\u0412\u044b \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u043b\u0438 \u0431\u0430\u0448\u043d\u044e",uk:"\u0412\u0438 \u043f\u043e\u0431\u0443\u0434\u0443\u0432\u0430\u043b\u0438 \u0432\u0435\u0436\u0443",de:"Du hast Ebene"};this.allPhrases.TXID_MSGCAP_CREDITSAUTHORS={en:"Game by Airapport team Alexey Izvalov & Nadiia Serbina \u00a9 2020 All rights reserved",
ru:"\u0418\u0433\u0440\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u044b Airapport \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0418\u0437\u0432\u0430\u043b\u043e\u0432 \u0438 \u041d\u0430\u0434\u0435\u0436\u0434\u0430 \u0421\u0435\u0440\u0431\u0438\u043d\u0430  \u00a9 2020 \u0412\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b",uk:"\u0413\u0440\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 Airapport \u041e\u043b\u0435\u043a\u0441\u0456\u0439 \u0406\u0437\u0432\u0430\u043b\u043e\u0432 \u0456 \u041d\u0430\u0434\u0456\u044f \u0421\u0435\u0440\u0431\u0456\u043d\u0430 \u00a9 2020 \u0412\u0441\u0456 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0445\u0438\u0449\u0435\u043d\u0456",
de:"Ein Spiel von Airapport Team Alexey Izvalov & Nadiia Serbina \u00a9 2020 Alle Rechte vorbehalten"};this.allPhrases.TXID_MSGCAP_CREDITSMORE={en:"Sound by Freesound.org users samplediaries, deleted-user-7146007, pcwvdmark, lucae, cj-ascoli, inspectorj, robinhood76, spacejoe, hazure",ru:"\u0417\u0432\u0443\u043a \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 freesound.org: samplediaries, deleted-user-7146007, pcwvdmark, lucae, cj-ascoli, inspectorj, robinhood76, spacejoe, hazure",
uk:"\u0417\u0432\u0443\u043a \u0432\u0456\u0434 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 freesound.org: samplediaries, deleted-user-7146007, pcwvdmark, lucae, cj-ascoli, inspectorj, robinhood76, spacejoe, hazure",de:"Sound von Freesound.org Benutzern samplediaries, gel\u00f6scht-user-7146007, pcwvdmark, Lucae, cj-ascoli, inspectorj, robinhood76, spacejoe, zu"};this.allPhrases.TXID_MSGCAP_CREDITSTHANKS={en:"Many thanks to Andrew Chupryna, Vlad Kovalenko, Dmitrijus Babicius, Dima Kucherenko, Yaroslav Rybachenko for video feedback!'",
ru:"\u041e\u0433\u0440\u043e\u043c\u043d\u0430\u044f \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c Andrew Chupryna, Vlad Kovalenko, Dmitrijus Babicius, Dima Kucherenko, Yaroslav Rybachenko \u0437\u0430 \u0432\u0438\u0434\u0435\u043e\u043e\u0431\u0437\u043e\u0440\u044b!",uk:"\u0412\u0435\u043b\u0438\u0447\u0435\u0437\u043d\u0430 \u043f\u043e\u0434\u044f\u043a\u0430 Andrew Chupryna, Vlad Kovalenko, Dmitrijus Babicius, Dima Kucherenko, Yaroslav Rybachenko \u0437\u0430 \u0432\u0456\u0434\u0435\u043e\u043e\u0433\u043b\u044f\u0434\u0438!",
de:"Vielen Dank an Andrew Chupryna, Vlad Kovalenko, Dmitrijus Babicius, Dima Kucherenko, Yaroslav Rybachenko f\u00fcr Video-Feedback!\u2018"};this.allPhrases.TXID_MSGCAP_ERRORLOADING={en:"Error while loading file",ru:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430",uk:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u0456 \u0444\u0430\u0439\u043b\u0443",
de:"Fehler beim Laden der Datei"};this.allPhrases.TXID_MSGCAP_FUTUREGB_END={en:"Golden Bricks",ru:"\u0417\u043e\u043b\u043e\u0442\u044b\u0445 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439",uk:"\u0417\u043e\u043b\u043e\u0442\u0438\u0445 \u0426\u0435\u0433\u043b\u0438\u043d",de:"goldene Ziegel"};this.allPhrases.TXID_MSGCAP_FUTUREGB_START={en:"If you restart now you'll get",ru:"\u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0441\u0435\u0439\u0447\u0430\u0441, \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435",
uk:"\u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0431\u0443\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u0437\u0430\u0440\u0430\u0437, \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u0454\u0442\u0435",de:"Wenn du jetzt neu startest bekommst du"};this.allPhrases.TXID_MSGCAP_NEXTRUNBOOSTS={en:"On the next run you'll have such boosts",ru:"\u041f\u0440\u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0443 \u0432\u0430\u0441 \u0431\u0443\u0434\u0443\u0442 \u0442\u0430\u043a\u0438\u0435 \u0431\u043e\u043d\u0443\u0441\u044b",
uk:"\u041f\u0440\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u0443 \u0432\u0430\u0441 \u0431\u0443\u0434\u0443\u0442\u044c \u0442\u0430\u043a\u0456 \u0431\u043e\u043d\u0443\u0441\u0438",de:"Bei der n\u00e4chsten Runde hast du folgende Vorteile"};this.allPhrases.TXID_MSGCAP_NOTHING2SELL={en:"Nothing to sell",ru:"\u041d\u0435\u0447\u0435\u0433\u043e \u043f\u0440\u043e\u0434\u0430\u0442\u044c",uk:"\u043d\u0456\u0447\u043e\u0433\u043e \u043f\u0440\u043e\u0434\u0430\u0442\u0438",
de:"Nichts zu verkaufen"};this.allPhrases.TXID_MSGCAP_RESTART_BOOST_CAP={en:"You have the following boosts now:",ru:"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0431\u043e\u043d\u0443\u0441\u044b:",uk:"\u0423 \u0432\u0430\u0441 \u0454 \u0442\u0430\u043a\u0456 \u0431\u043e\u043d\u0443\u0441\u0438:",de:"Du hast jetzt folgende Vorteile:"};this.allPhrases.TXID_MSGCAP_RESTART_INFORMATION={en:"Congratulations, you have restarted!",ru:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c, \u0432\u044b \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e!",
uk:"\u0412\u0456\u0442\u0430\u0454\u043c\u043e, \u0432\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u0431\u0443\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e!",de:"Gratulation, du hast neu gestartet!"};this.allPhrases.TXID_MSGCAP_RESTART_QUESTION={en:"Do you really want to restart the building?",ru:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u0439\u043a\u0443?",
uk:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0438 \u0431\u0443\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e?",de:"Willst du wirklich das Geb\u00e4ude neustarten?"};this.allPhrases.TXID_MSGCAP_SELLRESOURCES={en:"SELL RESOURCES",ru:"\u041f\u0420\u041e\u0414\u0410\u0422\u042c \u0420\u0415\u0421\u0423\u0420\u0421\u042b",uk:"\u041f\u0420\u041e\u0414\u0410\u0422\u0418 \u0420\u0415\u0421\u0423\u0420\u0421\u0418",
de:"RESSOURCEN VERKAUFEN"};this.allPhrases.TXID_MSGCAP_TUT_AUTOTRANSFERSTONE={en:"Hold the mouse pushed on the Storage to transfer the stone to the Saw and make Bricks",ru:"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043c\u044b\u0448\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043a\u0430\u043c\u0435\u043d\u044c \u043d\u0430 \u041f\u0438\u043b\u0443 \u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u041a\u0438\u0440\u043f\u0438\u0447\u0438",
uk:"\u0423\u0442\u0440\u0438\u043c\u0443\u0439\u0442\u0435 \u043d\u0430\u0442\u0438\u0441\u043a\u0430\u043d\u043d\u044f \u043c\u0438\u0448\u0456 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u0438 \u043a\u0430\u043c\u0456\u043d\u044c \u043d\u0430 \u041f\u0438\u043b\u0443 \u0456 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0426\u0435\u0433\u043b\u0443",de:"Halte die Maus auf dem Lager gedr\u00fcckt um den Stein zum Ziegler zu transportieren"};
this.allPhrases.TXID_MSGCAP_TUT_AUTOTRANSFERWOOD={en:"Hold the mouse pushed on the Storage to transfer the Wood to the Lumbermill and make Planks",ru:"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043c\u044b\u0448\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0434\u0435\u0440\u0435\u0432\u043e \u043d\u0430 \u041b\u0435\u0441\u043e\u043f\u0438\u043b\u043a\u0443 \u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0414\u043e\u0441\u043a\u0438",
uk:"\u0423\u0442\u0440\u0438\u043c\u0443\u0439\u0442\u0435 \u043d\u0430\u0442\u0438\u0441\u043a\u0430\u043d\u043d\u044f \u043c\u0438\u0448\u0456 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u0438 \u0434\u0435\u0440\u0435\u0432\u043e \u043d\u0430 \u041b\u0456\u0441\u043e\u043f\u0438\u043b\u043a\u0443 \u0456 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0414\u043e\u0448\u043a\u0438",de:"Halte die Maus auf dem Lager gedr\u00fcckt um das Holz zur S\u00e4gem\u00fchle zu transportieren"};
this.allPhrases.TXID_MSGCAP_TUT_AWAYPHRASE={en:"You were away for",ru:"\u0412\u044b \u0431\u044b\u043b\u0438 \u0432\u043d\u0435 \u0438\u0433\u0440\u044b \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435",uk:"\u0412\u0438 \u0431\u0443\u043b\u0438 \u043f\u043e\u0437\u0430 \u0433\u0440\u043e\u044e \u043f\u0440\u043e\u0442\u044f\u0433\u043e\u043c",de:"Du warst weg f\u00fcr"};this.allPhrases.TXID_MSGCAP_TUT_BONUSTIMEEARN={en:"Time bonus received",ru:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f",
uk:"\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043d\u0438\u0439 \u0447\u0430\u0441",de:"Zeitbonus erhalten"};this.allPhrases.TXID_MSGCAP_TUT_CHOP={en:"Tap the Forest to chop wood Chopping goes on while your finger is down",ru:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043b\u0435\u0441 \u0447\u0442\u043e\u0431\u044b \u0440\u0443\u0431\u0438\u0442\u044c \u0434\u0440\u043e\u0432\u0430 \u0420\u0443\u0431\u043a\u0430 \u043b\u0435\u0441\u0430 \u0438\u0434\u0451\u0442, \u043f\u043e\u043a\u0430 \u043d\u0430\u0436\u0430\u0442\u0430 \u043a\u043b\u0430\u0432\u0438\u0448\u0430 \u043c\u044b\u0448\u0438",
uk:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u043b\u0456\u0441 \u0449\u043e\u0431 \u0440\u0443\u0431\u0430\u0442\u0438 \u0434\u0440\u043e\u0432\u0430 \u0420\u0443\u0431\u043a\u0430 \u043b\u0456\u0441\u0443 \u0439\u0434\u0435, \u043f\u043e\u043a\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u043c\u0438\u0448\u0456",de:"Tippe auf den Wald um Holz zu hacken. Halte die Maustaste um dauerhaft zu hacken"};this.allPhrases.TXID_MSGCAP_TUT_CRANENEEDED=
{en:"We need a crane to build higher tower",ru:"\u041d\u0430\u043c \u043d\u0443\u0436\u0435\u043d \u043a\u0440\u0430\u043d, \u0447\u0442\u043e\u0431\u044b \u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0431\u0430\u0448\u043d\u044e \u0432\u044b\u0448\u0435",uk:"\u041d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u0435\u043d \u043a\u0440\u0430\u043d, \u0449\u043e\u0431 \u0431\u0443\u0434\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u0436\u0443 \u0432\u0438\u0449\u0435",de:"Wir brauchen einen Kran um einen h\u00f6heren Turm zu bauen"};
this.allPhrases.TXID_MSGCAP_TUT_DRAGWATER={en:"Drag Water to the Forest to grow new trees",ru:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0432\u043e\u0434\u0443 \u0432 \u043b\u0435\u0441, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0440\u0430\u0441\u0442\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0434\u0435\u0440\u0435\u0432\u044c\u044f",uk:"\u041f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0432\u043e\u0434\u0443 \u0432 \u043b\u0456\u0441, \u0449\u043e\u0431 \u0432\u0438\u0440\u043e\u0441\u0442\u0438\u0442\u0438 \u043d\u043e\u0432\u0456 \u0434\u0435\u0440\u0435\u0432\u0430",
de:"Ziehe Wasser zum Wald um neue B\u00e4ume wachsen zu lassen"};this.allPhrases.TXID_MSGCAP_TUT_HIGHTOWERMOREBRICKS={en:"Higher tower stories need much more bricks",ru:"\u041d\u0430 \u0431\u043e\u043b\u0435\u0435 \u0432\u044b\u0441\u043e\u043a\u0438\u0435 \u044d\u0442\u0430\u0436\u0438 \u0431\u0430\u0448\u043d\u0438 \u043d\u0443\u0436\u043d\u043e \u0433\u043e\u0440\u0430\u0437\u0434\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439",uk:"\u041d\u0430 \u0432\u0438\u0449\u0456 \u043f\u043e\u0432\u0435\u0440\u0445\u0438 \u0432\u0435\u0436\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043d\u0430\u0431\u0430\u0433\u0430\u0442\u043e \u0431\u0456\u043b\u044c\u0448\u0435 \u0446\u0435\u0433\u043b\u0438",
de:"H\u00f6here Turmebenen ben\u00f6tigen viel mehr Ziegel"};this.allPhrases.TXID_MSGCAP_TUT_LUMBERMILL={en:"Tap the lumbermill to produce desks quicker Work goes on while your finger is down",ru:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043b\u0435\u0441\u043e\u043f\u0438\u043b\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u044c \u0434\u043e\u0441\u043a\u0438. \u0420\u0430\u0431\u043e\u0442\u0430 \u0438\u0434\u0451\u0442, \u043f\u043e\u043a\u0430 \u043d\u0430\u0436\u0430\u0442\u0430 \u043a\u043b\u0430\u0432\u0438\u0448\u0430 \u043c\u044b\u0448\u0438",
uk:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u043b\u0456\u0441\u043e\u043f\u0438\u043b\u043a\u0443, \u0449\u043e\u0431 \u0448\u0432\u0438\u0434\u0448\u0435 \u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0442\u0438 \u0434\u043e\u0448\u043a\u0438. \u0420\u043e\u0431\u043e\u0442\u0430 \u0439\u0434\u0435, \u043f\u043e\u043a\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u043c\u0438\u0448\u0456",de:"Tippe auf die S\u00e4gem\u00fchle um Bretter herzustellen. Halte die Maustaste um dauerhaft herzustellen"};
this.allPhrases.TXID_MSGCAP_TUT_MARKET={en:"You can sell resources at the market",ru:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u043d\u0430 \u0440\u044b\u043d\u043a\u0435",uk:"\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0438 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443",de:"Du kannst Ressourcen auf dem Markt verkaufen"};
this.allPhrases.TXID_MSGCAP_TUT_MINE={en:"Tap the Quarry to mine Stone Mining goes on while your finger is down",ru:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u041a\u0430\u0440\u044c\u0435\u0440, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u044b\u0432\u0430\u0442\u044c \u041a\u0430\u043c\u0435\u043d\u044c. \u0414\u043e\u0431\u044b\u0447\u0430 \u0438\u0434\u0451\u0442, \u043f\u043e\u043a\u0430 \u043d\u0430\u0436\u0430\u0442\u0430 \u043a\u043b\u0430\u0432\u0438\u0448\u0430 \u043c\u044b\u0448\u0438",
uk:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u041a\u0430\u0440'\u0454\u0440, \u0449\u043e\u0431 \u0434\u043e\u0431\u0443\u0432\u0430\u0442\u0438 \u041a\u0430\u043c\u0456\u043d\u044c. \u0412\u0438\u0434\u043e\u0431\u0443\u0442\u043e\u043a \u0439\u0434\u0435, \u043f\u043e\u043a\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u043c\u0438\u0448\u0456",de:"Tippe auf den Steinbruch um Steine abzubauen. Halte die Maustaste um dauerhaft abzubauen"};
this.allPhrases.TXID_MSGCAP_TUT_PRODUCEBRICKS={en:"Tap the tent to produce bricks quicker Work goes on while your finger is down",ru:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043f\u0430\u043b\u0430\u0442\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u044c \u043a\u0438\u0440\u043f\u0438\u0447\u0438. \u0420\u0430\u0431\u043e\u0442\u0430 \u0438\u0434\u0451\u0442, \u043f\u043e\u043a\u0430 \u043d\u0430\u0436\u0430\u0442\u0430 \u043a\u043b\u0430\u0432\u0438\u0448\u0430 \u043c\u044b\u0448\u0438",
uk:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u043d\u0430\u043c\u0435\u0442, \u0449\u043e\u0431 \u0448\u0432\u0438\u0434\u0448\u0435 \u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0442\u0438 \u0446\u0435\u0433\u043b\u0443. \u0420\u043e\u0431\u043e\u0442\u0430 \u0439\u0434\u0435, \u043f\u043e\u043a\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u043c\u0438\u0448\u0456",de:"Tippe auf den Ziegler um Ziegel herzustellen. Halte die Maustaste um dauerhaft herzustellen"};
this.allPhrases.TXID_MSGCAP_TUT_RESTART={en:"Check which bonuses will you gain if you restart the building",ru:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435, \u043a\u0430\u043a\u0438\u0435 \u0431\u043e\u043d\u0443\u0441\u044b \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435, \u0435\u0441\u043b\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u0439\u043a\u0443",uk:"\u041f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f, \u044f\u043a\u0456 \u0431\u043e\u043d\u0443\u0441\u0438 \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u0454\u0442\u0435, \u044f\u043a\u0449\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0431\u0443\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e",
de:"\u00dcberpr\u00fcfe welche Vorteile du bekommst wenn du das Geb\u00e4ude neu startest"};this.allPhrases.TXID_MSGCAP_YOURECEIVED={en:"You received",ru:"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438",uk:"\u0412\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438",de:"Du erhielst"};this.allPhrases.TXID_PHRASE_ARTIFACTS_BEG={en:"You have",ru:"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c",uk:"\u0423 \u0432\u0430\u0441 \u0454",de:"Du hast"};this.allPhrases.TXID_PHRASE_ARTIFACTS_END=
{en:"artifacts Check if you can buy more",ru:"\u0410\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u043c\u043e\u0436\u0435\u0442\u0435 \u043b\u0438 \u0432\u044b \u043a\u0443\u043f\u0438\u0442\u044c \u0435\u0449\u0451",uk:"\u0410\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u0456\u0432 \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0447\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438 \u043a\u0443\u043f\u0438\u0442\u0438 \u0449\u0435",
de:"Artefakte. \u00dcberpr\u00fcfe, ob du mehr kaufen kannst"};this.allPhrases.TXID_PHRASE_GB_BEG={en:"You have",ru:"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c",uk:"\u0423 \u0432\u0430\u0441 \u0454",de:"Du hast"};this.allPhrases.TXID_PHRASE_GB_END={en:"Golden Bricks",ru:"\u0417\u043e\u043b\u043e\u0442\u044b\u0445 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439",uk:"\u0437\u043e\u043b\u043e\u0442\u0438\u0445 \u0446\u0435\u0433\u043b\u0438\u043d",de:"goldene Ziegel"};this.allPhrases.TXID_PHRASE_OWNED=
{en:"Owned",ru:"\u0418\u043c\u0435\u0435\u0442\u0441\u044f",uk:"\u041c\u0430\u0454\u043c\u043e",de:"Im Besitz"};this.allPhrases.TXID_PHRASE_RESTARTINFO_BEG={en:"You can receive",ru:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c",uk:"\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438",de:"Du kannst"};this.allPhrases.TXID_PHRASE_RESTARTINFO_END={en:"Golden Bricks if you restart now",ru:"\u0417\u043e\u043b\u043e\u0442\u044b\u0445 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439 \u0435\u0441\u043b\u0438 \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u0439\u043a\u0443",
uk:"\u0417\u043e\u043b\u043e\u0442\u0438\u0445 \u0446\u0435\u0433\u043b\u0438\u043d \u044f\u043a\u0449\u043e \u0437\u0430\u0440\u0430\u0437 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0431\u0443\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e",de:"goldene Ziegel erhalten wenn du jetzt neu startest"};this.allPhrases.TXID_PHRASE_RESTARTINFO_NEXT_BEG={en:"Or",ru:"\u0418\u043b\u0438",uk:"\u0410\u0431\u043e",de:"Oder"};this.allPhrases.TXID_PHRASE_RESTARTINFO_NEXT_END=
{en:"if you restart after you complete one more floor",ru:"\u0435\u0441\u043b\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435, \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0432 \u0435\u0449\u0451 \u043e\u0434\u0438\u043d \u044d\u0442\u0430\u0436",uk:"\u044f\u043a\u0449\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435, \u043f\u043e\u0431\u0443\u0434\u0443\u0432\u0430\u0432\u0448\u0438 \u0449\u0435 \u043e\u0434\u0438\u043d \u043f\u043e\u0432\u0435\u0440\u0445",
de:"wenn du nach der n\u00e4chsten Ebene neu startest"};this.allPhrases.TXID_UPGRNAME_BRICKNUMBER={en:"Number of bricks created",ru:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439",uk:"\u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0454 \u0446\u0435\u0433\u043b\u0438",de:"Anzahl erstellter Steine"};this.allPhrases.TXID_UPGRNAME_BRICKTIME={en:"Brick processing time",ru:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430 \u043a\u0438\u0440\u043f\u0438\u0447\u0430",
uk:"\u0427\u0430\u0441 \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0446\u0442\u0432\u0430 \u0446\u0435\u0433\u043b\u0438",de:"Ziegel Herstelldauer"};this.allPhrases.TXID_UPGRNAME_CHOPPERS={en:"Choppers",ru:"\u041b\u0435\u0441\u043e\u0440\u0443\u0431\u044b",uk:"\u043b\u0456\u0441\u043e\u0440\u0443\u0431\u0438",de:"Holzf\u00e4ller"};this.allPhrases.TXID_UPGRNAME_CLOUDPOWER={en:"Cloud growth speed",ru:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0440\u043e\u0441\u0442\u0430 \u041e\u0431\u043b\u0430\u043a\u0430",
uk:"\u0428\u0432\u0438\u0434\u043a\u0456\u0441\u0442\u044c \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f \u0425\u043c\u0430\u0440\u0438",de:"Wachstumsgeschwindigkeit der Wolke"};this.allPhrases.TXID_UPGRNAME_DRUMPOWER={en:"Speed Increasing power",ru:"\u0421\u0438\u043b\u0430 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u044f",uk:"\u0441\u0438\u043b\u0430 \u043f\u0440\u0438\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u044f",de:"Zunehmende Geschwindigkeit"};this.allPhrases.TXID_UPGRNAME_MINERS=
{en:"Miners",ru:"\u0428\u0430\u0445\u0442\u0435\u0440\u044b",uk:"\u0448\u0430\u0445\u0442\u0430\u0440\u0456",de:"Minenarbeiter"};this.allPhrases.TXID_UPGRNAME_PLANKSTIME={en:"Number of planks created",ru:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442 \u0434\u043e\u0441\u043e\u043a",uk:"\u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0454 \u0434\u043e\u0449\u043e\u043a",de:"Anzahl erstellter Bretter"};this.allPhrases.TXID_UPGRNAME_PUMPPOWER={en:"Water pumping power",ru:"\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u043a\u0430\u0447\u043a\u0438 \u0432\u043e\u0434\u044b",
uk:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c \u043d\u0430\u043a\u0430\u0447\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u043e\u0434\u0438",de:"Wasserpumpleistung"};this.allPhrases.TXID_UPGRNAME_STONE={en:"Stone from tap",ru:"\u041a\u0430\u043c\u043d\u044f \u0437\u0430 \u043d\u0430\u0436\u0430\u0442\u0438\u0435",uk:"\u041a\u0430\u043c\u0435\u043d\u044e \u0437\u0430 \u043d\u0430\u0442\u0438\u0441\u043a\u0430\u043d\u043d\u044f",de:"Stein pro Klick"};this.allPhrases.TXID_UPGRNAME_TRANSPORT=
{en:"Transport capacity",ru:"\u041e\u0431\u044a\u0435\u043c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",uk:"\u043e\u0431\u0441\u044f\u0433 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f",de:"Transportkapazit\u00e4t"};this.allPhrases.TXID_UPGRNAME_FIELD={en:"Grass from tap",ru:"\u0422\u0440\u0430\u0432\u044b \u0437\u0430 \u043d\u0430\u0436\u0430\u0442\u0438\u0435",uk:"\u0422\u0440\u0430\u0432\u0438 \u0437\u0430 \u043d\u0430\u0442\u0438\u0441\u043a\u0430\u043d\u043d\u044f",
de:"Grass pro Klick"};this.allPhrases.TXID_UPGRNAME_MOWERS={en:"Mowers",ru:"\u041a\u043e\u0441\u0430\u0440\u0438",uk:"\u041a\u043e\u0441\u0430\u0440\u0456",de:"Bauern"};this.allPhrases.TXID_UPGRNAME_BERTH={en:"Money from tourists",ru:"\u0414\u0435\u043d\u0435\u0433 \u0441 \u0442\u0443\u0440\u0438\u0441\u0442\u043e\u0432",uk:"\u0413\u0440\u043e\u0448\u0435\u0439 \u0437 \u0442\u0443\u0440\u0438\u0441\u0442\u0456\u0432",de:"Geld von Touristen"};this.allPhrases.TXID_UPGRNAME_CLOCKSPEED={en:"Time speed-up bonus",
ru:"\u0411\u043e\u043d\u0443\u0441 \u043a \u0445\u043e\u0434\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",uk:"\u0411\u043e\u043d\u0443\u0441 \u0434\u043e \u0445\u043e\u0434\u0443 \u0447\u0430\u0441\u0443",de:"Zeitbeschleunigungs-Bonus"};this.allPhrases.TXID_UPGRNAME_WOOD={en:"Wood from tap",ru:"\u0414\u0435\u0440\u0435\u0432\u0430 \u0437\u0430 \u043d\u0430\u0436\u0430\u0442\u0438\u0435",uk:"\u0414\u0435\u0440\u0435\u0432\u0430 \u0437\u0430 \u043d\u0430\u0442\u0438\u0441\u043a\u0430\u043d\u043d\u044f",
de:"Holz pro Klick"};this.allPhrases.TXID_UPGRNAME_WOODTIME={en:"Wood processing time",ru:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430 \u0414\u043e\u0441\u043a\u0438",uk:"\u0427\u0430\u0441 \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0446\u0442\u0432\u0430 \u0414\u043e\u0448\u043a\u0438",de:"Holzabbaugeschwindigkeit"};this.allPhrases.TXID_UPGRUNITS_SEC={en:"sec",ru:"\u0441\u0435\u043a",uk:"\u0441\u0435\u043a",de:"Sekunde"};this.allPhrases.TXID_UPGRUNITS_WATERPERSEC=
{en:"w/sec",ru:"\u0432\u043e\u0434\u044b / \u0441\u0435\u043a",uk:"\u0432\u043e\u0434\u0438 / \u0441\u0435\u043a",de:"w / sec"};this.allPhrases.TXID_WORD_COINS={en:"coins",ru:"\u043c\u043e\u043d\u0435\u0442",uk:"\u043c\u043e\u043d\u0435\u0442",de:"M\u00fcnzen"};this.allPhrases.TXID_CAP_ARTIFACTS={en:"ARTIFACTS",ru:"\u0410\u0420\u0422\u0415\u0424\u0410\u041a\u0422\u042b",uk:"\u0410\u0420\u0422\u0415\u0424\u0410\u041a\u0422\u0418",de:"ARTEFAKTE"};this.allPhrases.TXID_CAP_BOOSTS={en:"BOOSTS",ru:"\u0411\u041e\u041d\u0423\u0421\u042b",
uk:"\u0411\u041e\u041d\u0423\u0421\u0418",de:"VORTEILE"};this.allPhrases.TXID_CAP_CREDITS={en:"CREDITS",ru:"\u0410\u0412\u0422\u041e\u0420\u042b",uk:"\u0410\u0412\u0422\u041e\u0420\u0418",de:"CREDITS"};this.allPhrases.TXID_CAP_MARKET={en:"MARKET",ru:"\u0420\u042b\u041d\u041e\u041a",uk:"\u0420\u0418\u041d\u041e\u041a",de:"MARKT"};this.allPhrases.TXID_CAP_MOREGAMES={en:"MORE GAMES",ru:"\u041d\u0410\u0428\u0418 \u0418\u0413\u0420\u042b",uk:"\u041d\u0410\u0428\u0406 \u0406\u0413\u0420\u0418",de:"MEHR SPIELE"};
this.allPhrases.TXID_CAP_PURCHASE={en:"PURCHASE",ru:"\u041a\u0423\u041f\u0418\u0422\u042c",uk:"\u041a\u0423\u041f\u0418\u0422\u0418",de:"KAUF"};this.allPhrases.TXID_CAP_RESTART={en:"RESTART",ru:"\u041f\u0415\u0420\u0415\u0417\u0410\u041f\u0423\u0421\u041a",uk:"\u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a",de:"NEUSTART"};this.allPhrases.TXID_CAP_START={en:"START",ru:"\u0421\u0422\u0410\u0420\u0422",uk:"\u0421\u0422\u0410\u0420\u0422",de:"START"};this.allPhrases.TXID_CAP_UPGRADE={en:"UPGRADE",
ru:"\u0410\u041f\u0413\u0420\u0415\u0419\u0414",uk:"\u0430\u043f\u0433\u0440\u0435\u0439\u0434",de:"UPGRADE"};this.allPhrases.TXID_AFT_NAME_GPICKAXE={en:"Golden Pickaxe",ru:"\u0417\u043e\u043b\u043e\u0442\u0430\u044f \u043a\u0438\u0440\u043a\u0430",uk:"\u0417\u043e\u043b\u043e\u0442\u0430 \u043a\u0438\u0440\u043a\u0430",de:"Goldene Spitzhacke"};this.allPhrases.TXID_AFT_NAME_GWHEELBARROW={en:"Golden Wheelbarrow",ru:"\u0417\u043e\u043b\u043e\u0442\u0430\u044f \u0442\u0430\u0447\u043a\u0430",uk:"\u0417\u043e\u043b\u043e\u0442\u0430 \u0442\u0430\u0447\u043a\u0430",
de:"Goldene Schubkarre"};this.allPhrases.TXID_AFT_NAME_GBUCKET={en:"Golden Bucket",ru:"\u0417\u043e\u043b\u043e\u0442\u043e\u0435 \u0432\u0435\u0434\u0440\u043e",uk:"\u0417\u043e\u043b\u043e\u0442\u0435 \u0432\u0456\u0434\u0440\u043e",de:"Goldener Eimer"};this.allPhrases.TXID_AFT_NAME_GTREE={en:"Golden Tree",ru:"\u0417\u043e\u043b\u043e\u0442\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e",uk:"\u0417\u043e\u043b\u043e\u0442\u0435 \u0434\u0435\u0440\u0435\u0432\u043e",de:"Goldener Baum"};this.allPhrases.TXID_AFT_NAME_GCOIN=
{en:"Golden Coin",ru:"\u0417\u043e\u043b\u043e\u0442\u0430\u044f \u043c\u043e\u043d\u0435\u0442\u0430",uk:"\u0437\u043e\u043b\u043e\u0442\u0430 \u043c\u043e\u043d\u0435\u0442\u0430",de:"Goldene M\u00fcnze"};this.allPhrases.TXID_AFT_NAME_GTROWEL={en:"Golden Trowel",ru:"\u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u043a",uk:"\u0417\u043e\u043b\u043e\u0442\u0430 \u043a\u0435\u043b\u044c\u043c\u0430",de:"Goldene Maurerkelle"};this.allPhrases.TXID_AFT_DESC_GPICKAXE=
{en:"5x Stone mining",ru:"5x \u0414\u043e\u0431\u044b\u0447\u0438 \u043a\u0430\u043c\u043d\u044f",uk:"5x \u0412\u0438\u0434\u043e\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u043a\u0430\u043c\u0435\u043d\u044e",de:"5x Bergbau"};this.allPhrases.TXID_AFT_DESC_GWHEELBARROW={en:"5x Transport capacity",ru:"5\u0445 \u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",uk:"5\u0445 \u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f",
de:"5x Transportkapazit\u00e4t"};this.allPhrases.TXID_AFT_DESC_GBUCKET={en:"5x Water effects",ru:"5\u0445 \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0412\u043e\u0434\u044b",uk:"5\u0445 \u0414\u0456\u0457 \u0412\u043e\u0434\u0438",de:"5x Wassereffekte"};this.allPhrases.TXID_AFT_DESC_GTREE={en:"5x Forest Growth",ru:"5\u0445 \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0440\u043e\u0441\u0442\u0430 \u043b\u0435\u0441\u0430",uk:"5\u0445 \u0428\u0432\u0438\u0434\u043a\u043e\u0441\u0442\u0456 \u0440\u043e\u0441\u0442\u0443 \u043b\u0456\u0441\u0443",
de:"5x Waldwachstum"};this.allPhrases.TXID_AFT_DESC_GCOIN={en:"5x Market prices",ru:"5\u0445 \u0426\u0435\u043d\u044b \u043d\u0430 \u0440\u044b\u043d\u043a\u0435",uk:"5\u0445 \u0426\u0456\u043d\u0438 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443",de:"5x Marktpreise"};this.allPhrases.TXID_AFT_DESC_GTROWEL={en:"2x Tower construction",ru:"2\u0445 \u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0431\u0430\u0448\u043d\u0438",uk:"2\u0445 \u0411\u0443\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0430 \u0432\u0435\u0436\u0456",
de:"2x Turmbau"};this.allPhrases.TXID_CAP_NEWS={en:"NEWS",ru:"\u041d\u041e\u0412\u041e\u0421\u0422\u0418",uk:"\u041d\u041e\u0412\u0418\u041d\u0418",de:"NACHRICHTEN"};this.allPhrases.TXID_LANGSEL={en:"LANGUAGE SELECTION",ru:"\u0412\u042b\u0411\u041e\u0420 \u042f\u0417\u042b\u041a\u0410",uk:"\u0412\u0418\u0411\u0406\u0420 \u041c\u041e\u0412\u0418",de:"SPRACHAUSWAHL"};this.allPhrases.TXID_MACH_NAME_UNDERGROUNDWATER={en:"Underground Water",ru:"\u041f\u043e\u0434\u0437\u0435\u043c\u043d\u044b\u0435 \u0432\u043e\u0434\u044b",
uk:"\u041f\u0456\u0434\u0437\u0435\u043c\u043d\u0456 \u0432\u043e\u0434\u0438",de:"Grundwasser"};this.allPhrases.TXID_MACH_NAME_WATEREXTRACTOR={en:"Water extractor",ru:"\u044d\u043a\u0441\u0442\u0440\u0430\u043a\u0442\u043e\u0440 \u0432\u043e\u0434\u044b",uk:"\u0435\u043a\u0441\u0442\u0440\u0430\u043a\u0442\u043e\u0440 \u0432\u043e\u0434\u0438",de:"Wasserextraktors"};this.allPhrases.TXID_MACH_NAME_WATERSTORAGE={en:"Water storage",ru:"\u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0432\u043e\u0434\u044b",
uk:"\u0441\u0445\u043e\u0432\u0438\u0449\u0435 \u0432\u043e\u0434\u0438",de:"Wasser Lager"};this.allPhrases.TXID_MACH_NAME_CARAWANSARAI={en:"Caravanserai",ru:"\u043a\u0430\u0440\u0430\u0432\u0430\u043d-\u0441\u0430\u0440\u0430\u0439",uk:"\u043a\u0430\u0440\u0430\u0432\u0430\u043d-\u0441\u0430\u0440\u0430\u0439",de:"Karawanserei"};this.allPhrases.TXID_MACH_NAME_CAMEL={en:"Camel",ru:"\u0432\u0435\u0440\u0431\u043b\u044e\u0434",uk:"\u0432\u0435\u0440\u0431\u043b\u044e\u0434",de:"Kamel"};this.allPhrases.TXID_MACH_NAME_HELICOPTER=
{en:"Helicopter",ru:"\u0412\u0435\u0440\u0442\u043e\u043b\u0435\u0442",uk:"\u0412\u0435\u0440\u0442\u043e\u043b\u044c\u043e\u0442",de:"Hubschrauber"};this.allPhrases.TXID_MACH_NAME_HELICOPTERBALCONY={en:"Helicopter Balcony",ru:"\u0411\u0430\u0437\u0430 \u0412\u0435\u0440\u0442\u043e\u043b\u0435\u0442\u044b",uk:"\u0431\u0430\u0437\u0430 \u0432\u0435\u0440\u0442\u043e\u043b\u044c\u043e\u0442\u0443",de:"Hubschrauber Balkon"};this.allPhrases.TXID_MACH_DESC_UNDERGROUNDWATER={en:"Huge source of water",
ru:"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0432\u043e\u0434\u044b",uk:"\u0412\u0435\u043b\u0438\u0447\u0435\u0437\u043d\u0435 \u0434\u0436\u0435\u0440\u0435\u043b\u043e \u0432\u043e\u0434\u0438",de:"Riesige Wasserquelle"};this.allPhrases.TXID_MACH_DESC_WATEREXTRACTOR={en:"Extracts water from underground",ru:"\u0414\u043e\u0431\u044b\u0432\u0430\u0435\u0442 \u0432\u043e\u0434\u0443 \u0438\u0437-\u043f\u043e\u0434 \u0437\u0435\u043c\u043b\u0438",
uk:"\u0412\u0438\u0434\u043e\u0431\u0443\u0432\u0430\u0454 \u0432\u043e\u0434\u0443 \u0437-\u043f\u0456\u0434 \u0437\u0435\u043c\u043b\u0456",de:"Extrakte Wasser aus dem Untergrund"};this.allPhrases.TXID_MACH_DESC_WATERSTORAGE={en:"Stores water",ru:"\u0425\u0440\u0430\u043d\u0438\u0442 \u0437\u0430\u043f\u0430\u0441 \u0432\u043e\u0434\u0443",uk:"\u0417\u0431\u0435\u0440\u0456\u0433\u0430\u0454 \u0437\u0430\u043f\u0430\u0441 \u0432\u043e\u0434\u0438",de:"Shops Wasser"};this.allPhrases.TXID_MACH_DESC_CARAWANSARAI=
{en:"Buys your goods at good price",ru:"\u041f\u043e\u043a\u0443\u043f\u0430\u0435\u0442 \u0432\u0430\u0448\u0438 \u0442\u043e\u0432\u0430\u0440\u044b \u043f\u043e \u0445\u043e\u0440\u043e\u0448\u0435\u0439 \u0446\u0435\u043d\u0435",uk:"\u041a\u0443\u043f\u0443\u0454 \u0432\u0430\u0448\u0456 \u0442\u043e\u0432\u0430\u0440\u0438 \u0437\u0430 \u0445\u043e\u0440\u043e\u0448\u043e\u044e \u0446\u0456\u043d\u043e\u044e",de:"Kauft Ihre Waren zu einem guten Preis"};this.allPhrases.TXID_MACH_DESC_CAMEL={en:"Collects goods to purchase",
ru:"\u0421\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u044b \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",uk:"\u0417\u0431\u0438\u0440\u0430\u0454 \u0442\u043e\u0432\u0430\u0440\u0438 \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436",de:"Sammelt Waren zu kaufen"};this.allPhrases.TXID_MACH_DESC_HELICOPTER={en:"Explodes the rock to mine more stone",ru:"\u0412\u0437\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u0430\u043c\u043d\u0438 \u0432 \u043a\u0430\u043c\u0435\u043d\u043e\u043b\u043e\u043c\u043d\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043a\u043e\u0440\u0438\u0442\u044c \u0434\u043e\u0431\u044b\u0447\u0443",
uk:"\u041f\u0456\u0434\u0440\u0438\u0432\u0430\u0454 \u043a\u0430\u043c\u0435\u043d\u0456 \u0432 \u043a\u0430\u043c\u0435\u043d\u043e\u043b\u043e\u043c\u043d\u0456, \u0449\u043e\u0431 \u043f\u0440\u0438\u0441\u043a\u043e\u0440\u0438\u0442\u0438 \u0432\u0438\u0434\u043e\u0431\u0443\u0442\u043e\u043a",de:"Sprengt den Stein zu Stein Mine mehr"};this.allPhrases.TXID_MACH_DESC_HELICOPTERBALCONY={en:"Place to refuel and reload the helicopter",ru:"\u041c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438 \u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u0435\u0440\u0442\u043e\u043b\u0435\u0442\u0430",
uk:"\u041c\u0456\u0441\u0446\u0435 \u0434\u043b\u044f \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438 \u0456 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u0440\u0442\u043e\u043b\u044c\u043e\u0442\u0430",de:"Platz, um zu tanken und die Hubschrauber nachladen"};this.allPhrases.TXID_MSGCAP_VICTORY={en:"Victory! You reached the highest designed level! You can keep building beyond this limit, or play other games by Airapport",ru:"\u041f\u043e\u0431\u0435\u0434\u0430! \u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u044b\u0441\u043e\u043a\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0432 \u0438\u0433\u0440\u0435! \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438 \u0432\u044b\u0448\u0435 \u0438\u043b\u0438 \u043f\u043e\u0438\u0433\u0440\u0430\u0442\u044c \u0432 \u0434\u0440\u0443\u0433\u0438\u0435 \u0438\u0433\u0440\u044b \u043d\u0430 Airapport",
uk:"\u041f\u0435\u0440\u0435\u043c\u043e\u0433\u0430! \u0412\u0438 \u0434\u043e\u0441\u044f\u0433\u043b\u0438 \u043d\u0430\u0439\u0432\u0438\u0449\u043e\u0433\u043e \u0440\u0456\u0432\u043d\u044f \u0432 \u0433\u0440\u0456! \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0443\u0432\u0430\u0442\u0438 \u0431\u0443\u0434\u0443\u0432\u0430\u0442\u0438 \u0456 \u0432\u0438\u0449\u0435 \u0430\u0431\u043e \u043f\u043e\u0433\u0440\u0430\u0442\u0438 \u0432 \u0456\u043d\u0448\u0456 \u0456\u0433\u0440\u0438 \u043d\u0430 Airapport",
de:"Sieg! Sie erreichten das h\u00f6chste Niveau entworfen! Sie k\u00f6nnen Geb\u00e4ude \u00fcber diese Grenze hinaus halten, oder andere Spiele spielen, indem sie Airapport"};this.allPhrases.TXID_MSGANS_SUBMIT={en:"SUBMIT",ru:"\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c",uk:"\u041d\u0410\u0414\u0406\u0421\u041b\u0410\u0422\u0418",de:"EINREICHEN"};this.allPhrases.TXID_MSG_VIC={en:"I have completed the Babel Tower!",ru:"\u042f \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0412\u0430\u0432\u0438\u043b\u043e\u043d\u0441\u043a\u0443\u044e \u0431\u0430\u0448\u043d\u044e!",
uk:"\u042f \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0432 \u0412\u0430\u0432\u0438\u043b\u043e\u043d\u0441\u044c\u043a\u0443 \u0432\u0435\u0436\u0443!",de:"Ich habe den Turm zu Babel abgeschlossen!"};this.allPhrases.TXID_INF_GB={en:"Golden Bricks",ru:"\u0417\u043e\u043b\u043e\u0442\u044b\u0445 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439",uk:"\u0417\u043e\u043b\u043e\u0442\u0438\u0445 \u0446\u0435\u0433\u043b\u0438\u043d",de:"goldene Ziegel"};this.allPhrases.TXID_CAP_CARAWANSETTINGS={en:"Caravan autosell resources",
ru:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432",uk:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0438\u0439 \u043f\u0440\u043e\u0434\u0430\u0436 \u0440\u0435\u0441\u0443\u0440\u0441\u0456\u0432",de:"Caravan autosell Ressourcen"};this.allPhrases.TXID_MSGANS_YES={en:"YES",ru:"\u0414\u0410",uk:"\u0422\u0410\u041a",de:"JA"};this.allPhrases.TXID_UNITS_COINSEACH=
{en:"coins/ea",ru:"\u043c\u043e\u043d\u0435\u0442\u044b / \u0448\u0442",uk:"\u043c\u043e\u043d\u0435\u0442\u0438 / \u0448\u0442",de:"M\u00fcnzen / st"};this.allPhrases.TXID_GOODS_HAY={en:"hay",ru:"\u0441\u0435\u043d\u043e",uk:"\u0441\u0456\u043d\u043e",de:"Heu"};this.allPhrases.TXID_GOODS_WATER={en:"water",ru:"\u0432\u043e\u0434\u0430",uk:"\u0432\u043e\u0434\u0430",de:"Wasser"};this.allPhrases.TXID_MSG_SELL={en:"Sell",ru:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c",uk:"\u043f\u0440\u043e\u0434\u0430\u0442\u0438",
de:"Verkaufen"};this.allPhrases.TXID_UPGRNAME_WATEREXTRACTION={en:"Water extraction",ru:"\u0434\u043e\u0431\u044b\u0447\u0430 \u0432\u043e\u0434\u044b",uk:"\u0432\u0438\u0434\u043e\u0431\u0443\u0442\u043e\u043a \u0432\u043e\u0434\u0438",de:"Wassergewinnung"};this.allPhrases.TXID_UPGRNAME_CARAWANPRICE={en:"Market prices increase",ru:"\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u0446\u0435\u043d \u043d\u0430 \u0440\u044b\u043d\u043a\u0435",uk:"\u0417\u0431\u0456\u043b\u044c\u0448\u0435\u043d\u043d\u044f \u0446\u0456\u043d \u043d\u0430 \u0440\u0438\u043d\u043a\u0443",
de:"Die Marktpreise erh\u00f6hen"};this.allPhrases.TXID_UPGRNAME_HELIBOOMS={en:"Number of explosions",ru:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0440\u044f\u0434\u043e\u0432",uk:"\u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0437\u0430\u0440\u044f\u0434\u0456\u0432",de:"Anzahl der Explosionen"};this.allPhrases.TXID_UPGRNAME_HELIBOOMPOWER={en:"Explosion power",ru:"\u0421\u0438\u043b\u0430 \u0432\u0437\u0440\u044b\u0432\u0430",uk:"\u0441\u0438\u043b\u0430 \u0432\u0438\u0431\u0443\u0445\u0443",
de:"Explosionsleistung"};this.allPhrases.TXID_MSGCAP_CREDITSTHANKS_MORE={en:"Many thanks MoonlightShadowz from ArmorGames for the German translation!  Many thanks to ArmorGames, r/incremental_games, r/WebGames communities for valuable suggestions!",ru:"\u0411\u043e\u043b\u044c\u0448\u043e\u0435 \u0441\u043f\u0430\u0441\u0438\u0431\u043e MoonlightShadowz \u0438\u0437 ArmorGames \u0437\u0430 \u043d\u0435\u043c\u0435\u0446\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434! \u0411\u043e\u043b\u044c\u0448\u043e\u0435 \u0441\u043f\u0430\u0441\u0438\u0431\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430\u043c ArmorGames, r/incremental_games, r/Webgames \u0437\u0430 \u0446\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f!",
uk:"\u0412\u0435\u043b\u0438\u043a\u0435 \u0441\u043f\u0430\u0441\u0438\u0431\u0456 MoonlightShadowz \u0437 ArmorGames \u0437\u0430 \u043d\u0456\u043c\u0435\u0446\u044c\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434! \u0412\u0435\u043b\u0438\u043a\u0435 \u0441\u043f\u0430\u0441\u0438\u0431\u0456 \u0441\u043f\u0456\u0432\u0442\u043e\u0432\u0430\u0440\u0438\u0441\u0442\u0432\u0430\u043c ArmorGames, r / incremental_games, r / Webgames \u0437\u0430 \u0446\u0456\u043d\u043d\u0456 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0457!",
de:"Vielen Dank an MoonlightShadowz aus Armorgames f\u00fcr die deutsche \u00dcbersetzung! Vielen Dank an Armorgames, r / incremental_games, r / Webgames Gemeinden f\u00fcr wertvolle Anregungen!"};this.allPhrases.TXID_MSG_LEVEL_SPACE={en:"You have reached the Space!",ru:"\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u043a\u043e\u0441\u043c\u043e\u0441\u0430!",uk:"\u0412\u0438 \u0434\u043e\u0441\u044f\u0433\u043b\u0438 \u043a\u043e\u0441\u043c\u043e\u0441\u0443!",de:"Sie haben den Kosmos erreicht!"};
this.allPhrases.TXID_MSG_LEVEL_SPACE_ACTION={en:"What machines would you like to see here? Tell us!",ru:"\u041a\u0430\u043a\u0438\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u0432\u044b \u0445\u043e\u0442\u0435\u043b\u0438 \u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c? \u0421\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u043c!",uk:"\u042f\u043a\u0456 \u043c\u0430\u0448\u0438\u043d\u0438 \u0432\u0438 \u0445\u043e\u0442\u0456\u043b\u0438 \u0431 \u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0443\u0442? \u0421\u043a\u0430\u0436\u0456\u0442\u044c \u043d\u0430\u043c!",
de:"Welche Maschinen w\u00fcrden Sie gerne hier sehen? Erz\u00e4hl uns!"};this.allPhrases.TXID_CAP_FREE={en:"FREE",ru:"\u0411\u0415\u0421\u041f\u041b\u0410\u0422\u041d\u041e",uk:"\u0411\u0415\u0417\u041a\u041e\u0428\u0422\u041e\u0412\u041d\u041e",de:"KOSTENLOS"};this.allPhrases.TXID_CAP_GETBIGGERBONUS={en:"BIGGER BONUS",ru:"\u0411\u041e\u041b\u042c\u0428\u0415 \u0411\u041e\u041d\u0423\u0421",uk:"\u0411\u0406\u041b\u042c\u0428\u0418\u0419 \u0411\u041e\u041d\u0423\u0421",de:"MEHR BONUS"};this.allPhrases.TXID_CAP_PURCHASE_DISCOUNT=
{en:"50% OFF",ru:"\u0421\u041a\u0418\u0414\u041a\u0410 50%",uk:"\u0417\u041d\u0418\u0416\u041a\u0410 50%",de:"50% RABATT"};this.allPhrases.TXID_MSG_NOTENOUGHBRICKS={en:"Not enough Golden Bricks",ru:"\u041d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0417\u043e\u043b\u043e\u0442\u044b\u0445 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439",uk:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438",
de:"Nicht genug goldene Steine"};this.allPhrases.TXID_MSG_BRICKSBUYCONFIRMATION_BEG={en:"Do you really want to spend ",ru:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0442\u0440\u0430\u0442\u0438\u0442\u044c",uk:"\u0417\u043e\u043b\u043e\u0442\u0438\u0445 \u0426\u0435\u0433\u043b\u0438\u043d \u0442\u0430 \u043a\u0443\u043f\u0438\u0442\u0438",de:"M\u00f6chten Sie wirklich"};this.allPhrases.TXID_MSG_BRICKSBUYCONFIRMATION_MID={en:"Golden Bricks and buy",
ru:"\u0417\u043e\u043b\u043e\u0442\u044b\u0445 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439 \u0438 \u043a\u0443\u043f\u0438\u0442\u044c",uk:"",de:"goldene Steine ausgeben und"};this.allPhrases.TXID_MSG_BRICKSBUYCONFIRMATION_END={en:"",ru:"",uk:"",de:"kaufen"};this.allPhrases.TXID_MSG_REWRECEIVED={en:"Reward received",ru:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0430",uk:"\u041d\u0430\u0433\u043e\u0440\u043e\u0434\u0443 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043e",
de:"Belohnung erhalten"};this.allPhrases.TXID_REW_BONUSTIME={en:"Time bonus",ru:"\u0411\u043e\u043d\u0443\u0441\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f",uk:"\u0411\u043e\u043d\u0443\u0441\u043d\u0438\u0439 \u0447\u0430\u0441",de:"Zeit Bonus"};this.allPhrases.TXID_REW_FREEUP={en:"Free upgrade",ru:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439 \u0430\u043f\u0433\u0440\u0435\u0439\u0434",uk:"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0438\u0439 \u0430\u043f\u0433\u0440\u0435\u0439\u0434",
de:"Kostenloses Upgrade"};this.allPhrases.TXID_REW_DISCPURCH={en:"Purchase with discount",ru:"\u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u0441\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439",uk:"\u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u0437\u0456 \u0437\u043d\u0438\u0436\u043a\u043e\u044e",de:"Kauf mit Rabatt"};this.allPhrases.TXID_REW_FREEGB={en:"Free Golden Bricks",ru:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0417\u043e\u043b\u043e\u0442\u044b\u0435 \u043a\u0438\u0440\u043f\u0438\u0447\u0438",
uk:"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0456 \u0417\u043e\u043b\u043e\u0442\u0456 \u0446\u0435\u0433\u043b\u0438\u043d\u0438",de:"goldene Ziegel Gratis"};this.allPhrases.TXID_REW_FREERES={en:"Free Resource",ru:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439 \u0440\u0435\u0441\u0443\u0440\u0441",uk:"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0438\u0439 \u0440\u0435\u0441\u0443\u0440\u0441",de:"Ressourcen Gratis"};this.allPhrases.TXID_REW_FREEMON=
{en:"Free Coins",ru:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u043c\u043e\u043d\u0435\u0442\u044b",uk:"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0456 \u043c\u043e\u043d\u0435\u0442\u0438",de:"M\u00fcnzen Gratis"};this.allPhrases.TXID_REW_RESMULT={en:"Resources Multiplied",ru:"\u0423\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u0430",uk:"\u043c\u043d\u043e\u0436\u0435\u043d\u043d\u044f \u0440\u0435\u0441\u0443\u0440\u0441\u0443",
de:"Ressourcen Multiplizierte"};this.allPhrases.TXID_REW_STOREYCOMPL={en:"Tower Storey Completed",ru:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u044d\u0442\u0430\u0436\u0430 \u0411\u0430\u0448\u043d\u0438",uk:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f \u0431\u0443\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0430 \u043f\u043e\u0432\u0435\u0440\u0445\u0443 \u0412\u0435\u0436\u0456",
de:"Turm Ebene"};this.allPhrases.TXID_MSG_REWARD_READY={en:"You have received an unexpected gift! Check, what it is",ru:"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0434\u0430\u0440\u043e\u043a! \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435, \u043a\u0430\u043a\u043e\u0432 \u043e\u043d",uk:"\u0412\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438 \u043d\u0435\u0441\u043f\u043e\u0434\u0456\u0432\u0430\u043d\u0438\u0439 \u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043e\u043a! \u041f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f, \u044f\u043a\u0438\u0439 \u0432\u0456\u043d",
de:"Sie haben ein unerwartetes Geschenk erhalten! \u00dcberpr\u00fcfen Sie, was es ist,"};this.allPhrases.TXID_CAP_DAILYBONUS={en:"DAILY BONUS",ru:"\u0415\u0416\u0415\u0414\u041d\u0415\u0412\u041d\u042b\u0419 \u0411\u041e\u041d\u0423\u0421",uk:"\u0429\u041e\u0414\u0415\u041d\u041d\u0418\u0419 \u0411\u041e\u041d\u0423\u0421",de:"T\u00c4GLICHER BONUS"};this.allPhrases.TXID_CAP_NEXTBONUSIN={en:"Time till the next bonus",ru:"\u0412\u0440\u0435\u043c\u044f \u0434\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0431\u043e\u043d\u0443\u0441\u0430",
uk:"\u0427\u0430\u0441 \u0434\u043e \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0431\u043e\u043d\u0443\u0441\u0443",de:"Zeit bis zum n\u00e4chsten Bonus"};this.allPhrases.TXID_ANS_GET={en:"GET!",ru:"\u041f\u041e\u041b\u0423\u0427\u0418\u0422\u042c!",uk:"\u041e\u0422\u0420\u0418\u041c\u0410\u0422\u0418!",de:"BEKOMMEN!"};this.allPhrases.TXID_TRANSLATORTHANKS={en:"",ru:"",uk:"",de:"Fielen Dank an MoonlightShadowz aus ArmorGames!"};this.updatedButtons=[];var a=localStorage.getItem("lang");
a=this.availableLangs.indexOf(a);-1==a?(this.langCode="ru",localStorage.setItem("lang",this.langCode)):this.langCode=this.availableLangs[a]};Translator.prototype.registerButton=function(a){this.updatedButtons.push(a)};Translator.prototype.changeLanguage=function(a){if(a!=this.langCode){this.langCode=a;for(a=0;a<this.updatedButtons.length;a++)this.updatedButtons[a].updateTextTranslation();localStorage.setItem("lang",this.langCode)}};
Translator.prototype.changeLang2Next=function(){var a=this.availableLangs.indexOf(this.langCode);this.changeLanguage(this.availableLangs[(a+1)%this.availableLangs.length])};Translator.prototype.getCurrentLangsButtonTexture=function(){return"w000_langIcon"+this.langCode+"4new0000"};Translator.prototype.selectPhraseOfLanguage=function(a){return a.hasOwnProperty(this.langCode)?a[this.langCode]:a.hasOwnProperty("en")?a.en:""};
Translator.prototype.translateText=function(a){var b=a.indexOf("TXID_");if(-1==b)return a;a.substring(0,b);var c;for(c=b+5;c<a.length&&-1!=this.lettersInTextCode.indexOf(a.charAt(c));c++);var d=a.substring(0,b);b=a.substring(b,c);a=a.substring(c);(c=this.allPhrases[b])&&(c.hasOwnProperty(this.langCode)?b=c[this.langCode]:c.hasOwnProperty("en")&&(b=c.en));return d+b+this.translateText(a)};
var NewsReader=function(){this.hasNewNews=this.hasLoadedNews=!1;this.newsArray=[];this.lastReadNewsId=-1;var a=localStorage.getItem("newsId");this.lastReadNewsId="null"!=a&&null!=a&&""!=a?eval(a):-1;localStorage.setItem("newsId",this.lastReadNewsId)};
NewsReader.prototype.isNewsValid=function(a){var b=window.bottleScreen.world;if("isObsolete"in a&&(1==a.isObsolete||"true"==a.isObsolete))return!1;var c=!1;"games"in a&&(-1!=a.games.indexOf("all")?(c=!0,"excludedgames"in a&&-1!=a.excludedgames.indexOf(""+b.worldTypeId)&&(c=!1)):-1!=a.games.indexOf(""+b.worldTypeId)&&(c=!0));c&&("startDate"in a&&(b=new Date(a.startDate),Date.now()<b&&(c=!1)),"endDate"in a&&(a=new Date(a.endDate),Date.now()+864E5>a&&(c=!1)));return c};
NewsReader.prototype.loadCurrentNews2Show=function(){if(0==this.newsArray.length)return null;-1==this.lastReadNewsId&&(this.lastReadNewsId=0);this.lastReadNewsId>=this.newsArray.length&&(this.lastReadNewsId=this.newsArray.length-1);localStorage.setItem("newsId",this.lastReadNewsId);return this.newsArray[this.lastReadNewsId]};
NewsReader.prototype.setPrevNewsId=function(){for(var a=this.lastReadNewsId,b=!1;0<a;){a--;var c=this.newsArray[a];if(this.isNewsValid(c)){this.lastReadNewsId=a;b=!0;break}}if(!b)for(a=this.newsArray.length;0<a;)if(a--,c=this.newsArray[a],this.isNewsValid(c)){this.lastReadNewsId=a;break}localStorage.setItem("newsId",this.lastReadNewsId)};
NewsReader.prototype.setNextNewsId=function(){for(var a=this.lastReadNewsId,b=!1;a<this.newsArray.length-1;){a++;var c=this.newsArray[a];if(this.isNewsValid(c)){this.lastReadNewsId=a;b=!0;break}}if(!b)for(a=-1;a<this.newsArray.length-1;)if(a++,c=this.newsArray[a],this.isNewsValid(c)){this.lastReadNewsId=a;break}localStorage.setItem("newsId",this.lastReadNewsId)};
NewsReader.prototype.checkIfHasNewNews=function(){for(var a=!1,b=this.lastReadNewsId;b<this.newsArray.length-1;)if(b++,this.isNewsValid(this.newsArray[b])){a=!0;break}this.hasNewNews=a};NewsReader.prototype.getJSON=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0);c.responseType="json";c.onload=function(){var a=c.status;200==a?b(null,c.response):b(a)};c.send()};
NewsReader.prototype.readNews=function(){try{this.getJSON("https://generalvimes.github.io/anews.json",function(a,b){if(null!=a)window.newsReader.useBackup();else try{b.news?(window.newsReader.newsArray=b.news,window.newsReader.hasLoadedNews=!0):window.newsReader.useBackup()}catch(c){window.newsReader.useBackup()}})}catch(a){window.newsReader.useBackup()}};
NewsReader.prototype.useBackup=function(){this.bkpJSON={news:[{games:["3"],excludedgames:[""],uid:"update",caption:{en:"Content update!",ru:"\u0411\u043e\u043b\u044c\u0448\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435!"},message:{en:"Thank you for playing and giving excellent suggestions! Meet new machines in v.1.0.6\nElephant - carries a great load of stone\nField - produces food for the elephant\nClock - speeds up the time.\nIf you have already completed floor 6, we recommend you to collect Golden Bricks and restart the building to see the new content\n\nWould you like to suggest your own ideas for the next update?",
ru:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u0438\u0433\u0440\u0430\u0435\u0442\u0435 \u0438 \u0434\u0430\u0451\u0442\u0435 \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u044b\u0435 \u0441\u043e\u0432\u0435\u0442\u044b! \u0412\u0441\u0442\u0440\u0435\u0447\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.0.6\n\n\u0421\u043b\u043e\u043d - \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442 \u043e\u0433\u0440\u043e\u043c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0430\u043c\u043d\u044f\n\u041f\u043e\u043b\u0435 - \u0432\u044b\u0440\u0430\u0449\u0438\u0432\u0430\u0435\u0442 \u0435\u0434\u0443 \u0434\u043b\u044f \u0441\u043b\u043e\u043d\u0430\n\u0427\u0430\u0441\u044b - \u0443\u0441\u043a\u043e\u0440\u044f\u044e\u0442 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438.\n\n\u0415\u0441\u043b\u0438 \u0432\u044b \u0443\u0436\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u043b\u0438 \u044d\u0442\u0430\u0436 6, \u043c\u044b \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u043d\u0443\u0441 \u0417\u043e\u043b\u043e\u0442\u044b\u0445 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u0439\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u043e\u0432\u044b\u043c\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438\n\n\u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0434\u0435\u044e \u0434\u043b\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f?"},
answers:[{text:{en:"Email"},link:"mailto:general@cardswars.com?subject=BabelTower Idea"}],startDate:"16-Jun-2020",endDate:"28-Jun-2020"},{games:["all"],uid:"modeIdles",caption:{en:"More Idle Games!",ru:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0430\u0439\u0434\u043b\u043e\u0432!"},message:{en:"Would you like to check more idle games by Airapport (in a new window)?",ru:"\u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u043d\u0430\u0448\u0438 \u0430\u0439\u0434\u043b \u0438\u0433\u0440\u044b (\u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435)?"},
answers:[{text:{en:"App Store"},link:"https://apps.apple.com/us/developer/alexey-izvalov/id1437172357"},{text:{en:"Google Play"},link:"https://play.google.com/store/apps/dev?id=6075165531768716801"}],isObsolete:"false",startDate:"16-Jun-2020"},{games:["all"],uid:"facebook",caption:{en:"Players Community",ru:"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},message:{en:"You are welcome to join the players' community in Facebook",ru:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u0444\u0435\u0439\u0441\u0431\u0443\u043a\u0435"},
answers:[{text:{en:"Join",ru:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f"},link:"https://www.facebook.com/groups/steampunkplayers/"}],isObsolete:"false",startDate:"16-Jun-2020"},{games:["3"],excludedgames:[""],uid:"update",caption:{en:"Content update! 1.0.7",ru:"\u0411\u043e\u043b\u044c\u0448\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435! 1.0.7"},message:{en:"Thank you for playing and giving excellent suggestions! Meet new machines in v.1.0.7\nWater extractor - gets the water from underground\nCaravanserai - increases the market prices and auto-sells your goods\nHelicopter - drops dynamite to the Quarry to speed up Stone mining\nIf you have already completed floor 8, we recommend you to collect Golden Bricks and restart the building to see the new content\n\nWould you like to suggest your own ideas for the next update?",
ru:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u0438\u0433\u0440\u0430\u0435\u0442\u0435 \u0438 \u0434\u0430\u0451\u0442\u0435 \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u044b\u0435 \u0441\u043e\u0432\u0435\u0442\u044b! \u0412\u0441\u0442\u0440\u0435\u0447\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.0.7\n\n\u0411\u0443\u0440 - \u043e\u0431\u044b\u0432\u0430\u0435\u0442 \u0432\u043e\u0434\u0443 \u0438\u0437-\u043f\u043e\u0434 \u0437\u0435\u043c\u043b\u0438\n\u041a\u0430\u0440\u0430\u0432\u0430\u043d-\u0441\u0430\u0440\u0430\u0439 - \u043f\u043e\u0432\u044b\u0448\u0430\u0435\u0442 \u0446\u0435\u043d\u044b \u043d\u0430 \u0440\u044b\u043d\u043a\u0435 \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u043e\u0434\u0430\u0451\u0442 \u0432\u0430\u0448\u0438 \u0442\u043e\u0432\u0430\u0440\u044b\n\u0412\u0435\u0440\u0442\u043e\u043b\u0451\u0442 - \u0432\u0437\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u0430\u043c\u0435\u043d\u044c \u0432 \u043a\u0430\u0440\u044c\u0435\u0440\u0435, \u0443\u0441\u043a\u043e\u0440\u044f\u044f \u0435\u0433\u043e \u0434\u043e\u0431\u044b\u0447\u0443\n\n\u0415\u0441\u043b\u0438 \u0432\u044b \u0443\u0436\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u043b\u0438 \u044d\u0442\u0430\u0436 8, \u043c\u044b \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u043d\u0443\u0441 \u0417\u043e\u043b\u043e\u0442\u044b\u0445 \u043a\u0438\u0440\u043f\u0438\u0447\u0435\u0439 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u0439\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u043e\u0432\u044b\u043c\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438\n\n\u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0434\u0435\u044e \u0434\u043b\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f?"},
answers:[{text:{en:"Email"},link:"mailto:general@cardswars.com?subject=BabelTower Idea"}],startDate:"28-Jun-2020",endDate:"10-Jul-2020"}]};this.newsArray=this.bkpJSON.news;this.hasLoadedNews=!0};var World=function(a,b,c,d){this.machinesClasses=[];this.machinesNames=[];this.machinesDescs=[];this.myBottleScreen=a;this.currentStatus=this.worldTypeId=-1;this.lastSecondUpdateMoment=this.currentMomentInGame=0;this.game=null;this.unmovableBGDs=[];this.objects=[];this.connections=[];this.worldTimeAtSaving=this.prestige=this.offlineTimeBonus=this.numRestarts=this.money=0;this.scene=this.game=this.myBottleScreen.game;this.containerGroup=this.myBottleScreen.grp;this.hud=null;b?(this.hud=new b(this,
this.myBottleScreen.hudGrp),this.updateHUD()):this.hud=new HUD(this,this.myBottleScreen.hudGrp);this.ballanser=null;this.ballanser=c?new c(this):new Ballanser(this);this.purchaser=null;this.purchaser=d?new d(this):new Purchaser(this);this.myMouseController=new MouseController(this);this.myTriggerController=new TriggerController(this);this.myTutController=new TutController(this);this.myEftController=new EffectsController(this,this.scene,this.containerGroup);this.myGiftsController=new GiftsController(this);
this.saveConfig={saveVersion:1};this.currentlyLoadedSaveVersion=0;this.arOfSaveData=[];this.triggersAr=[]};World.prototype.doInitialThings=function(){this.setInitialMoneyAndOtherParams();this.createBGDs();this.createInitialObjects();this.createTriggers();this.updateUnmovableBGDs();this.hud.showGameInterface()};
World.prototype.clearLoadAfterError=function(){for(var a=0;a<this.objects.length;a++)this.objects[a].getPrepared4Deletion();for(a=this.objects.length-1;0<=a;a--)this.objects[a].getFullyRemoved();for(a=this.connections.length-1;0<=a;a--)this.connections[a].getFullyRemoved();this.objects.length=0;this.connections.length=0;for(a=this.unmovableBGDs.length-1;0<=a;a--)this.unmovableBGDs[a].getFullyRemoved();this.unmovableBGDs.length=0};
World.prototype.doRestart=function(){this.numRestarts++;this.calcPrestigeAfterRestart();for(var a=0;a<this.objects.length;a++)this.objects[a].getPrepared4Deletion();for(a=this.objects.length-1;0<=a;a--)this.objects[a].getFullyRemoved();for(a=this.connections.length-1;0<=a;a--)this.connections[a].getFullyRemoved();this.objects.length=0;this.connections.length=0;for(a=this.unmovableBGDs.length-1;0<=a;a--)this.unmovableBGDs[a].getFullyRemoved();this.unmovableBGDs.length=0;this.doInitialThings();this.moveScreenBy(0,
0);this.containerGroup.x=this.myBottleScreen.leftMargin;this.containerGroup.y=this.myBottleScreen.topMargin;this.currentStatus=0};World.prototype.calcPrestigeAfterRestart=function(){};World.prototype.setInitialMoneyAndOtherParams=function(){this.money=0};World.prototype.createInitialObjects=function(){};World.prototype.createBGDs=function(){};World.prototype.startPlaying=function(){this.try2LoadOrCreateNewObjects()};World.prototype.createTriggers=function(){for(var a=0;a<this.triggersAr.length;a++)this.myTriggerController.registerTriggerIfNew(this.triggersAr[a])};
World.prototype.try2LoadOrCreateNewObjects=function(){var a=localStorage.getItem("save_version");window.bottleScreen.config.mustClearSave&&(a="");if("null"!=a&&null!=a&&""!=a){this.currentlyLoadedSaveVersion=eval(a);a=localStorage.getItem("save_data");var b=LZString.decompressFromUTF16(a),c="";for(a=0;a<b.length;a++){var d=b.charAt(a);-1!="0123456789-+,.e".indexOf(d)&&(c+=d)}b=c.split(",");for(a=0;a<b.length;a++)if(b[a]=eval(b[a]),isNaN(b[a])||Infinity===b[a]||-Infinity===b[a])b[a]=0;try{this.currentStatus=
1;this.loadFromAr(b,0);this.createBGDs();this.createObjectsFromSlicedArs();this.afterObjectsLoadFunctions();this.createTriggers();this.updateUnmovableBGDs();this.hud.showGameInterface();var e=(new Date).getTime()-this.worldTimeAtSaving;this.currentStatus=0;0<e&&this.fixAwayTime(e)}catch(f){console.log(f),this.clearLoadAfterError(),this.showMessage("TXID_MSGCAP_ERRORLOADING",["TXID_MSGANS_OK"],[{func:this.try2LoadOrCreateNewObjects.bind(this)}],null)}}else this.doInitialThings(),this.currentStatus=
0};World.prototype.setCoords=function(a,b){this.containerGroup.x=a;this.containerGroup.y=b;this.updateUnmovableBGDs()};World.prototype.updateBGDs=function(){};
World.prototype.fixAwayTime=function(a){if(0==this.currentStatus){var b=.001*a;if(9<=b){b*=.1/(1+b/86400*4);this.offlineTimeBonus+=b;var c=["TXID_MSGANS_OK"],d=[null];window.newsReader.checkIfHasNewNews();window.newsReader.hasNewNews&&(c.push("TXID_CAP_NEWS"),d.push({func:window.bottleScreen.world.hud.showNewsScreen.bind(window.bottleScreen.world.hud)}));window.portalWrapper.isRewardedAdReady()&&(c.push("TXID_CAP_GETBIGGERBONUS"),d.push({func:window.portalWrapper.showRewarded.bind(window.portalWrapper,
{statsCode:"bonusTime"},{rewardType:"bonusTime",rewardValue:Math.ceil(.5*b)})}));this.hud.showMessage({arOfText:["TXID_MSGCAP_TUT_AWAYPHRASE: ",window.bottleScreen.utils.showTimeAsText(a),"\nTXID_MSGCAP_TUT_BONUSTIMEEARN: ",window.bottleScreen.utils.showTimeAsText(b,!0)],arOfColors:[-1,16777096,-1,6750054]},c,d)}}};
World.prototype.update=function(a,b){switch(this.currentStatus){case 0:this.calcBonusesExpiration(.001*b),this.doPlayingStep(.001*a,.001*b*this.getMasterTimeCoef());case 1:this.doLoadingStep(.001*a,.001*b)}this.myEftController.doStep(.001*b);this.hud.doAnimStep(.001*b)};
World.prototype.doPlayingStep=function(a,b){this.currentMomentInGame+=b;for(a=0;a<this.objects.length;a++){var c=this.objects[a];c.isInDeleteQueue||c.calcStateAtGameMoment(this.currentMomentInGame)}for(a=0;a<this.objects.length;a++)this.objects[a].actualizeVisuals(b);for(a=0;a<this.unmovableBGDs.length;a++)this.unmovableBGDs[a].doStep(b);b=!1;for(a=this.objects.length-1;0<=a;a--)this.objects[a].isInDeleteQueue&&(this.objects[a].getFullyRemoved(),this.objects.splice(a,1),b=!0);for(a=this.connections.length-
1;0<=a;a--)this.connections[a].isInDeleteQueue&&(this.connections[a].getFullyRemoved(),this.connections.splice(a,1),b=!0);if(b)for(a=0;a<this.objects.length;a++)this.objects[a].arId=a;if(this.currentMomentInGame>this.lastSecondUpdateMoment+1||this.currentMomentInGame<this.lastSecondUpdateMoment)this.doSomethingEverySecond(),this.lastSecondUpdateMoment=this.currentMomentInGame;this.myTutController.updateTutorialsNow(this.currentMomentInGame)};
World.prototype.doSomethingEverySecond=function(){this.myTriggerController.updateTriggersNow(this.currentMomentInGame);this.myGiftsController.checkIfGiftAvailable()};World.prototype.doLoadingStep=function(a,b){};World.prototype.receiveResource=function(a,b){"money"==a&&(this.money+=b)};World.prototype.calcBonusesExpiration=function(a){};World.prototype.getMasterTapCoef=function(a){return 1};World.prototype.getMasterProdCoef=function(a){return 1};World.prototype.getMasterTimeCoef=function(){return 1};
World.prototype.createNthRewardObject=function(a){return{rewardType:"freeMoney",rewardValue:50}};World.prototype.giveReward=function(a){null!=a&&(this.showMessage("TXID_MSG_REWRECEIVED: "+this.buildRewardInfo(a),["TXID_MSGANS_OK"],[],null),window.bottleScreen.statsWrapper.sendEvent("reward_received",a.rewardType,1));if(null!=a){if("bonusTime"==a.rewardType){var b=a.rewardValue;this.offlineTimeBonus+=b}"freeMoney"==a.rewardType&&(b=a.rewardValue,this.money+=b)}};
World.prototype.buildRewardInfo=function(a){var b="";null!=a&&("bonusTime"==a.rewardType&&(b="TXID_REW_BONUSTIME: "+window.bottleScreen.utils.showTimeAsText(a.rewardValue)),"freeMoney"==a.rewardType&&(b="TXID_REW_FREEMON: "+window.bottleScreen.utils.showNumberAsText(a.rewardValue)));return b};World.prototype.getResourceVal=function(a){return"money"==a?this.money:0};World.prototype.outCallBack=function(){this.hud.handleOut()||this.myMouseController.outCallBack()};
World.prototype.downCallBack=function(a,b,c,d){this.hud.handleDown(a,b)||this.myMouseController.downCallBack(c,d,a,b)};World.prototype.upCallBack=function(a,b,c,d){this.hud.handleUp(a,b)||this.myMouseController.upCallBack(c,d,a,b)};World.prototype.movCallBack=function(a,b,c,d,e){this.hud.handleMove(a,b)||this.myMouseController.movCallBack(c,d,a,b,e)};
World.prototype.findObjectUnderPointer=function(a,b,c){for(var d=null,e=[],f=0;f<this.objects.length;f++){var g=this.objects[f];g.visual&&Phaser.Geom.Rectangle.Contains(g.visual.touchRect,a-g.x,b-g.y)&&e.push(g)}if(0<e.length)if(c)for(a=!1,f=0;f<e.length;f++){for(b=0;b<c.length;b++)if(e[f].myClass==c[b]){a=!0;d=e[f];break}if(a)break}else d=e[e.length-1];return d};
World.prototype.createObject=function(a,b){var c=this.findArray2PutClass(a),d=new a(this,this.scene,this.containerGroup);d.myClass=a;d.arId=c.length;d.initProperties(b);d.initVisuals();d.setCreatedAndCurrentMoment(this.currentMomentInGame);c.push(d);d.onJustCreated();return d};World.prototype.loadObject=function(a,b){var c=this.machinesClasses[a[b+0]],d=this.findArray2PutClass(c),e=new c(this,this.scene,this.containerGroup);e.myClass=c;b=e.loadFromAr(a,b+0);e.initVisuals();d.push(e);return b};
World.prototype.getObjectOfId=function(a){return this.objects[a]};World.prototype.findArray2PutClass=function(a){var b=this.objects;BasicConnection==Object.getPrototypeOf(a)&&(b=this.connections);return b};World.prototype.updateUnmovableBGDs=function(){for(var a=0;a<this.unmovableBGDs.length;a++)this.unmovableBGDs[a].updateSize(this.myBottleScreen)};World.prototype.updateHUD=function(){this.hud&&this.hud.updateLayoutOnScreen(this.myBottleScreen)};
World.prototype.findObjectOfClass=function(a){var b=null;a=a.cls;for(var c=0;c<this.objects.length;c++){var d=this.objects[c];if(d.myClass==a){b=d;break}}return b};World.prototype.moveScreenBy=function(a,b){this.myMouseController.moveScreenBy(a,b)};World.prototype.showMessage=function(a,b,c,d){this.hud.showMessage(a,b,c,d)};
World.prototype.expandDraggableArea=function(a){void 0!=a.left&&(this.myMouseController.allowedWorldMovements.left+=a.left);void 0!=a.right&&(this.myMouseController.allowedWorldMovements.right+=a.right);void 0!=a.top&&(this.myMouseController.allowedWorldMovements.top+=a.top);void 0!=a.bottom&&(this.myMouseController.allowedWorldMovements.bottom+=a.bottom)};
World.prototype.doSaving=function(){if(0==this.currentStatus){localStorage.setItem("save_version",this.saveConfig.saveVersion);var a=Date.now();localStorage.setItem("save_date",a);this.worldTimeAtSaving=(new Date).getTime();a=[];this.save2Ar(a,0);a=a.join(",");a=LZString.compressToUTF16(a);localStorage.setItem("save_data",a)}};
World.prototype.save2Ar=function(a,b){a[b+0]=this.currentMomentInGame;a[b+1]=this.money;a[b+2]=this.numRestarts;a[b+3]=this.offlineTimeBonus;a[b+4]=this.prestige;a[b+5]=this.worldTimeAtSaving;b=this.saveAr2Ar(this.objects,a,b+6);b=this.saveAr2Ar(this.connections,a,b+0);b=this.myTriggerController.save2Ar(a,b);return b+0};
World.prototype.loadFromAr=function(a,b){this.currentMomentInGame=a[b+0];this.money=a[b+1];this.numRestarts=a[b+2];this.offlineTimeBonus=a[b+3];this.prestige=a[b+4];this.worldTimeAtSaving=a[b+5];this.arOfSaveData.length=0;b=this.cutArPortions(a,b+6);b=this.cutArPortions(a,b+0);b=this.myTriggerController.loadFromAr(a,b);return b+0};World.prototype.createObjectsFromSlicedArs=function(){for(var a=0;a<this.arOfSaveData.length;a++)this.loadObject(this.arOfSaveData[a],0)};
World.prototype.afterObjectsLoadFunctions=function(){for(var a=0;a<this.objects.length;a++)this.objects[a].afterLoadFunction()};World.prototype.saveAr2Ar=function(a,b,c){var d=a.length;b[c+0]="LEN:"+d;c++;for(var e=0;e<d;e++){var f=a[e],g=c;b[c+0]=0;c=f.save2Ar(b,c+1);b[g+0]=c-g}return c};World.prototype.cutArPortions=function(a,b){var c=a[b+0];b++;for(var d=0;d<c;d++){var e=a[b+0],f=a.slice(b+1,b+e);this.arOfSaveData.push(f);b+=e}return b};
var MouseController=function(a){this.myWorld=a;this.lastInteractedObject=null;this.lastScreenDownY=this.lastScreenDownX=-1;this.allowedWorldMovements={left:-100,top:-100,right:100,bottom:100}};MouseController.prototype.outCallBack=function(){this.lastInteractedObject&&(this.lastInteractedObject.react2Out(),this.lastInteractedObject=null)};
MouseController.prototype.downCallBack=function(a,b,c,d){this.lastInteractedObject&&(this.lastInteractedObject.react2Up(a,b),this.lastInteractedObject=null);var e=this.myWorld.findObjectUnderPointer(a,b);e&&(this.lastInteractedObject=e,this.lastInteractedObject.react2Down(a,b));this.lastScreenDownX=c;this.lastScreenDownY=d};MouseController.prototype.upCallBack=function(a,b,c,d){this.lastInteractedObject&&(this.lastInteractedObject.react2Up(a,b),this.lastInteractedObject=null)};
MouseController.prototype.movCallBack=function(a,b,c,d,e){this.lastInteractedObject&&this.lastInteractedObject.react2Move(a,b)&&(e=!1);e&&this.moveScreenBy(c-this.lastScreenDownX,d-this.lastScreenDownY);this.lastScreenDownX=c;this.lastScreenDownY=d};
MouseController.prototype.moveScreenBy=function(a,b){a=this.myWorld.containerGroup.x+a;b=this.myWorld.containerGroup.y+b;a<this.myWorld.myBottleScreen.leftMargin+this.allowedWorldMovements.left&&(a=this.myWorld.myBottleScreen.leftMargin+this.allowedWorldMovements.left);a>this.myWorld.myBottleScreen.leftMargin+this.allowedWorldMovements.right&&(a=this.myWorld.myBottleScreen.leftMargin+this.allowedWorldMovements.right);b<this.myWorld.myBottleScreen.topMargin+this.allowedWorldMovements.top&&(b=this.myWorld.myBottleScreen.topMargin+
this.allowedWorldMovements.top);b>this.myWorld.myBottleScreen.topMargin+this.allowedWorldMovements.bottom&&(b=this.myWorld.myBottleScreen.topMargin+this.allowedWorldMovements.bottom);this.myWorld.setCoords(a,b)};var HUD=function(a,b){this.myWorld=a;this.grp=b;this.scene=this.myWorld.scene;this.timedEvent=this.scene.time.addEvent({delay:500,callback:this.updateView,callbackScope:this,loop:!0,paused:!1});this.msgBoxes=[];this.screens=[];this.giftsScreen=this.createScreen(GiftsScreen)};
HUD.prototype.createScreen=function(a){a=new a(this.scene,this.grp);a.myHud=this;a.myWorld=this.myWorld;this.screens.push(a);a.visible=!1;return a};HUD.prototype.setVisibleScreen=function(a){for(var b=0;b<this.screens.length;b++)this.screens[b]!=a&&(this.screens[b].mustAlwaysShow||this.screens[b].hide());a.show()};HUD.prototype.updateView=function(){};HUD.prototype.showGameInterface=function(){};
HUD.prototype.updateLayoutOnScreen=function(a){for(var b=0;b<this.msgBoxes.length;b++)this.msgBoxes[b].x=a.gameWidth/2;for(b=0;b<this.screens.length;b++)this.screens[b].x=a.gameWidth/2,this.screens[b].y=150};HUD.prototype.showMachineUpgradePanel=function(a){};HUD.prototype.showMachinePurchasePanel=function(a){};HUD.prototype.showDailyBonusScreen=function(){this.setVisibleScreen(this.giftsScreen)};
HUD.prototype.showMessage=function(a,b,c,d){for(var e=null,f=0;f<this.msgBoxes.length;f++)if(this.msgBoxes[f].isInPool){e=this.msgBoxes[f];break}null==e&&(e=new MessageBox(this.scene,this.grp),this.msgBoxes.push(e));e.x=this.myWorld.myBottleScreen.gameWidth/2;e.y=this.myWorld.myBottleScreen.gameHeight/2-200;e.show(a,b,c,d);this.grp.bringToTop(e)};HUD.prototype.handleOut=function(a,b){return!1};HUD.prototype.handleDown=function(a,b){return!1};HUD.prototype.handleUp=function(a,b){return!1};
HUD.prototype.handleMove=function(a,b){return!1};HUD.prototype.doAnimStep=function(a){};
var MessageBox=function(a,b){var c=Phaser.GameObjects.Container.call(this,a)||this;c.scene=a;c.grp=b;c.grp.add(c);c.isInPool=!0;c.bgIm=c.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");c.add(c.bgIm);c.bgIm.setOrigin(.5,0);c.bgIm.setScale(10.4,3);c.cap=new TextField(c.scene,c,"MESSAGE",0,60);c.closeBtn=new ButtonWithIcon(c.scene,c,"w000_closeIcon4new0000",500,30);c.closeBtn.myMsgBox=c;c.closeBtn.registerHandler(c.closeBtnHandler);c.ansBtns=[];c.ansActions=[];return c};
$jscomp.inherits(MessageBox,Phaser.GameObjects.Container);MessageBox.prototype.closeBtnHandler=function(){this.myMsgBox.hide()};MessageBox.prototype.hide=function(){this.visible=!1;this.isInPool=!0};
MessageBox.prototype.show=function(a,b,c,d){"string"===typeof a?this.cap.showText(a):this.cap.showTextsOfDifferentColors(a.arOfText,a.arOfColors,!0);a=this.cap.y+this.cap.getTextHeight();this.isInPool=!1;this.visible=!0;this.ansActions=c.slice();for(var e=0;e<this.ansBtns.length;e++)this.ansBtns[e].visible=!1;for(e=0;e<b.length;e++){if(e<this.ansBtns.length)var f=this.ansBtns[e];else f=new ButtonWithText(this.scene,this,"ANS",0,250),f.registerHandler(this.btnHandler),f.myMsgBox=this,this.ansBtns.push(f);
f.visible=!0;f.showText(b[e]);f.x=1040/(b.length+1)*(e-(b.length-1)/2);f.myAction=c[e];f.y=a+50}this.bgIm.setScale(10.4,(a+100)/100);d&&(d.hasOwnProperty("autohideMS")&&setTimeout(this.hide.bind(this),d.autohideMS),d.hasOwnProperty("cy")&&(this.y=d.cy))};MessageBox.prototype.btnHandler=function(){this.myAction&&this.myAction.func();this.myMsgBox.hide()};
var UpdatedPropertyPanel=function(a,b){var c=Phaser.GameObjects.Container.call(this,a)||this;c.scene=a;c.grp=b;c.grp.add(c);c.timedEvent=c.scene.time.addEvent({delay:500,callback:c.updateView,callbackScope:c,loop:!0,paused:!0});c.visible=!1;return c};$jscomp.inherits(UpdatedPropertyPanel,Phaser.GameObjects.Container);UpdatedPropertyPanel.prototype.show=function(){this.updateView();this.visible=!0;this.timedEvent.paused=!1};
UpdatedPropertyPanel.prototype.hide=function(){this.visible=!1;this.timedEvent.paused=!0};UpdatedPropertyPanel.prototype.updateView=function(){};var Ballanser=function(a){this.myWorld=a},Purchaser=function(a){this.myWorld=a;this.purhasedObjects=[]};Purchaser.prototype.getIdOfCode=function(a){for(var b=-1,c=0;c<this.purhasedObjects.length;c++)if(this.purhasedObjects[c].code==a){b=c;break}return b};var QuestInformer=function(a,b){return UpdatedPropertyPanel.call(this,a,b)||this};
$jscomp.inherits(QuestInformer,UpdatedPropertyPanel);
var GiftsScreen=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(11.48,5.8);a.cap=new TextField(a.scene,a,"TXID_CAP_DAILYBONUS",0,80);a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",500,30);a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.bonusInfoCap=new TextField(a.scene,a,"TXID_CAP_NEXTBONUSIN",0,280);a.getBtn=new ButtonWithText(a.scene,
a,"TXID_ANS_GET",0,430);a.getBtn.registerHandler(a.getBtnHandler);return a.getBtn.myPanel=a};$jscomp.inherits(GiftsScreen,UpdatedPropertyPanel);
GiftsScreen.prototype.updateView=function(){UpdatedPropertyPanel.prototype.updateView.call(this);this.myWorld.myGiftsController.queuedRewardObject?(this.bonusInfoCap.showText(this.myWorld.buildRewardInfo(this.myWorld.myGiftsController.queuedRewardObject)),this.getBtn.visible=!0):(this.bonusInfoCap.showText("TXID_CAP_NEXTBONUSIN: "+window.bottleScreen.utils.showTimeAsText(this.myWorld.myGiftsController.timeOfNextGift-Date.now(),!1)),this.getBtn.visible=!1)};
GiftsScreen.prototype.getBtnHandler=function(){this.myPanel.myWorld.myGiftsController.giveQueuedGift();this.myPanel.updateView()};GiftsScreen.prototype.closeBtnHandler=function(){this.myPanel.hide()};var Trigger=function(a){this.checkCompletionFunction=a.checkCompletionFunction;this.checkCompletionFunctionParams=a.checkCompletionFunctionParams;this.resultFunction=a.resultFunction;this.resultFunctionParams=a.resultFunctionParams;this.wasCompleted=!1;this.controller=null;this.uid=a.uid};
Trigger.prototype.checkCompletionCondition=function(){var a=this.checkCompletionFunction(this.checkCompletionFunctionParams);1==a&&(this.wasCompleted=!0,this.resultFunction(this.resultFunctionParams));2==a&&(this.wasCompleted=!0)};var TriggerController=function(a){this.myWorld=a;this.lastTriggersActualizationTime=0;this.triggers=[];this.completedTriggersUIDs=[]};
TriggerController.prototype.updateTriggersNow=function(a){.5<a-this.lastTriggersActualizationTime?(this.lastTriggersActualizationTime=a,this.updateTriggers()):a<this.lastTriggersActualizationTime&&(this.lastTriggersActualizationTime=a)};TriggerController.prototype.registerTriggerIfNew=function(a){-1==this.completedTriggersUIDs.indexOf(a.uid)&&this.registerTrigger(a)};TriggerController.prototype.registerTrigger=function(a){a=new Trigger(a);this.triggers.push(a);a.controller=this};
TriggerController.prototype.updateTriggers=function(){for(var a=this.triggers.length-1;0<=a;a--){var b=this.triggers[a];b.checkCompletionCondition();b.wasCompleted&&(this.completedTriggersUIDs.push(b.uid),this.triggers.splice(a,1),window.bottleScreen.statsWrapper.sendEvent("trigger_completed",""+b.uid,1))}};TriggerController.prototype.save2Ar=function(a,b){var c=this.completedTriggersUIDs.length;a[b+0]=c;b++;for(var d=0;d<c;d++)a[b+0]=this.completedTriggersUIDs[d],b++;return b+0};
TriggerController.prototype.loadFromAr=function(a,b){var c=a[b+0];b++;for(var d=this.completedTriggersUIDs.length=0;d<c;d++)this.completedTriggersUIDs[d]=a[b+0],b++;return b+0};var TutSprite=function(a,b,c,d){this.scene=a;this.grp=b;this.lastCalculatedMoment=0;this.myObject=c;this.checkingFunction=d;this.wasPerformed=!1;this.cycleLength=1;this.lambda=0};
TutSprite.prototype.updateAtMoment=function(a){this.lastCalculatedMoment=a;this.checkingFunction()&&(this.wasPerformed=!0);this.lambda=this.lastCalculatedMoment%this.cycleLength/this.cycleLength};TutSprite.prototype.getRemoved=function(){};var TutController=function(a){this.myWorld=a;this.activeTutorials=[];this.lastCalculatedMoment=0};
TutController.prototype.updateTutorialsNow=function(a){this.lastCalculatedMoment=a;for(var b=this.activeTutorials.length-1;0<=b;b--){var c=this.activeTutorials[b];c.updateAtMoment(a);c.wasPerformed&&(c.getRemoved(),this.activeTutorials.splice(b,1))}};TutController.prototype.hasActiveTutorial=function(){return 0<this.activeTutorials.length};TutController.prototype.createTutor=function(a,b,c,d){a=new a(this.myWorld.scene,this.myWorld.containerGroup,b,c,d);this.activeTutorials.push(a)};
var GiftsController=function(a){this.myWorld=a;this.numChecksInThisGamesRun=0;this.numGiftsAlreadyGiven=window.bottleScreen.utils.loadLocalNumber("W_"+this.worldTypeId+"_numGiftsAlreadyGiven",0,!0);this.timeOfNextGift=window.bottleScreen.utils.loadLocalNumber("W_"+this.worldTypeId+"_timeOfNextGift",Date.now()+3E5,!0);this.hasAlreadySaidAboutGift=!1;this.queuedRewardObject=null};
GiftsController.prototype.checkIfGiftAvailable=function(){this.numChecksInThisGamesRun++;!this.queuedRewardObject&&Date.now()>=this.timeOfNextGift&&(this.queuedRewardObject=this.createNthRewardObject(this.numGiftsAlreadyGiven),15<this.numChecksInThisGamesRun&&(this.myWorld.hud.giftsScreen.visible||this.myWorld.showMessage("TXID_MSG_REWARD_READY",["TXID_ANS_GET"],[{func:this.myWorld.hud.showDailyBonusScreen.bind(this.myWorld.hud)}],null)))};GiftsController.prototype.createNthRewardObject=function(a){return this.myWorld.createNthRewardObject(a)};
GiftsController.prototype.giveQueuedGift=function(){this.queuedRewardObject&&(this.myWorld.giveReward(this.queuedRewardObject),this.queuedRewardObject=null,this.numGiftsAlreadyGiven++,localStorage.setItem("W_"+this.worldTypeId+"_numGiftsAlreadyGiven",this.numGiftsAlreadyGiven),this.timeOfNextGift=1==this.numGiftsAlreadyGiven?Date.now()+18E5:Date.now()+864E5,localStorage.setItem("W_"+this.worldTypeId+"_timeOfNextGift",this.timeOfNextGift))};
var EffectsController=function(a,b,c){this.myWorld=a;this.scene=b;this.grp=c;this.expls=[]};EffectsController.prototype.doStep=function(a){for(var b=this.expls.length,c=0;c<b;c++){var d=this.expls[c];d.isInPool||d.doStep(a)}};EffectsController.prototype.showEffect=function(a,b,c,d){for(var e=null,f=0;f<this.expls.length;f++)if(this.expls[f].isInPool&&this.expls[f].myClass==c){e=this.expls[f];break}e||(e=new c(this,this.scene,this.grp),e.myClass=c,this.expls.push(e));e.startEffect(a,b,d)};
var SimplePooledEffect=function(a,b,c){this.scene=b;this.grp=c;this.myController=a;this.myClass=SimplePooledEffect;this.y=this.x=0;this.isInPool=!0;this.timeExisting=0;this.imageModifiers=[];this.visObjects=[]};SimplePooledEffect.prototype.doStep=function(a){this.timeExisting+=a;for(var b=0;b<this.imageModifiers.length;b++)this.imageModifiers[b].isAnimating&&this.imageModifiers[b].doAnimStep(a)};SimplePooledEffect.prototype.startEffect=function(a,b,c){this.isInPool=!1;this.timeExisting=0};
SimplePooledEffect.prototype.back2Pool=function(){for(var a=0;a<this.visObjects.length;a++)this.visObjects[a].visible=!1;for(a=0;a<this.imageModifiers.length;a++)this.imageModifiers[a].isAnimating=!1;this.isInPool=!0};SimplePooledEffect.prototype.createImageModifier=function(a,b){var c=new ImageModifier;c.registerDob(a,b);this.imageModifiers.push(c);return c};var VeryBasicGameObject=function(a,b,c){this.visual=null;this.lastPhi=this.phiAddedSinceLastCheck4Anim=this.timePassedSinceLastCheck=this.lastCalculatedGameMoment=this.y=this.x=0;this.myWorld=a;this.myClass=null;this.arId=-1;this.scene=b;this.grp=c;this.isInDeleteQueue=!1};VeryBasicGameObject.prototype.calcStateAtGameMoment=function(a){this.timePassedSinceLastCheck=a-this.lastCalculatedGameMoment;0>this.timePassedSinceLastCheck&&(this.timePassedSinceLastCheck=0);this.lastCalculatedGameMoment=a};
VeryBasicGameObject.prototype.actualizeVisuals=function(a){this.visual&&this.visual.doAnimations(a)};VeryBasicGameObject.prototype.moveHigherOnLayer=function(){this.visual&&this.visual.moveHigherOnLayer()};VeryBasicGameObject.prototype.initProperties=function(a){this.x=a[0];this.y=a[1];return 2};VeryBasicGameObject.prototype.initVisuals=function(){};VeryBasicGameObject.prototype.react2Move=function(a,b){return!1};VeryBasicGameObject.prototype.react2Down=function(a,b){};
VeryBasicGameObject.prototype.react2Up=function(a,b){};VeryBasicGameObject.prototype.react2Out=function(){};VeryBasicGameObject.prototype.setPosition=function(a,b){this.x=a;this.y=b;this.visual&&(this.visual.x=this.x,this.visual.y=this.y)};VeryBasicGameObject.prototype.onJustCreated=function(){};VeryBasicGameObject.prototype.setCreatedAndCurrentMoment=function(a){this.lastCalculatedGameMoment=a};VeryBasicGameObject.prototype.getPrepared4Deletion=function(){this.isInDeleteQueue=!0};
VeryBasicGameObject.prototype.getFullyRemoved=function(){this.visual&&this.visual.getRemoved()};VeryBasicGameObject.prototype.save2Ar=function(a,b){a[b+0]=this.myWorld.machinesClasses.indexOf(this.myClass);a[b+1]="AID:"+this.arId;a[b+2]=this.x;a[b+3]=this.y;a[b+4]=this.lastCalculatedGameMoment;return b+5};VeryBasicGameObject.prototype.loadFromAr=function(a,b){this.arId=a[b+1];this.x=a[b+2];this.y=a[b+3];this.lastCalculatedGameMoment=a[b+4];return b+5};
VeryBasicGameObject.prototype.afterLoadFunction=function(){};
var BasicGameObject=function(a,b,c){VeryBasicGameObject.call(this,a,b,c);this.gatheredPhiInCurrentState=0;this.phi4FullCycle=2*Math.PI;this.totalProcessingsMade=this.numCyclesCompletedAfterLastCheck=this.ownPhiGeneration=this.currentLevel=0;this.incomingConnections=[];this.outgoingConnections=[];this.outgoingProcessedConnections=[];this.upgradedParams=[];this.autoClicker=this.upgradePriceFunction=null;this.lastAdditionalParamsUpdateMoment=0;this.updAdditionalParamsDt=.5;this.moneyFraction2ShowUpgradeButton=
.25;this.soundPlayer=null};$jscomp.inherits(BasicGameObject,VeryBasicGameObject);BasicGameObject.prototype.playSound=function(a,b,c){null==this.soundPlayer&&(this.soundPlayer=new ObjectSoundPlayer(this));this.soundPlayer.playSound(a,b,c)};BasicGameObject.prototype.createAutoClicker=function(){return this.autoClicker=new AutoClicker(this)};
BasicGameObject.prototype.calcStateAtGameMoment=function(a){VeryBasicGameObject.prototype.calcStateAtGameMoment.call(this,a);this.autoClicker&&this.autoClicker.doStep(a);this.receivePhi(this.getOwnPhiGeneration()*this.timePassedSinceLastCheck);this.phiAddedSinceLastCheck4Anim=this.gatheredPhiInCurrentState-this.lastPhi;this.numCyclesCompletedAfterLastCheck=0;this.gatheredPhiInCurrentState>=this.phi4FullCycle&&(this.handleCurrentStateCompletion(),this.numCyclesCompletedAfterLastCheck=0);if(this.lastCalculatedGameMoment-
this.lastAdditionalParamsUpdateMoment>=this.updAdditionalParamsDt||this.lastCalculatedGameMoment<this.lastAdditionalParamsUpdateMoment)this.updateAdditionalParams(),this.lastAdditionalParamsUpdateMoment=this.lastCalculatedGameMoment;this.lastPhi=this.gatheredPhiInCurrentState};BasicGameObject.prototype.updateAdditionalParams=function(){};BasicGameObject.prototype.getOwnPhiGeneration=function(){return this.ownPhiGeneration};
BasicGameObject.prototype.actualizeVisuals=function(a){VeryBasicGameObject.prototype.actualizeVisuals.call(this,a);this.visual&&(this.lastCalculatedGameMoment-this.visual.lastInterfaceUpdateMoment>=this.visual.updInterfaceDt||this.lastCalculatedGameMoment<this.visual.lastInterfaceUpdateMoment)&&(this.updateInterfaceOnVisual(),this.visual.lastInterfaceUpdateMoment=this.lastCalculatedGameMoment)};
BasicGameObject.prototype.updateInterfaceOnVisual=function(){if(this.visual&&this.visual.hasUpgradeButton){var a="hidden",b=this.getUpgradePrice(1);0<=b&&(a=this.myWorld.money,a=a>=b?"active":a>=this.moneyFraction2ShowUpgradeButton*b?"inactive":0<this.currentLevel?"inactive":"hidden");window.bottleScreen.config.hideAllUpgradeButtons&&(a="hidden");this.visual.setUpgradeButtonProp(a);"active"!=a&&"inactive"!=a||this.visual.showLevelOnUpgradeButton(this.currentLevel)}};
BasicGameObject.prototype.receivePhi=function(a){this.gatheredPhiInCurrentState+=a};BasicGameObject.prototype.handleCurrentStateCompletion=function(){this.numCyclesCompletedAfterLastCheck=Math.floor(this.gatheredPhiInCurrentState/this.phi4FullCycle);this.gatheredPhiInCurrentState%=this.phi4FullCycle};BasicGameObject.prototype.handleCycleCompletion=function(a){return a};BasicGameObject.prototype.getPinOfId=function(a){return null};
BasicGameObject.prototype.initProperties=function(a){return VeryBasicGameObject.prototype.initProperties.call(this,a)+0};BasicGameObject.prototype.registerIncomingConnection=function(a,b){this.incomingConnections.push(a)};BasicGameObject.prototype.registerOutgoingConnection=function(a,b){this.outgoingConnections.push(a);this.outgoingProcessedConnections.push(a)};
BasicGameObject.prototype.findOutConnectedObject=function(a){for(var b=null,c=0;c<this.outgoingConnections.length;c++){var d=this.outgoingConnections[c].obTo;if(a.cls){if(d.myClass==a.cls){b=d;break}}else{b=d;break}}return b};BasicGameObject.prototype.findInConnectedObject=function(a){for(var b=null,c=0;c<this.incomingConnections.length;c++){var d=this.incomingConnections[c].obFrom;if(a.cls){if(d.myClass==a.cls){b=d;break}}else{b=d;break}}return b};
BasicGameObject.prototype.removeOutgoingConnection=function(a){a=this.outgoingConnections.indexOf(a);-1!=a&&this.outgoingConnections.splice(a,1)};BasicGameObject.prototype.removeIncomingConnection=function(a){a=this.incomingConnections.indexOf(a);-1!=a&&this.incomingConnections.splice(a,1)};
BasicGameObject.prototype.getPrepared4Deletion=function(){VeryBasicGameObject.prototype.getPrepared4Deletion.call(this);for(var a=this.incomingConnections.length-1;0<=a;a--)this.incomingConnections[a].getPrepared4Deletion();for(a=this.outgoingConnections.length-1;0<=a;a--)this.outgoingConnections[a].getPrepared4Deletion()};BasicGameObject.prototype.getFullyRemoved=function(){VeryBasicGameObject.prototype.getFullyRemoved.call(this)};
BasicGameObject.prototype.performUpgrade4Mode=function(a,b){a=this.getNumUpgrades4Mode(a);0<a&&this.performUpgrade(a,b)};BasicGameObject.prototype.performUpgrade=function(a,b){var c=this.getUpgradePrice(a);this.currentLevel+=a;b||this.myWorld.receiveResource("money",-c)};BasicGameObject.prototype.getNameStr=function(){var a=this.myWorld.machinesClasses.indexOf(this.myClass);return-1!=a?this.myWorld.machinesNames[a]:""};
BasicGameObject.prototype.getNumUpgrades4Mode=function(a){if(this.upgradePriceFunction){var b=0;switch(a){case "x1":b=1;break;case "x10":b=10;break;case "Max":a=1;for(b=this.upgradePriceFunction(this.currentLevel+0);b<=this.myWorld.money;){var c=this.upgradePriceFunction(this.currentLevel+a+0);if(b+c<=this.myWorld.money)b+=c,a++;else break}b=a;break;case "Next":a=!1;for(b=1;1E4>b;b++){for(c=0;c<this.upgradedParams.length;c++)if(this.upgradedParams[c].isLevelANodeFunc(this.currentLevel+b)){a=!0;break}if(a)break}b=
a?b:1}return b}return 0};BasicGameObject.prototype.getUpgradePrice4Mode=function(a){return this.getUpgradePrice(this.getNumUpgrades4Mode(a))};BasicGameObject.prototype.getUpgradePrice=function(a){if(this.upgradePriceFunction)for(var b=0,c=0;c<a;c++)b+=this.upgradePriceFunction(this.currentLevel+c);else b=-1;return b};BasicGameObject.prototype.canBUpgraded=function(a){return this.myWorld.money>=this.getUpgradePrice(a)};
BasicGameObject.prototype.canBUpgraded4Mode=function(a){return this.myWorld.money>=this.getUpgradePrice4Mode(a)};BasicGameObject.prototype.clickEffect=function(){};BasicGameObject.prototype.react2Down=function(a,b){VeryBasicGameObject.prototype.react2Down.call(this,a,b);this.autoClicker&&this.autoClicker.startClicking()};BasicGameObject.prototype.react2Up=function(a,b){VeryBasicGameObject.prototype.react2Up.call(this,a,b);this.autoClicker&&this.autoClicker.stopClicking()};
BasicGameObject.prototype.react2Out=function(){VeryBasicGameObject.prototype.react2Out.call(this);this.autoClicker&&this.autoClicker.stopClicking()};BasicGameObject.prototype.save2Ar=function(a,b){b=VeryBasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.gatheredPhiInCurrentState;a[b+1]=this.phi4FullCycle;a[b+2]=this.currentLevel;a[b+3]=this.ownPhiGeneration;a[b+4]=this.numCyclesCompletedAfterLastCheck;a[b+5]=this.totalProcessingsMade;return b+6};
BasicGameObject.prototype.loadFromAr=function(a,b){b=VeryBasicGameObject.prototype.loadFromAr.call(this,a,b);this.gatheredPhiInCurrentState=a[b+0];this.phi4FullCycle=a[b+1];this.currentLevel=a[b+2];this.ownPhiGeneration=a[b+3];this.numCyclesCompletedAfterLastCheck=a[b+4];this.totalProcessingsMade=a[b+5];this.lastPhi=this.gatheredPhiInCurrentState;return b+6};
var BasicConnection=function(a,b,c){VeryBasicGameObject.call(this,a,b,c);this.obTo=this.obFrom=null;this.coef=1;this.obToPinId=this.obFromPinId=-1;this.obToPin=this.obFromPin=null};$jscomp.inherits(BasicConnection,VeryBasicGameObject);
BasicConnection.prototype.initProperties=function(a){this.obFrom=this.myWorld.getObjectOfId(a[0]);this.obTo=this.myWorld.getObjectOfId(a[1]);this.coef=a[2];this.obFromPinId=a[3];this.obToPinId=a[4];this.obFromPin=this.obFrom.getPinOfId(this.obFromPinId);this.obToPin=this.obTo.getPinOfId(this.obToPinId);this.obFrom.registerOutgoingConnection(this,!0);this.obTo.registerIncomingConnection(this,!0);return 5};
BasicConnection.prototype.getPrepared4Deletion=function(){VeryBasicGameObject.prototype.getPrepared4Deletion.call(this);this.obFrom.removeOutgoingConnection(this);this.obTo.removeIncomingConnection(this)};BasicConnection.prototype.save2Ar=function(a,b){b=VeryBasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.obFrom.arId;a[b+1]=this.obTo.arId;a[b+2]=this.coef;a[b+3]=this.obFromPinId;a[b+4]=this.obToPinId;return b+5};
BasicConnection.prototype.loadFromAr=function(a,b){b=VeryBasicGameObject.prototype.loadFromAr.call(this,a,b);this.obFrom=this.myWorld.getObjectOfId(a[b+0]);this.obTo=this.myWorld.getObjectOfId(a[b+1]);this.coef=a[b+2];this.obFromPinId=a[b+3];this.obToPinId=a[b+4];this.obFromPin=this.obFrom.getPinOfId(this.obFromPinId);this.obToPin=this.obTo.getPinOfId(this.obToPinId);this.obFrom.registerOutgoingConnection(this,!1);this.obTo.registerIncomingConnection(this,!1);return b+5};
var UpgradedParam=function(a,b,c,d,e,f,g,h,k,n){this.paramName=a;this.ownerMachine=b;this.paramExplanation=d;this.paramUnits=e;this.coef2VisualizeUnits=f;this.valAt0=c;this.isLevelANodeFunc=g;this.simpleValIncFunc=h;this.nodeValIncFunc=k;this.cachedLevel=-1;this.cachedValue=0;this.isReciprocal4Show=n;this.masterCoef=1};UpgradedParam.prototype.getValue4Level=function(a){a!=this.cachedLevel&&(this.cachedValue=this.updateCachedValue4Level(a),this.cachedLevel=a);return this.cachedValue*this.masterCoef};
UpgradedParam.prototype.getValue2Show4Level=function(a){a=this.getValue4Level(a);this.isReciprocal4Show&&(a=1/a);return a*=this.coef2VisualizeUnits};UpgradedParam.prototype.updateCachedValue4Level=function(a){for(var b=this.valAt0,c=0,d=1;d<=a;d++)this.isLevelANodeFunc(d)?(b=this.nodeValIncFunc(b,c),c++):b=this.simpleValIncFunc(b,c,d);return b};
UpgradedParam.prototype.willHaveNodeInNext=function(a){for(var b=!1,c=this.ownerMachine.currentLevel+1;c<=this.ownerMachine.currentLevel+a;c++)if(this.isLevelANodeFunc(c)){b=!0;break}return b};UpgradedParam.prototype.clone4Machine=function(a){return new UpgradedParam(this.paramName,a,this.valAt0,this.paramExplanation,this.paramUnits,this.coef2VisualizeUnits,this.isLevelANodeFunc,this.simpleValIncFunc,this.nodeValIncFunc,this.isReciprocal4Show)};
UpgradedParam.prototype.buildCurrentString=function(a){a||(a=0);var b=this.getValue2Show4Level(this.ownerMachine.currentLevel);b=this.paramName+": "+this.ownerMachine.myWorld.myBottleScreen.utils.showNumberAsText(b)+" "+this.paramUnits;0<a&&(a=this.getValue2Show4Level(this.ownerMachine.currentLevel+a),b+=" => ("+this.ownerMachine.myWorld.myBottleScreen.utils.showNumberAsText(a)+")");return b};
UpgradedParam.prototype.buildCurrentStringAsAr=function(a){a||(a=0);var b=this.getValue2Show4Level(this.ownerMachine.currentLevel);b=[this.paramName+": ",this.ownerMachine.myWorld.myBottleScreen.utils.showNumberAsText(b)+" "+this.paramUnits];0<a&&(a=this.getValue2Show4Level(this.ownerMachine.currentLevel+a),b.push(" => ","("+this.ownerMachine.myWorld.myBottleScreen.utils.showNumberAsText(a)+")"));return b};
UpgradedParam.prototype.showEffectString=function(a){var b=this.getValue2Show4Level(this.ownerMachine.currentLevel);a=this.getValue2Show4Level(this.ownerMachine.currentLevel+a);return this.ownerMachine.myWorld.myBottleScreen.utils.showNumberAsText(b)+" -> "+this.ownerMachine.myWorld.myBottleScreen.utils.showNumberAsText(a)};
var Slot4MachinePurchase=function(a,b,c){BasicGameObject.call(this,a,b,c);this.purchasedClass=null;this.stringCodeInPurchaser="PURCH_CODE";this.idInPurchaser=-1;this.purchasedRecord=null;this.purchasePriceFunction=this.myWorld.ballanser.calcPurchasePrice4Slot;this.onPurchaseMadeIncomingConnections=[];this.onPurchaseMadeOutgoingConnections=[]};$jscomp.inherits(Slot4MachinePurchase,BasicGameObject);
Slot4MachinePurchase.prototype.initProperties=function(a){var b=BasicGameObject.prototype.initProperties.call(this,a);this.stringCodeInPurchaser=a[b+0];this.idInPurchaser=this.myWorld.purchaser.getIdOfCode(this.stringCodeInPurchaser);this.purchasedRecord=this.myWorld.purchaser.purhasedObjects[this.idInPurchaser];var c=a[b+1];b+=2;for(var d=0;d<c;d++)this.onPurchaseMadeIncomingConnections.push({id:a[b+0]}),b++;c=a[b+0];b++;for(d=0;d<c;d++)this.onPurchaseMadeOutgoingConnections.push({id:a[b+0]}),b++;
return b+0};Slot4MachinePurchase.prototype.updateInterfaceOnVisual=function(){if(this.visual&&this.visual.hasUpgradeButton){var a="hidden",b=this.getPurchasePrice();0<=b&&(a=this.myWorld.money,a=a>=b?"active":a>=.25*b?"inactive":"hidden");window.bottleScreen.config.hideAllUpgradeButtons&&(a="hidden");this.visual.setUpgradeButtonProp(a)}};
Slot4MachinePurchase.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new Slot4MachinePurchaseVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this,"purchase")};Slot4MachinePurchase.prototype.getPurchasedMachineDescStr=function(){return this.purchasedRecord?this.purchasedRecord.purchDesc:""};Slot4MachinePurchase.prototype.getPurchasedMachineNameStr=function(){return this.purchasedRecord?this.purchasedRecord.purchName:""};
Slot4MachinePurchase.prototype.getPurchasePrice=function(){return this.purchasePriceFunction?this.purchasePriceFunction(this):-1};
Slot4MachinePurchase.prototype.performPurchase=function(a,b){if(this.purchasedRecord){if(!a){var c=a=this.getPurchasePrice();b&&(c=a*b);this.myWorld.receiveResource("money",-c)}b=this.purchasedRecord.mainObjClass;a=this.purchasedRecord.mainObjParams.slice();a[0]+=this.x;a[1]+=this.y;b=this.myWorld.createObject(b,a);for(a=0;a<this.onPurchaseMadeIncomingConnections.length;a++)this.myWorld.createObject(SimpleConnection,[this.onPurchaseMadeIncomingConnections[a].id,b.arId,1,-1,-1]);for(a=0;a<this.onPurchaseMadeOutgoingConnections.length;a++)this.myWorld.createObject(SimpleConnection,
[b.arId,this.onPurchaseMadeOutgoingConnections[a].id,1,-1,-1])}this.getPrepared4Deletion();window.bottleScreen.statsWrapper.sendEvent("slot_purchase",this.getPurchasedMachineNameStr())};
Slot4MachinePurchase.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.idInPurchaser;var c=this.onPurchaseMadeIncomingConnections.length;a[b+1]=c;b+=2;for(var d=0;d<c;d++)a[b+0]=this.onPurchaseMadeIncomingConnections[d].id,b++;c=this.onPurchaseMadeOutgoingConnections.length;a[b+0]=c;b++;for(d=0;d<c;d++)a[b+0]=this.onPurchaseMadeOutgoingConnections[d].id,b++;return b+0};
Slot4MachinePurchase.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.idInPurchaser=a[b+0];this.purchasedRecord=this.myWorld.purchaser.purhasedObjects[this.idInPurchaser];var c=a[b+1];b+=2;for(var d=0;d<c;d++)this.onPurchaseMadeIncomingConnections.push({id:a[b+0]}),b++;c=a[b+0];b++;for(d=0;d<c;d++)this.onPurchaseMadeOutgoingConnections.push({id:a[b+0]}),b++;return b+0};
var AutoClicker=function(a){this.lastClickMoment=this.lastCalculatedMoment=0;this.timeBetweenClicks=.2;this.isClicking=!1;this.ownerObject=a};AutoClicker.prototype.doStep=function(a){this.lastCalculatedGameMoment=a;this.isClicking&&(a=this.lastCalculatedGameMoment-this.lastClickMoment,(a>this.timeBetweenClicks||0>a)&&this.doClickOnObject())};AutoClicker.prototype.startClicking=function(){this.isClicking=!0;this.doClickOnObject()};AutoClicker.prototype.stopClicking=function(){this.isClicking=!1};
AutoClicker.prototype.doClickOnObject=function(){this.ownerObject.clickEffect();this.lastClickMoment=this.lastCalculatedGameMoment};var ObjectSoundPlayer=function(a){this.myMachine=a;this.timeWhenNextSoundAllowed=0};ObjectSoundPlayer.prototype.playSound=function(a,b,c){if(c||this.myMachine.lastCalculatedGameMoment>=this.timeWhenNextSoundAllowed)window.mySoundPlayer.playSound(a),this.timeWhenNextSoundAllowed=this.myMachine.lastCalculatedGameMoment+b};var UnmovableBGD=function(a,b,c){this.myWorld=a;this.scene=b;this.grp=c};UnmovableBGD.prototype.updateSize=function(a){};UnmovableBGD.prototype.getFullyRemoved=function(){};UnmovableBGD.prototype.doStep=function(a){};var BasicMachineVisual=function(a,b,c,d){var e=Phaser.GameObjects.Container.call(this,a)||this;e.imageModifiers=[];e.embeddedVisuals=[];e.touchRect=new Phaser.Geom.Rectangle(-50,-50,100,100);e.scene=a;e.x=c;e.y=d;e.grp=b;e.grp.add(e);e.upgBtnCoords={x:0,y:0};e.updInterfaceDt=.25+.1*Math.random();e.lastInterfaceUpdateMoment=0;e.hasUpgradeButton=!1;return e};$jscomp.inherits(BasicMachineVisual,Phaser.GameObjects.Container);
BasicMachineVisual.prototype.doAnimations=function(a){for(var b=0;b<this.imageModifiers.length;b++){var c=this.imageModifiers[b];c.isAnimating&&c.doAnimStep(a)}for(b=0;b<this.embeddedVisuals.length;b++)this.embeddedVisuals[b].doAnimations(a)};
BasicMachineVisual.prototype.createUpgradeButton=function(a,b){this.hasUpgradeButton=!0;"purchase"==b?(this.upgradeButton=new ButtonWithIcon(this.scene,this,"w000_sellIcon4new0000",this.upgBtnCoords.x,this.upgBtnCoords.y),this.upgradeButton.registerHandler(this.prcBtnHandler)):(this.upgradeButton=new ButtonWithIcon(this.scene,this,"w000_upgradeIcon4new0000",this.upgBtnCoords.x,this.upgBtnCoords.y),this.upgradeButton.registerHandler(this.upgBtnHandler),this.upgradeButton.createCaption(" ",-20,0),this.upgradeButton.lvlInformer.changeTint(5782826),
this.upgradeButton.lvlInformer.changeAlign("left"));this.upgradeButton.myMachine=a;this.setUpgradeButtonProp("hidden")};BasicMachineVisual.prototype.setUpgradeButtonProp=function(a){switch(a){case "hidden":this.upgradeButton.visible=!1;break;case "inactive":this.upgradeButton.visible=!0;this.upgradeButton.alpha=.5;this.upgradeButton.tint=8947848;break;case "active":this.upgradeButton.visible=!0,this.upgradeButton.alpha=1,this.upgradeButton.tint=16777215}};
BasicMachineVisual.prototype.showLevelOnUpgradeButton=function(a){this.upgradeButton.lvlInformer&&(0<a?this.upgradeButton.lvlInformer.showText(window.bottleScreen.utils.showNumberAsText(a)):this.upgradeButton.lvlInformer.showText(" "))};BasicMachineVisual.prototype.upgBtnHandler=function(){this.myMachine.myWorld.hud.showMachineUpgradePanel(this.myMachine)};BasicMachineVisual.prototype.prcBtnHandler=function(){this.myMachine.myWorld.hud.showMachinePurchasePanel(this.myMachine)};
BasicMachineVisual.prototype.embedVisual=function(a){this.embeddedVisuals.push(a)};BasicMachineVisual.prototype.registerAnimatedImage=function(a){this.add(a.im);this.imageModifiers.push(a.ima);a.im.visible=!1};BasicMachineVisual.prototype.setAnimLength=function(a,b){a<this.imageModifiers.length&&this.imageModifiers[a].setCycle(0,b)};BasicMachineVisual.prototype.setAnimLambda=function(a,b){a<this.imageModifiers.length&&this.imageModifiers[a].setLambdaDirectly(b)};
BasicMachineVisual.prototype.interpolateAnimLambda=function(a,b,c){a<this.imageModifiers.length&&this.imageModifiers[a].interpolate2Lambda(b,c)};BasicMachineVisual.prototype.runAnimId=function(a,b,c){a<this.imageModifiers.length&&this.imageModifiers[a].startAnimation(b,c)};BasicMachineVisual.prototype.stopAnimId=function(a){a<this.imageModifiers.length&&(this.imageModifiers[a].isAnimating=!1)};BasicMachineVisual.prototype.moveHigherOnLayer=function(){this.grp.bringToTop(this)};
BasicMachineVisual.prototype.getRemoved=function(){Phaser.GameObjects.Container.prototype.destroy.call(this)};BasicMachineVisual.prototype.createImageModifier=function(a,b){var c=new ImageModifier;c.registerDob(a,b);this.imageModifiers.push(c);return c};BasicMachineVisual.prototype.setPosition=function(a,b){this.x=a;this.y=b};var Slot4MachinePurchaseVisual=function(a,b,c,d){return BasicMachineVisual.call(this,a,b,c,d)||this};$jscomp.inherits(Slot4MachinePurchaseVisual,BasicMachineVisual);var TestMachineVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.img=a.scene.add.sprite(0,0,"allGraphics2","w000_pinPoint4nemo0000");a.add(a.img);b=new ImageModifier;b.registerDob(a.img,1+Math.random());b.addAnimNode(.4,0,0,0,1.2,1.2);b.startAnimation(-1,0);a.imageModifiers.push(b);return a};$jscomp.inherits(TestMachineVisual,BasicMachineVisual);var ImageModifier=function(){this.affectedDob=null;this.phiCycleLength=this.phiGathered=0;this.maxNumCycles=1;this.cyclesMade=0;this.isAnimating=!1;this.viewsSnapshots=[];this.modifiedPropsNames="x y rotation scaleX scaleY skewX skewY alpha visible".split(" ");this.modifiedProperties=[];this.modifiedPropsIds=[];this.lambdaAfterAnimCompletion=1;this.isPhiBased=!0;this.debugName="";this.hasCycleCompleted=this.isLogging=!1;this.preLastLambda=this.lastLambda=0;this.timeRunFunction=null;for(var a=0;9>
a;a++)this.modifiedProperties[a]=!1};ImageModifier.prototype.registerDob=function(a,b){this.affectedDob=a;this.phiCycleLength=b;this.viewsSnapshots.length=0;a=new DobViewSnapshot;a.fromDob(0,this.affectedDob);this.viewsSnapshots.push(a);a=new DobViewSnapshot;a.fromDob(1,this.affectedDob);this.viewsSnapshots.push(a)};
ImageModifier.prototype.getDobPropertyId=function(a){switch(a){case 0:return this.affectedDob.x;case 1:return this.affectedDob.y;case 2:return this.affectedDob.rotation;case 3:return this.affectedDob.scaleX;case 4:return this.affectedDob.scaleY;case 5:return this.affectedDob.skewX;case 6:return this.affectedDob.skewY;case 7:return this.affectedDob.alpha;case 8:return this.affectedDob.visible?1:0}return 0};
ImageModifier.prototype.addAnimNode=function(a,b,c,d,e,f,g,h,k,n){b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?0:d;e=void 0===e?1:e;f=void 0===f?1:f;g=void 0===g?0:g;h=void 0===h?0:h;k=void 0===k?1:k;n=void 0===n?1:n;var m=new DobViewSnapshot;m.fromData(a,b,c,d,e,f,g,h,k,n);for(b=0;b<this.modifiedProperties.length;b++)m.getPropertyId(b)!=this.getDobPropertyId(b)&&(this.modifiedProperties[b]=!0,-1==this.modifiedPropsIds.indexOf(b)&&this.modifiedPropsIds.push(b));if(1!=a&&0!=a)for(this.viewsSnapshots.push(null),
b=this.viewsSnapshots.length-1;0<b;b--)if(this.viewsSnapshots[b-1].momentLambda>a)this.viewsSnapshots[b]=this.viewsSnapshots[b-1];else{this.viewsSnapshots[b]=m;break}else 1==a?this.viewsSnapshots[this.viewsSnapshots.length-1]=m:this.viewsSnapshots[0]=m};ImageModifier.prototype.startAnimation=function(a,b){!this.affectedDob||2>this.viewsSnapshots.length||(this.cyclesMade=0,this.maxNumCycles=a,-1!=b&&(this.phiGathered=b),this.isAnimating=!0,this.hasCycleCompleted=!1)};
ImageModifier.prototype.doAnimStep=function(a){this.hasCycleCompleted=!1;0>a&&(a=0);if(this.isAnimating){var b=!1;this.phiGathered+=a;this.phiGathered>=this.phiCycleLength&&(a=Math.floor(this.phiGathered/this.phiCycleLength),this.phiGathered%=this.phiCycleLength,this.cyclesMade+=a,0<this.maxNumCycles&&this.cyclesMade>=this.maxNumCycles&&(b=!0),this.hasCycleCompleted=!0);b?(b=this.lambdaAfterAnimCompletion,this.isAnimating=!1):b=this.phiGathered/this.phiCycleLength;this.preLastLambda=this.lastLambda;
this.lastLambda=this.lambda;this.setDobPropertiesByLambda(b)}};ImageModifier.prototype.setLambdaDirectly=function(a){this.setPhiGatheredDirectly(a*this.phiCycleLength)};ImageModifier.prototype.interpolate2Lambda=function(a,b){this.setPhiGatheredDirectly(this.phiGathered*(1-b)+a*this.phiCycleLength*b)};ImageModifier.prototype.stopAfterThisRun=function(){this.maxNumCycles=this.cyclesMade+1;this.setLambdaDirectly(.999)};
ImageModifier.prototype.setPhiGatheredDirectly=function(a){this.phiGathered=a;0>this.phiGathered&&(this.phiGathered=0);this.setDobPropertiesByLambda(this.phiGathered>=this.phiCycleLength?1:this.phiGathered/this.phiCycleLength)};ImageModifier.prototype.doBackwardsAnimStep=function(a){a%=this.phiCycleLength;this.doAnimStep(this.phiCycleLength-a)};ImageModifier.prototype.setCycle=function(a,b){this.phiGathered=a;this.phiCycleLength=b};
ImageModifier.prototype.setDobPropertiesByLambda=function(a){this.timeRunFunction&&(a=this.timeRunFunction(a));for(var b=0;b<this.viewsSnapshots.length-1&&!(this.viewsSnapshots[b].momentLambda<=a&&this.viewsSnapshots[b+1].momentLambda>=a);b++);b!=this.viewsSnapshots.length-1?this.interpolateDobStateBetween(this.viewsSnapshots[b],this.viewsSnapshots[b+1],a):this.interpolateDobStateBetween(this.viewsSnapshots[this.viewsSnapshots.length-1],this.viewsSnapshots[this.viewsSnapshots.length-1],0)};
ImageModifier.prototype.interpolateDobStateBetween=function(a,b,c){c=(c-a.momentLambda)/(b.momentLambda-a.momentLambda);for(var d=0;d<this.modifiedPropsIds.length;d++){var e=this.modifiedPropsIds[d];0==e?this.affectedDob.x=a.cx+(b.cx-a.cx)*c:1==e?this.affectedDob.y=a.cy+(b.cy-a.cy)*c:2==e?this.affectedDob.rotation=a.rot+(b.rot-a.rot)*c:3==e?this.affectedDob.scaleX=a.scaleX+(b.scaleX-a.scaleX)*c:4==e?this.affectedDob.scaleY=a.scaleY+(b.scaleY-a.scaleY)*c:5==e?this.affectedDob.skewX=a.skewX+(b.skewX-
a.skewX)*c:6==e?this.affectedDob.skewY=a.skewY+(b.skewY-a.skewY)*c:7==e?this.affectedDob.alpha=a.alpha+(b.alpha-a.alpha)*c:8==e&&(this.affectedDob.visible=1==a.visible)}};ImageModifier.prototype.clear=function(){for(var a=this.viewsSnapshots.length=0;9>a;a++)this.modifiedProperties[a]=!1};ImageModifier.prototype.modCycleLength=function(a){this.phiCycleLength*=a};ImageModifier.prototype.addRandomPush2PhiGathered=function(){this.phiGathered+=(this.phiCycleLength-this.phiGathered)*Math.random()};
ImageModifier.prototype.pauseAnimation=function(){this.isAnimating=!1};ImageModifier.prototype.resulmeAnimation=function(){this.isAnimating=!0};ImageModifier.prototype.hasJustCrossedLambda=function(a){var b=!1;this.preLastLambda<=a&&(this.lastLambda>=a?b=!0:this.lastLambda<this.preLastLambda&&(b=!0));return b};
ImageModifier.prototype.modNodeProperty=function(a,b,c){var d=this.modifiedPropsNames.indexOf(b);-1!=d?(this.viewsSnapshots[a].setPropertyId(d,c),this.modifiedProperties[d]=!0,-1==this.modifiedPropsIds.indexOf(d)&&this.modifiedPropsIds.push(d)):"lambda"==b&&(this.viewsSnapshots[a].momentLambda=c)};ImageModifier.prototype.getGatheredPhi=function(){return this.phiGathered};
ImageModifier.prototype.setTimeRunFunction=function(a){switch(a){case "none":this.timeRunFunction=null;break;case "accelerate":this.timeRunFunction=null;break;case "deccelerate":this.timeRunFunction=null}};ImageModifier.prototype.getCycleLength=function(){return this.phiCycleLength};ImageModifier.prototype.accelFunc=function(a){return a*a};ImageModifier.prototype.deccelFunc=function(a){return 1-(1-a)*(1-a)};
$jscomp.global.Object.defineProperties(ImageModifier.prototype,{isAnimationRunning:{configurable:!0,enumerable:!0,get:function(){return this.isAnimating}}});var DobViewSnapshot=function(){this.rot=this.cy=this.cx=this.momentLambda=0;this.scaleY=this.scaleX=1;this.skewY=this.skewX=0;this.visible=this.alpha=1};
DobViewSnapshot.prototype.getPropertyId=function(a){switch(a){case 0:return this.cx;case 1:return this.cy;case 2:return this.rot;case 3:return this.scaleX;case 4:return this.scaleY;case 5:return this.skewX;case 6:return this.skewY;case 7:return this.alpha;case 8:return this.visible}return 0};
DobViewSnapshot.prototype.setPropertyId=function(a,b){switch(a){case 0:this.cx=b;break;case 1:this.cy=b;break;case 2:this.rot=b;break;case 3:this.scaleX=b;break;case 4:this.scaleY=b;break;case 5:this.skewX=b;break;case 6:this.skewY=b;break;case 7:this.alpha=b;break;case 8:this.visible=b}};
DobViewSnapshot.prototype.fromDob=function(a,b){this.momentLambda=a;this.cx=b.x;this.cy=b.y;this.rot=b.rotation;this.scaleX=b.scaleX;this.scaleY=b.scaleY;this.skewX=b.skewX;this.skewY=b.skewY;this.alpha=b.alpha;this.visible=b.visible?1:0};
DobViewSnapshot.prototype.fromData=function(a,b,c,d,e,f,g,h,k,n){this.momentLambda=a;this.cx=void 0===b?0:b;this.cy=void 0===c?0:c;this.rot=void 0===d?0:d;this.scaleX=void 0===e?1:e;this.scaleY=void 0===f?1:f;this.skewX=void 0===g?0:g;this.skewY=void 0===h?0:h;this.alpha=void 0===k?1:k;this.visible=void 0===n?1:n};var ImageColorChanger=function(a){this.color0=a;a=this.convertRGB2HSV(a>>16&255,a>>8&255,a&255);this.h0=a[0];this.s0=a[1];this.v0=a[2]/255*100};ImageColorChanger.prototype.createNewColor=function(){var a=this.convertHSV2RGB(360*Math.random(),this.s0,this.v0);return a[0]<<16|a[1]<<8|a[2]};
ImageColorChanger.prototype.convertHSV2RGB=function(a,b,c){360==a&&(a=0);b=(100-b)*c/100;var d=a%60*(c-b)/60,e=b+d;d=c-d;var f=0,g=0,h=0;switch(Math.floor(a/60)){case 0:f=c;g=e;h=b;break;case 1:f=d;g=c;h=b;break;case 2:f=b;g=c;h=e;break;case 3:f=b;g=d;h=c;break;case 4:f=e;g=b;h=c;break;case 5:f=c,g=b,h=d}return[Math.round(2.55*f),Math.round(2.55*g),Math.round(2.55*h)]};
ImageColorChanger.prototype.convertRGB2HSV=function(a,b,c){var d=0,e=0,f=Math.min(a,b,c),g=Math.max(a,b,c);f==g?a=f:(d=60*((a==f?3:c==f?1:5)-(a==f?b-c:c==f?a-b:c-a)/(g-f)),e=(g-f)/g,a=g);return[Math.round(d),Math.round(100*e),Math.round(a)]};var DobMover=function(a){this.distsAr=[];this.totalDist=0;this.mustAlphaAtEnd=!1;this.labmda2Fade=.1;this.trajectoryAr=a;for(a=1;a<this.trajectoryAr.length;a++){var b=this.trajectoryAr[a-1],c=this.trajectoryAr[a],d=c.x-b.x;b=c.y-b.y;d=Math.sqrt(d*d+b*b);this.distsAr.push(d);this.totalDist+=d}if(this.trajectoryAr[0].x!=this.trajectoryAr[this.trajectoryAr.length-1].x||this.trajectoryAr[0].y!=this.trajectoryAr[this.trajectoryAr.length-1].y)this.mustAlphaAtEnd=!0};
DobMover.prototype.placeDobAtLambdaCoords=function(a,b){0>b&&(b=0);1<b&&(b=1);for(var c=this.totalDist*b,d=0;c>this.distsAr[d]&&(c-=this.distsAr[d],d++,d!=this.distsAr.length-1););c/=this.distsAr[d];a.x=this.trajectoryAr[d].x+c*(this.trajectoryAr[d+1].x-this.trajectoryAr[d].x);a.y=this.trajectoryAr[d].y+c*(this.trajectoryAr[d+1].y-this.trajectoryAr[d].y);this.mustAlphaAtEnd&&!a.wasTouched&&(a.alpha=b<this.labmda2Fade?b/this.labmda2Fade:b>1-this.labmda2Fade?(1-b)/this.labmda2Fade:1)};
var WaveMover=function(a){this.imgs=a;this.currentImageId=-1;this.totalPhi=0;this.animationSpeedCoef=20;this.sectionSizeAddCoef=.1;this.isAnimationRunning=!0};WaveMover.prototype.startAnimation=function(){this.currentImageId=-1;this.totalPhi=0;this.isAnimationRunning=!0};
WaveMover.prototype.doStep=function(a){if(this.isAnimationRunning){this.totalPhi+=a*this.animationSpeedCoef;a=Math.floor(this.totalPhi);var b=this.totalPhi-a,c=1-b;0<=a&&a<this.imgs.length&&(this.imgs[a].setScale(1+this.sectionSizeAddCoef*c),a<this.imgs.length-1&&this.imgs[a+1].setScale(1+this.sectionSizeAddCoef*b));this.currentImageId!=a&&(0<=this.currentImageId&&this.currentImageId<this.imgs.length&&this.imgs[this.currentImageId].setScale(1),this.currentImageId=a,this.currentImageId>=this.imgs.length&&
(this.isAnimationRunning=!1))}};var StatsWrapper=function(){this.playerUID="";this.gameCode=2;var a=localStorage.getItem("Tower_id");if("null"!=a&&null!=a&&""!=a)this.playerUID=a;else{a="HPL_"+window.location.host+"_G_"+this.gameCode+"_"+(new Date).valueOf()+"_";for(var b=""+Math.floor(1E3*Math.random());3>b.length;)b="0"+b;this.playerUID=a+b}localStorage.setItem("Tower_id",this.playerUID)};StatsWrapper.prototype.sendEvent=function(a,b,c){gtag&&gtag("event",a,{event_category:this.playerUID,event_label:b,value:c})};var MyVector=function(a,b){this.y=this.x=0;this.setValue(a,b)};MyVector.prototype.setValue=function(a,b){this.x=a;this.y=b};MyVector.prototype.addValue=function(a,b){this.x+=a;this.y+=b};MyVector.prototype.getMyLengthSq=function(){return this.x*this.x+this.y*this.y};MyVector.prototype.getMyLength=function(){return Math.sqrt(this.getMyLengthSq())};MyVector.prototype.multBy=function(a){this.x*=a;this.y*=a};
MyVector.prototype.setLengthOf=function(a){var b=this.getMyLength();1E-7<b?this.multBy(a/b):this.setValue(a,0)};MyVector.prototype.getMyAngle=function(){return Math.atan2(this.x,-this.y)};MyVector.prototype.setNewAngle=function(a){var b=this.getMyLength();this.setValue(b*Math.sin(a),-b*Math.cos(a))};MyVector.prototype.rotateByAngle=function(a){this.setNewAngle(a+this.getMyAngle())};var TextField=function(a,b,c,d,e){var f=Phaser.GameObjects.Container.call(this,a)||this;f.innerTF=new TFOnParentGroup(a,f,c,0,0);f.x=d;f.y=e;f.grp=b;f.grp.add(f);f.letters=f.innerTF.letters;return f};$jscomp.inherits(TextField,Phaser.GameObjects.Container);TextField.prototype.setLettersScale=function(a){this.innerTF.setLettersScale(a)};TextField.prototype.setStringWidth=function(a){this.innerTF.myStringWidth=a};TextField.prototype.updateTextTranslation=function(){this.innerTF.updateTextTranslation()};
TextField.prototype.setMustTranslate=function(a){this.innerTF.mustTranslateShownTex=a};TextField.prototype.changeTint=function(a){this.innerTF.changeTint(a)};TextField.prototype.changeAlign=function(a){this.innerTF.changeAlign(a)};TextField.prototype.showText=function(a,b){this.innerTF.showText(a,b)};TextField.prototype.showTextsOfDifferentColors=function(a,b,c){this.innerTF.showTextsOfDifferentColors(a,b,c)};TextField.prototype.setY=function(a){this.y=a};TextField.prototype.getTextHeight=function(){return this.innerTF.getTextHeight()};
var TFWithBGD=function(a,b,c,d,e,f){a=TextField.call(this,a,b,c,d,e)||this;b=f.originX;c=f.originY;a.bgdIm=a.scene.add.image(f.dx,f.dy,"allGraphics2",f.texKey);a.bgdIm.setOrigin(b,c);a.add(a.bgdIm);for(f=0;f<a.letters.length;f++)a.bringToTop(a.letters[f]);return a};$jscomp.inherits(TFWithBGD,TextField);
var TFOnParentGroup=function(a,b,c,d,e){this.mustTranslateShownText=!0;this.westernSymbols="0123456789.,;:!?/_+-=~#$^&*()[]{}<>%@|'\u00bf\u00a1AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz\u00c0\u00e0\u00c9\u00e9\u00cb\u00eb\u00cf\u00ef\u0132\u0133\u00c1\u00e1\u00ca\u00ea\u00c8\u00e8\u00cd\u00ed\u00ce\u00ee\u00d4\u00f4\u00d3\u00f3\u00da\u00fa\u00db\u00fb\u00c6\u00e6\u00d8\u00f8\u00c5\u00e5\u00c4\u00e4\u00d6\u00f6\u0160\u0161\u017d\u017e\u00d5\u00f5\u00dc\u00fc\u00df\u0102\u0103\u00c2\u00e2\u015e\u015f\u0162\u0163\u00c7\u00e7\u011e\u011f\u0130\u0131\u0150\u0151\u0170\u0171\u0152\u0153\u00d9\u00f9\u0178\u00ff\u00c3\u00e3\u00d1\u00f1\u00cc\u00ec\u00d2\u00f2\u0104\u0105\u0141\u0142\u0143\u0144\u017b\u017c\u0106\u0107\u0118\u0119\u015a\u015b\u0179\u017a\u010c\u010d\u0110\u0111\u010e\u010f\u011a\u011b\u0147\u0148\u0158\u0159\u0164\u0165\u016e\u016f\u00dd\u00fd\u013d\u013e\u0139\u013a\u0154\u0155\u0100\u0101\u0112\u0113\u0122\u0123\u012a\u012b\u0136\u0137\u013b\u013c\u0145\u0146\u014c\u014d\u0156\u0157\u016a\u016b\u0116\u0117\u012e\u012f\u0172\u0173\u0410\u0430\u0411\u0431\u0412\u0432\u0413\u0433\u0414\u0434\u0415\u0435\u0416\u0436\u0417\u0437\u0418\u0438\u041a\u043a\u041b\u043b\u041c\u043c\u041d\u043d\u041e\u043e\u041f\u043f\u0420\u0440\u0421\u0441\u0422\u0442\u0423\u0443\u0424\u0444\u0425\u0445\u0426\u0446\u0427\u0447\u0428\u0448\u0419\u0439\u0429\u0449\u042c\u044c\u042e\u044e\u042f\u044f\u0490\u0491\u0404\u0454\u0406\u0456\u0407\u0457\u042a\u044a\u0401\u0451\u042d\u044d\u042b\u044b\u040e\u045e\u0409\u0459\u040a\u045a\u040f\u045f\u0408\u0458\u040b\u045b\u0402\u0452\u0403\u0453\u040c\u045c\u0405\u0455\u04c1\u04c2\u021b\u0219\u021a\u0218\"\u00ab\u00bb\u201e\u201c\u201d\u00a9";this.scene=
a;this.x=d;this.y=e;this.cx=d;this.cy=e;this.textHeight=30;this.group4Letters=this.grp=b;this.untranslatedText=this.text="";this.letters=[];this.myTint=16777215;this.myAlign="center";this.myFontScale=1;this.myStringWidth=900;this.showText(c)};TFOnParentGroup.prototype.setLettersScale=function(a){this.myFontScale=a};TFOnParentGroup.prototype.setStringWidth=function(a){this.myStringWidth=a};TFOnParentGroup.prototype.setMustTranslate=function(a){this.mustTranslateShownTex=a};
TFOnParentGroup.prototype.changeTint=function(a){if(a!=this.myTint)for(this.myTint=a,a=0;a<this.letters.length;a++)this.letters[a].tint=this.myTint};TFOnParentGroup.prototype.changeAlign=function(a){this.myAlign!=a&&(this.myAlign=a,this.alignVisibleLetters(0,this.text.length-1))};TFOnParentGroup.prototype.setY=function(a){for(var b=a-this.cy,c=0;c<this.letters.length;c++)this.letters[c].y+=b;this.cy=a};
TFOnParentGroup.prototype.showTextsOfDifferentColors=function(a,b,c){c={mustAlwaysRebuild:c,idsAndTints:[0]};for(var d=0;d<a.length;d++){var e=a[d];this.mustTranslateShownText&&(e=window.translator.translateText(e));a[d]=e}e="";for(d=0;d<a.length;d++)e+=a[d],c.idsAndTints.push(b[d]),c.idsAndTints.push(e.length);this.showText(e,c)};TFOnParentGroup.prototype.updateTextTranslation=function(){this.showText(this.untranslatedText,null)};
TFOnParentGroup.prototype.showText=function(a,b){!b&&this.mustTranslateShownText&&(this.untranslatedText=a,a=window.translator.translateText(a));if(b)c=b.idsAndTints,0==c.length%2&&c.push(a.length),b=b.mustAlwaysRebuild;else{var c=[0,-1,a.length];b=!1}if(a!=this.text||b){b=0;for(var d=this.cx+0,e=this.cy+0,f=a.length,g=this.letters.length,h=Math.max(f,g),k=[],n=0,m=d,l=0;l<h;l++)if(l<f){var q=a.charAt(l),r=this.westernSymbols.indexOf(q);if(l<g){var p=this.letters[l];p.setTexture("allGraphics2","w000_FontEur4nemo"+
this.getNumString4Tag(Math.max(r,0)))}else p=this.scene.add.image(d,e,"allGraphics2","w000_FontEur4nemo"+this.getNumString4Tag(Math.max(r,0))),this.group4Letters.add(p),this.letters.push(p),p.setOrigin(.5,1);l>=c[b+2]&&(b+=2);var t=c[b+1];-1==t&&(t=this.myTint);p.tint=t;p.setScale(this.myFontScale);p.x=d;p.y=e;p.visible=-1!=r;d+=(p.frame.cutWidth+2)*this.myFontScale;if("\n"==q)d=this.cx+0,e+=45*this.myFontScale,k.push({from:n,to:l-1}),n=l+1,m=d;else if(l==f-1)k.push({from:n,to:l});else if(d-m>this.myStringWidth)if(m=
a.charAt(l+1),-1==this.westernSymbols.indexOf(m))d=this.cx+0,e+=45*this.myFontScale,k.push({from:n,to:l}),n=l+1,m=d;else{q=l;for(m=l-1;m>n;m--)if(r=a.charAt(m),-1==this.westernSymbols.indexOf(r)){q=m;break}e+=45*this.myFontScale;for(m=q+1;m<=l;m++)this.letters[m].y=e;m=q<l?this.letters[q+1].x:d;k.push({from:n,to:q});n=q+1}}else this.letters[l].visible=!1;this.text=a;if(0<f)for(l=0;l<k.length;l++)this.alignVisibleLetters(k[l].from,k[l].to);this.textHeight=e+30*this.myFontScale}};
TFOnParentGroup.prototype.getTextHeight=function(){return this.textHeight};TFOnParentGroup.prototype.alignVisibleLetters=function(a,b){if(b>a){var c=this.letters[a].x,d=this.letters[b].x;switch(this.myAlign){case "left":var e=this.cx-c;break;case "center":e=this.cx-(d+c)/2;break;case "right":e=this.cx-d}for(;a<=b;a++)this.letters[a].x+=e}};TFOnParentGroup.prototype.getNumString4Tag=function(a){for(a=""+a;4>a.length;)a="0"+a;return a};
var ButtonWithText=function(a,b,c,d,e){var f=TextField.call(this,a,b,c,d,e)||this;f.bgdIm=f.scene.add.image(0,-20,"allGraphics2","w000_longButtonUp4new0000");f.bgdIm.setOrigin(.5,.5);f.add(f.bgdIm);f.x=d;f.y=e;for(a=0;a<f.letters.length;a++)f.bringToTop(f.letters[a]);f.isUp=!0;f.clickHandler=null;f.bgdIm.setInteractive();f.bgdIm.on("pointerdown",function(a,b,c,d){return f.react2Down(a,b,c,d)});f.bgdIm.on("pointerout",function(a,b){return f.react2Out(a,b)});f.bgdIm.on("pointerup",function(a,b,c,d){return f.react2Up(a,
b,c,d)});window.translator&&window.translator.registerButton(f);return f};$jscomp.inherits(ButtonWithText,TextField);ButtonWithText.prototype.registerHandler=function(a){this.clickHandler=a};ButtonWithText.prototype.react2Up=function(a,b,c,d){this.isUp||this.clickHandler&&this.clickHandler();this.setUpState();window.mySoundPlayer.playSound("buttonUp")};ButtonWithText.prototype.react2Out=function(a,b){this.setUpState()};ButtonWithText.prototype.react2Move=function(a,b){};
ButtonWithText.prototype.react2Down=function(a,b,c,d){this.setDownState();window.mySoundPlayer.playSound("buttonDown")};ButtonWithText.prototype.setUpState=function(){if(!this.isUp){this.bgdIm.setTexture("allGraphics2","w000_longButtonUp4new0000");for(var a=0;a<this.letters.length;a++)this.letters[a].y=0}this.isUp=!0};
ButtonWithText.prototype.setDownState=function(){if(this.isUp){this.bgdIm.setTexture("allGraphics2","w000_longButtonDown4new0000");for(var a=0;a<this.letters.length;a++)this.letters[a].y=3}this.isUp=!1};ButtonWithText.prototype.isVisible=function(){var a=this.visible;if(a)for(var b=this.parentContainer;b;){if(!b.visible){a=!1;break}b=b.parentContainer}return a};
var ButtonWithIcon=function(a,b,c,d,e){var f=Phaser.GameObjects.Container.call(this,a)||this;f.scene=a;f.grp=b;f.grp.add(f);f.x=d;f.y=e;f.bgdIm=f.scene.add.image(0,0,"allGraphics2","w000_squareButtonDown4new0000");f.bgdIm.setOrigin(.5,.5);f.add(f.bgdIm);f.lvlInformer=null;f.lvlInformerY0=0;c&&(f.iconIm=f.scene.add.image(0,0,"allGraphics2",c),f.iconIm.setOrigin(.5,.5),f.add(f.iconIm));f.isUp=!0;f.clickHandler=null;f.bgdIm.setInteractive();f.bgdIm.on("pointerdown",function(a,b,c,d){return f.react2Down(a,
b,c,d)});f.bgdIm.on("pointerout",function(a,b){return f.react2Out(a,b)});f.bgdIm.on("pointerup",function(a,b,c,d){return f.react2Up(a,b,c,d)});f.isUp=!1;f.setUpState();return f};$jscomp.inherits(ButtonWithIcon,Phaser.GameObjects.Container);ButtonWithIcon.prototype.setIconFrame=function(a){this.iconIm?this.iconIm.setTexture("allGraphics2",a):(this.iconIm=this.scene.add.image(0,0,"allGraphics2",a),this.iconIm.setOrigin(.5,.5),this.add(this.iconIm))};
ButtonWithIcon.prototype.createCaption=function(a,b,c){this.lvlInformer=new TFOnParentGroup(this.scene,this," ",b,c);this.lvlInformer.mustTranslateShownText=!1;this.lvlInformerY0=c;return this.lvlInformer};ButtonWithIcon.prototype.registerHandler=function(a){this.clickHandler=a};ButtonWithIcon.prototype.react2Move=function(a,b){};ButtonWithIcon.prototype.react2Up=function(a,b,c,d){this.isUp||this.clickHandler&&this.clickHandler();this.setUpState();window.mySoundPlayer.playSound("buttonUp")};
ButtonWithIcon.prototype.react2Out=function(a,b){this.setUpState()};ButtonWithIcon.prototype.react2Down=function(a,b,c,d){this.setDownState();window.mySoundPlayer.playSound("buttonDown")};ButtonWithIcon.prototype.setUpState=function(){this.isUp||(this.bgdIm.setTexture("allGraphics2","w000_squareButtonUp4new0000"),this.iconIm&&(this.iconIm.y=0),this.lvlInformer&&this.lvlInformer.setY(this.lvlInformerY0));this.isUp=!0};
ButtonWithIcon.prototype.setDownState=function(){this.isUp&&(this.bgdIm.setTexture("allGraphics2","w000_squareButtonDown4new0000"),this.iconIm&&(this.iconIm.y=3),this.lvlInformer&&this.lvlInformer.setY(this.lvlInformerY0+3));this.isUp=!1};ButtonWithIcon.prototype.isVisible=function(){var a=this.visible;if(a)for(var b=this.parentContainer;b;){if(!b.visible){a=!1;break}b=b.parentContainer}return a};var BabelWorld=function(a,b,c,d){World.call(this,a,b,c,d);this.machinesClasses=[QuarryMine,QuarryStorage,SimpleConnection,BricksStorage,BricksProducerTent,WheelBarrowTransporter,MainBabelTower,Crane,WoodStorage,PlanksStorage,Forest,Lumbermill,WaterWell,WaterPump,Slot4MachinePurchase,DrummerOnBalcony,SmokeMachine,RainCloud,Berth4FlyingMachine,Zeppelin,LiftEngine,Elephant,HayStack,GrassField,Clock,UndergroundWater,WaterExtractor,WaterStorage,CarawanSarai,Camel,Helicopter,HelicopterBalcony];this.machinesNames=
"TXID_MACH_NAME_QUARRY TXID_MACH_NAME_QUARRYSTORAGE TXID_MACH_NAME_CONNECTION TXID_MACH_NAME_BRICKSSTORAGE TXID_MACH_NAME_SAW TXID_MACH_NAME_TRANSPORTER TXID_MACH_NAME_BABELTOWER TXID_MACH_NAME_CRANE TXID_MACH_NAME_WOODSTORAGE TXID_MACH_NAME_PLANKSSTORAGE TXID_MACH_NAME_FOREST TXID_MACH_NAME_LUMBERMILL TXID_MACH_NAME_WATERWELL TXID_MACH_NAME_PUMP TXID_MACH_NAME_SLOT TXID_MACH_NAME_DRUMMER TXID_MACH_NAME_SMOKEMACHINE TXID_MACH_NAME_CLOUD TXID_MACH_NAME_BERTH TXID_MACH_NAME_ZEPPELIN TXID_MACH_NAME_LIFTENGINE TXID_MACH_NAME_ELEPHANT TXID_MACH_NAME_HAYSTACK TXID_MACH_NAME_FIELD TXID_MACH_NAME_CLOCK TXID_MACH_NAME_UNDERGROUNDWATER TXID_MACH_NAME_WATEREXTRACTOR TXID_MACH_NAME_WATERSTORAGE TXID_MACH_NAME_CARAWANSARAI TXID_MACH_NAME_CAMEL TXID_MACH_NAME_HELICOPTER TXID_MACH_NAME_HELICOPTERBALCONY".split(" ");
this.machinesDescs="TXID_MACH_DESC_QUARRY TXID_MACH_DESC_QUARRYSTORAGE TXID_MACH_DESC_CONNECTION TXID_MACH_DESC_BRICKSSTORAGE TXID_MACH_DESC_SAW TXID_MACH_DESC_TRANSPORTER TXID_MACH_DESC_BABELTOWER TXID_MACH_DESC_CRANE TXID_MACH_DESC_WOODSTORAGE TXID_MACH_DESC_PLANKSSTORAGE TXID_MACH_DESC_FOREST TXID_MACH_DESC_LUMBERMILL TXID_MACH_DESC_WATERWELL TXID_MACH_DESC_PUMP TXID_MACH_DESC_SLOT TXID_MACH_DESC_DRUMMER TXID_MACH_DESC_SMOKEMACHINE TXID_MACH_DESC_CLOUD TXID_MACH_DESC_BERTH TXID_MACH_DESC_ZEPPELIN TXID_MACH_DESC_LIFTENGINE TXID_MACH_DESC_ELEPHANT TXID_MACH_DESC_HAYSTACK TXID_MACH_DESC_FIELD TXID_MACH_DESC_CLOCK TXID_MACH_DESC_UNDERGROUNDWATER TXID_MACH_DESC_WATEREXTRACTOR TXID_MACH_DESC_WATERSTORAGE TXID_MACH_DESC_CARAWANSARAI TXID_MACH_DESC_CAMEL TXID_MACH_DESC_HELICOPTER TXID_MACH_DESC_HELICOPTERBALCONY".split(" ");
this.worldTypeId=3;this.maxTowerHeight=this.stone=0;this.artifactsController=new ArtifactsController(this);this.groundLevel=this.myBottleScreen.h0-250;this.midLine=this.myBottleScreen.screenZeroX;this.storagesWithGoods2Sell=[];this.goodsList=this.ballanser.goodsList.slice();this.goodsNamesList=this.ballanser.goodsNamesList.slice();this.pricesList=this.ballanser.pricesList.slice();this.money=0;this.isRestartPlanned=this.isSpeedingTime=!1;this.countdownTillRestart=0;this.carawanSeller=this.clockTimeSpeeder=
null;this.allowedWorldMovements={left:0,top:0,right:0,bottom:0};this.myMouseController.allowedWorldMovements=this.allowedWorldMovements;this.triggersAr=[{uid:0,checkCompletionFunction:this.tapTriggerCondition,checkCompletionFunctionParams:[],resultFunction:this.tapTriggerResult,resultFunctionParams:[]},{uid:1,checkCompletionFunction:this.dragTriggerCondition,checkCompletionFunctionParams:[],resultFunction:this.altDragTriggerResult,resultFunctionParams:[]},{uid:2,checkCompletionFunction:this.tapSawTriggerCondition,
checkCompletionFunctionParams:[],resultFunction:this.tapSawTriggerResult,resultFunctionParams:[]},{uid:3,checkCompletionFunction:this.marketTriggerCondition,checkCompletionFunctionParams:[],resultFunction:this.marketTriggerResult,resultFunctionParams:[]},{uid:4,checkCompletionFunction:this.tower2TriggerCondition,checkCompletionFunctionParams:[],resultFunction:this.tower2TriggerResult,resultFunctionParams:[]},{uid:5,checkCompletionFunction:this.forestTriggerCondition,checkCompletionFunctionParams:[],
resultFunction:this.forestTriggerResult,resultFunctionParams:[]},{uid:6,checkCompletionFunction:this.dragWoodTriggerCondition,checkCompletionFunctionParams:[],resultFunction:this.altDragWoodTriggerResult,resultFunctionParams:[]},{uid:7,checkCompletionFunction:this.tapLumbermillTriggerCondition,checkCompletionFunctionParams:[],resultFunction:this.tapLumbermillTriggerResult,resultFunctionParams:[]},{uid:8,checkCompletionFunction:this.dragWaterTriggerCondition,checkCompletionFunctionParams:[],resultFunction:this.dragWaterTriggerResult,
resultFunctionParams:[]},{uid:9,checkCompletionFunction:this.restartTriggerCondition,checkCompletionFunctionParams:[],resultFunction:this.restartTriggerResult,resultFunctionParams:[]}]};$jscomp.inherits(BabelWorld,World);BabelWorld.prototype.findStorageOfResource=function(a){for(var b=null,c=0;c<this.objects.length;c++){var d=this.objects[c];if(BasicGoodsStorage.isPrototypeOf(d.myClass)&&d.goodsCode==a){b=d;break}}return b};BabelWorld.prototype.countOwnedArtifacts=function(){return this.artifactsController.countOwnedArtifacts()};
BabelWorld.prototype.countArtifactsOfCode=function(a){return this.artifactsController.countArtifactsOfCode(a)};BabelWorld.prototype.update=function(a,b){World.prototype.update.call(this,a,b)};
BabelWorld.prototype.setInitialMoneyAndOtherParams=function(){this.money=0;this.allowedWorldMovements.left=0;this.allowedWorldMovements.top=0;this.allowedWorldMovements.right=0;this.allowedWorldMovements.bottom=0;this.groundLevel=this.myBottleScreen.h0-250;this.midLine=this.myBottleScreen.screenZeroX;this.isSpeedingTime=!1};
BabelWorld.prototype.createInitialObjects=function(){World.prototype.createInitialObjects.call(this);var a=this.createObject(QuarryMine,[40,this.groundLevel]),b=this.createObject(MainBabelTower,[this.midLine-50,a.y]),c=this.createObject(QuarryStorage,[a.x+330,a.y]);this.createObject(SimpleConnection,[a.arId,c.arId,1,-1,-1]);c.moveHigherOnLayer();a=this.createObject(BricksProducerTent,[this.midLine+185,this.groundLevel+170]);var d=this.createObject(BricksStorage,[a.x+220,a.y+20]);this.createObject(SimpleConnection,
[d.arId,b.arId,1,-1,-1]);this.createObject(SimpleConnection,[a.arId,d.arId,1,-1,-1]);b=this.createObject(WheelBarrowTransporter,[a.x-125,a.y,"stone",-250,-150]);this.createObject(SimpleConnection,[c.arId,b.arId,1,-1,-1]);this.createObject(SimpleConnection,[b.arId,a.arId,1,-1,-1]);a.moveHigherOnLayer()};
BabelWorld.prototype.react2TowerStoreyCompletion=function(a){if(1==a.numStoriesBuilt){this.expandDraggableArea({left:-800,right:200,top:0,bottom:0});3>this.numRestarts&&this.showMessage("TXID_MSGCAP_TUT_CRANENEEDED",["TXID_MSGANS_OK"],[{func:this.moveScreenBy.bind(this,-800,0)}],null);var b=this.createObject(Crane,[a.x+664,a.y]),c=this.createObject(Forest,[a.x+1058,a.y+15]),d=this.createObject(Lumbermill,[a.x+782,a.y+169]),e=this.createObject(WoodStorage,[a.x+1268,c.y+165]),f=this.createObject(PlanksStorage,
[a.x+622,a.y+223]),g=this.createObject(WheelBarrowTransporter,[d.x+125,d.y,"wood",e.x-d.x-167,e.y-d.y]);this.createObject(SimpleConnection,[b.arId,a.arId,1,-1,-1]);this.createObject(SimpleConnection,[f.arId,b.arId,1,-1,-1]);this.createObject(SimpleConnection,[d.arId,f.arId,1,-1,-1]);this.createObject(SimpleConnection,[g.arId,d.arId,1,-1,-1]);this.createObject(SimpleConnection,[e.arId,g.arId,1,-1,-1]);this.createObject(SimpleConnection,[c.arId,e.arId,1,-1,-1])}2==a.numStoriesBuilt&&(this.expandDraggableArea({left:-300,
right:0,top:0,bottom:0}),b=this.createObject(WaterWell,[a.x+1602,a.y+122]),c=this.findObjectOfClass({cls:Forest}),this.createObject(Slot4MachinePurchase,[b.x-126,b.y-72,"PURCH_WATERPUMP",1,b.arId,1,c.arId]));if(3==a.numStoriesBuilt){c=[];for(b=0;b<this.objects.length;b++)this.objects[b].myClass==WheelBarrowTransporter&&c.push(this.objects[b]);d=[a.x-110,a.y+a.getStoreyFloorY(a.numStoriesBuilt-1),"PURCH_DRUM",0];d.push(c.length);for(b=0;b<c.length;b++)d.push(c[b].arId);this.createObject(Slot4MachinePurchase,
d)}4==a.numStoriesBuilt&&this.createObject(Slot4MachinePurchase,[a.x+535+110,a.y+a.getStoreyFloorY(a.numStoriesBuilt-1),"PURCH_SMOKE",0,0]);5==a.numStoriesBuilt&&this.createObject(Slot4MachinePurchase,[a.x-110,a.y+a.getStoreyFloorY(a.numStoriesBuilt-1),"PURCH_BERCH",0,0]);6==a.numStoriesBuilt&&(this.createObject(Slot4MachinePurchase,[a.x-429,a.y+321,"PURCH_ELEPHANT",0,0]),this.expandDraggableArea({left:0,right:300,top:-200,bottom:0}));7==a.numStoriesBuilt&&this.createObject(Slot4MachinePurchase,[a.x+
140,a.y-124+a.getStoreyFloorY(a.numStoriesBuilt-1),"PURCH_CLOCK",0,0]);8==a.numStoriesBuilt&&(b=this.findObjectOfClass({cls:WaterWell}),this.createObject(Slot4MachinePurchase,[b.x+164,b.y+353,"PURCH_WATEREXTRACTOR",0,0]),this.expandDraggableArea({left:-300,right:0,top:-280,bottom:0}));9==a.numStoriesBuilt&&(this.createObject(Slot4MachinePurchase,[a.x-1500,a.y+330,"PURCH_CARAWAN",0,0]),this.expandDraggableArea({left:0,right:650,top:0,bottom:0}));10==a.numStoriesBuilt&&this.createObject(Slot4MachinePurchase,
[a.x+535+267,a.y+a.getStoreyFloorY(a.numStoriesBuilt-1)-89,"PURCH_HELICOPTER",0,0]);11==a.numStoriesBuilt&&this.showMessage("TXID_MSG_LEVEL_SPACE\nTXID_MSG_LEVEL_SPACE_ACTION",["TXID_MSGANS_SUBMIT"],[{func:window.bottleScreen.utils.sendEmailWithCaptionAndText.bind(window,window.translator.translateText("Space machines for Babel Tower!"),window.translator.translateText("My suggestions:"))}],null);20==a.numStoriesBuilt&&this.showMessage("TXID_MSGCAP_VICTORY",["TXID_MSGANS_SUBMIT"],[{func:window.bottleScreen.utils.sendEmailWithCaptionAndText.bind(window,
window.translator.translateText("I have completed the Babel Tower!"),window.translator.translateText("TXID_CAP_INF_LEVEL: "+a.numStoriesBuilt+" TXID_INF_GB: "+this.prestige))}],null);3<=a.numStoriesBuilt&&this.expandDraggableArea({left:0,right:0,top:0,bottom:300});this.doSaving()};BabelWorld.prototype.react2CraneStoreyCompletion=function(a){12==a.numStoriesBuilt&&this.createObject(Slot4MachinePurchase,[a.x+270-60,a.y-400,"PURCH_LIFTENGINE",0,1,a.arId]);this.doSaving()};
BabelWorld.prototype.calcPrestigeAfterRestart=function(){this.prestige+=this.getPrestigeAdditionAfterRestart();var a=this.findObjectOfClass({cls:MainBabelTower});a&&(this.maxTowerHeight=Math.max(this.maxTowerHeight,a.numStoriesBuilt))};
BabelWorld.prototype.doRestart=function(){World.prototype.doRestart.call(this);this.carawanSeller=this.clockTimeSpeeder=null;this.offlineTimeBonus*=.1;var a=this.getMasterPriceCoef(this.prestige),b=this.getMasterTapCoef(this.prestige),c=this.getMasterProdCoef(this.prestige);this.showMessage({arOfText:["TXID_MSGCAP_RESTART_INFORMATION\n","TXID_MSGCAP_RESTART_BOOST_CAP\n","\nTXID_MSGCAP_BOOSTNAME_PRICE: ","x"+window.bottleScreen.utils.showNumberAsText(a),"\nTXID_MSGCAP_BOOSTNAME_CLICK: ","x"+window.bottleScreen.utils.showNumberAsText(b),
"\nTXID_MSGCAP_BOOSTNAME_PROD: ","x"+window.bottleScreen.utils.showNumberAsText(c)],arOfColors:[-1,-1,-1,6750054,-1,6750054,-1,6750054]},["TXID_MSGANS_OK"],[null],null)};
BabelWorld.prototype.showRestartRequest=function(){var a=this.getPrestigeAdditionAfterRestart(),b=this.prestige+a,c=this.getMasterPriceCoef(this.prestige),d=this.getMasterTapCoef(this.prestige),e=this.getMasterProdCoef(this.prestige),f=this.getMasterPriceCoef(b),g=this.getMasterTapCoef(b);b=this.getMasterProdCoef(b);var h=this.findObjectOfClass({cls:MainBabelTower});h&&this.hud.showMessage({arOfText:["TXID_MSGCAP_BUILDINHEIGHT_START ",""+h.numStoriesBuilt," TXID_MSGCAP_BUILDINHEIGHT_END.\n","TXID_MSGCAP_FUTUREGB_START ",
""+window.bottleScreen.utils.showNumberAsText(a)," TXID_MSGCAP_FUTUREGB_END.\n\n"," TXID_MSGCAP_NEXTRUNBOOSTS:\n","TXID_MSGCAP_BOOSTNAME_CLICK: ","x"+window.bottleScreen.utils.showNumberAsText(d)," => ","x"+window.bottleScreen.utils.showNumberAsText(g),"\nTXID_MSGCAP_BOOSTNAME_PROD: ","x"+window.bottleScreen.utils.showNumberAsText(e)," => ","x"+window.bottleScreen.utils.showNumberAsText(b),"\nTXID_MSGCAP_BOOSTNAME_PRICE: ","x"+window.bottleScreen.utils.showNumberAsText(c)," => ","x"+window.bottleScreen.utils.showNumberAsText(f),
"\n\nTXID_MSGCAP_RESTART_QUESTION"],arOfColors:[-1,6750054,-1,-1,16777096,-1,-1,-1,-1,16777096,6750054,-1,-1,16777096,6750054,-1,-1,16777096,6750054,-1]},["TXID_MSGANS_NO","TXID_CAP_RESTART"],[null,{func:this.initiateRestartSequence.bind(this)}],null)};
BabelWorld.prototype.getPrestigeAdditionAfterRestart=function(a){a||(a=0);var b=this.findObjectOfClass({cls:MainBabelTower}),c=0;b&&(a=b.numStoriesBuilt+a,2<=a&&(c=(a-1)*(a-1),a>this.maxTowerHeight||c>=this.prestige||(c=Math.max(Math.ceil(c/this.prestige*c),Math.ceil((a-1)/2)))));return c};BabelWorld.prototype.getMasterPriceCoef=function(a){a||(a=this.prestige);a=1+.1*a;0<this.countArtifactsOfCode("purch_coin")&&(a*=5);this.carawanSeller&&(a*=this.carawanSeller.getMarketPriceModifier());return a};
BabelWorld.prototype.getMasterTapCoef=function(a){a||(a=this.prestige);return 1+.25*a};BabelWorld.prototype.getMasterProdCoef=function(a){a||(a=this.prestige);return 1+.2*a};BabelWorld.prototype.getMasterTimeCoef=function(){var a=1;this.isSpeedingTime&&(a=10);this.clockTimeSpeeder&&(a*=this.clockTimeSpeeder.getTimeSpeedBoost());return a};
BabelWorld.prototype.buildRewardInfo=function(a){var b=World.prototype.buildRewardInfo.call(this,a);null!=a&&("bonusTime"==a.rewardType&&(b="TXID_REW_BONUSTIME: "+window.bottleScreen.utils.showTimeAsText(a.rewardValue,!0)),"freeUpgrade"==a.rewardType&&(b="TXID_REW_FREEUP!"),"purchDiscount"==a.rewardType&&(b="TXID_REW_DISCPURCH: "+window.bottleScreen.utils.showNumberAsText(100*a.discountVal)+"%"),"freeBricks"==a.rewardType&&(b="TXID_REW_FREEGB: "+window.bottleScreen.utils.showNumberAsText(a.rewardValue)),
"freeResource"==a.rewardType&&(b="TXID_REW_FREERES: "+window.bottleScreen.utils.showNumberAsText(a.rewardValue)+" "+this.getNameOfGoodsOfCode(a.resourceName)),"multiplyResource"==a.rewardType&&(b="TXID_REW_RESMULT: "+this.getNameOfGoodsOfCode(a.resourceName)+" x"+window.bottleScreen.utils.showNumberAsText(a.rewardCoef)),"quickStoreyCompletion"==a.rewardType&&(b="TXID_REW_STOREYCOMPL!"));return b};
BabelWorld.prototype.completeRewardObProperties=function(a,b){console.log("completeRewardObProperties",a);b||(b=0);switch(a.rewardType){case "bonusTime":a.rewardValue=60*(2*b+2);break;case "freeBricks":a.rewardValue=b+2;break;case "freeResource":b=this.getListOfStoragesWithGoods();0<b.length?(b=b[Math.floor(Math.random()*b.length)].storage,a.resourceName=b.goodsCode,a.rewardValue=Math.max(b.valInside*(.5+Math.random()),100)):a.code="none";break;case "multiplyResource":b=this.getListOfStoragesWithGoods();
0<b.length?(b=b[Math.floor(Math.random()*b.length)].storage,a.resourceName=b.goodsCode,a.rewardCoef=Math.round(2+5*Math.random())):a.code="none";break;case "freeMoney":a.rewardValue=Math.max(.1*this.money,100);break;case "quickStoreyCompletion":a.numStories=1,this.countArtifactsOfCode("purch_trowel")&&(a.numStories*=2)}};
BabelWorld.prototype.createNthRewardObject=function(a){console.log("createNthRewardObject",a);switch(a){case 0:var b={rewardType:"freeMoney",rewardValue:Math.max(50,.01*this.money)};break;case 1:b={rewardType:"bonusTime",rewardValue:120};break;default:for(var c=!0;c;)c=!1,b={rewardType:"freeMoney bonusTime freeBricks freeResource multiplyResource quickStoreyCompletion".split(" ")[window.bottleScreen.utils.getIdOfArOfWeights([10,10,5,20,20,2])]},this.completeRewardObProperties(b,a),"none"==b.rewardType&&
(c=!0)}console.log(b);return b};
BabelWorld.prototype.giveReward=function(a){World.prototype.giveReward.call(this,a);console.log("giveReward",a);if(null!=a){if("freeUpgrade"==a.rewardType){var b=a.machine;b.isInDeleteQueue||b.performUpgrade(1,!0)}"purchDiscount"==a.rewardType&&(b=a.machine,b.isInDeleteQueue||b.performPurchase(!1,1-a.discountVal));"freeBricks"==a.rewardType&&a.hasOwnProperty("rewardValue")&&(this.prestige+=a.rewardValue);"freeResource"==a.rewardType&&(b=this.findStorageOfResource(a.resourceName),console.log("findStorageOfResource",
a.resourceName),console.log(b,a.rewardValue),b&&b.modValueBy(a.rewardValue));"multiplyResource"==a.rewardType&&(b=this.findStorageOfResource(a.resourceName))&&b.modValueBy(b.valInside*(a.rewardCoef-1));if("quickStoreyCompletion"==a.rewardType){var c=this.findObjectOfClass({cls:MainBabelTower});if(c)for(b=0;b<a.numStories;b++)c.completeCurrentStoreyBuilding();if(c=this.findObjectOfClass({cls:Crane}))for(b=0;b<3*a.numStories;b++)c.completeCurrentStoreyBuilding()}}};
BabelWorld.prototype.startNormalPlayRate=function(){this.isSpeedingTime=!1};BabelWorld.prototype.startFastFoward=function(){0<this.offlineTimeBonus&&(this.isSpeedingTime=!0)};BabelWorld.prototype.doSomethingEverySecond=function(){World.prototype.doSomethingEverySecond.call(this);this.clockTimeSpeeder||(this.clockTimeSpeeder=this.findObjectOfClass({cls:Clock}));this.carawanSeller||(this.carawanSeller=this.findObjectOfClass({cls:CarawanSarai}))};
BabelWorld.prototype.calcBonusesExpiration=function(a){this.isSpeedingTime&&(this.offlineTimeBonus-=a,0>=this.offlineTimeBonus&&(this.offlineTimeBonus=0,this.startNormalPlayRate()));this.isRestartPlanned&&(this.countdownTillRestart-=a,0>=this.countdownTillRestart&&(this.doRestart(),this.isRestartPlanned=!1,this.countdownTillRestart=0))};
BabelWorld.prototype.createBGDs=function(){World.prototype.createBGDs.call(this);var a=new SkyBGD(this,this.scene,this.containerGroup,this.midLine,this.myBottleScreen.screenZeroY);this.unmovableBGDs.push(a);a=new SpaceBGD(this,this.scene,this.containerGroup,this.midLine,this.groundLevel-2200);this.unmovableBGDs.push(a);a=new GroundBGD(this,this.scene,this.containerGroup,this.midLine,this.groundLevel);this.unmovableBGDs.push(a);a=new UnderGroundBGD(this,this.scene,this.containerGroup,this.midLine,
this.groundLevel+450);this.unmovableBGDs.push(a)};BabelWorld.prototype.createThunderstorm=function(){var a=new ThunderstormEffect(this,this.scene,this.containerGroup);this.unmovableBGDs.push(a);window.mySoundPlayer.playSound("thunderbolt")};
BabelWorld.prototype.initiateRestartSequence=function(){this.createThunderstorm();this.isRestartPlanned=!0;this.countdownTillRestart=1;window.portalWrapper.showInterstitial({statsCode:"fromRestart"});var a=this.findObjectOfClass({cls:MainBabelTower});a?window.bottleScreen.statsWrapper.sendEvent("restart_tower_level",""+a.numStoriesBuilt,1):window.bottleScreen.statsWrapper.sendEvent("restart_tower_level","-1",0)};
BabelWorld.prototype.receiveResource=function(a,b){World.prototype.receiveResource.call(this,a,b);"stone"==a&&(this.stone+=b)};BabelWorld.prototype.getResourceVal=function(a){return"stone"==a?this.stone:0};BabelWorld.prototype.getNameOfGoodsOfCode=function(a){a=this.goodsList.indexOf(a);return-1!=a?this.goodsNamesList[a]:""};
BabelWorld.prototype.getListOfStoragesWithGoods=function(a){a=[];for(var b=0;b<this.objects.length;b++){var c=this.objects[b];if(BasicGoodsStorage.isPrototypeOf(c.myClass)){var d=this.goodsList.indexOf(c.goodsCode);-1!=d&&a.push({storage:c,goodsId:d})}}return a};
BabelWorld.prototype.hasStorageWithGoods2Sell=function(a){for(var b=!1,c=0;c<this.objects.length;c++){var d=this.objects[c];if(BasicGoodsStorage.isPrototypeOf(d.myClass)&&-1!=this.goodsList.indexOf(d.goodsCode)&&1<=Math.floor(a*d.valInside)){b=!0;break}}return b};
BabelWorld.prototype.updateSellPossibilities=function(){for(var a=this.storagesWithGoods2Sell.length=0;a<this.objects.length;a++){var b=this.objects[a];BasicGoodsStorage.isPrototypeOf(b.myClass)&&-1!=this.goodsList.indexOf(b.goodsCode)&&this.storagesWithGoods2Sell.push(b)}};
BabelWorld.prototype.buildSellStringOb4Goods=function(a,b){var c={arOfText:[],arOfColors:[]};b=Math.floor(a.valInside*b);var d=this.goodsNamesList[this.goodsList.indexOf(a.goodsCode)];a=this.pricesList[this.goodsList.indexOf(a.goodsCode)]*this.getMasterPriceCoef();a*=b;c.arOfText.push("TXID_MSG_SELLREING_BEG ",window.bottleScreen.utils.showNumberAsText(b)," "+d," TXID_MSG_SELLREING_MID ",""+window.bottleScreen.utils.showNumberAsText(a)," TXID_MSG_SELLREING_END");c.arOfColors.push(-1,6750054,-1,-1,
6750054,-1);return c};BabelWorld.prototype.buildSellString4Goods=function(a){var b=Math.round(.5*a.valInside),c=this.pricesList[this.goodsList.indexOf(a.goodsCode)]*this.getMasterPriceCoef();c*=b;return"Sell "+window.bottleScreen.utils.showNumberAsText(b)+" "+a.goodsCode+" for $"+window.bottleScreen.utils.showNumberAsText(c)};
BabelWorld.prototype.handleSellingFromStorage=function(a,b){b=Math.floor(a.valInside*b);var c=this.pricesList[this.goodsList.indexOf(a.goodsCode)]*this.getMasterPriceCoef();c*=b;this.receiveResource("money",c);a.modValueBy(-b);return c};BabelWorld.prototype.tapTriggerCondition=function(){var a=this.controller.myWorld;return a.myTutController.hasActiveTutorial()?0:0>=a.findObjectOfClass({cls:QuarryMine}).totalProcessingsMade?1:2};
BabelWorld.prototype.tapTriggerResult=function(){var a=this.controller.myWorld,b=a.findObjectOfClass({cls:QuarryMine});a.myTutController.createTutor(TutPointingHand,b,a.tutQuarrTapped.bind(b));a.showMessage("TXID_MSGCAP_TUT_MINE",["TXID_MSGANS_OK"],[])};BabelWorld.prototype.tutQuarrTapped=function(){return 3<this.totalProcessingsMade};
BabelWorld.prototype.dragTriggerCondition=function(){var a=0,b=this.controller.myWorld;if(b.myTutController.hasActiveTutorial())return 0;5<b.findObjectOfClass({cls:QuarryStorage}).valInside&&(a=1);return a};BabelWorld.prototype.altDragTriggerResult=function(){var a=this.controller.myWorld,b=a.findObjectOfClass({cls:QuarryStorage});a.myTutController.createTutor(TutPointingHand,b,a.tutStoneDragged.bind(b));a.showMessage("TXID_MSGCAP_TUT_AUTOTRANSFERSTONE",["TXID_MSGANS_OK"],[])};
BabelWorld.prototype.dragTriggerResult=function(){var a=this.controller.myWorld,b=a.findObjectOfClass({cls:QuarryStorage});a.myTutController.createTutor(TutDraggingHand,b,a.tutStoneDragged.bind(b))};BabelWorld.prototype.tutStoneDragged=function(){return 2<=this.totalProcessingsMade};BabelWorld.prototype.tapSawTriggerCondition=function(){var a=0,b=this.controller.myWorld;if(b.myTutController.hasActiveTutorial())return 0;2<=b.findObjectOfClass({cls:BricksProducerTent}).inputBuffer&&(a=1);return a};
BabelWorld.prototype.tapSawTriggerResult=function(){var a=this.controller.myWorld,b=a.findObjectOfClass({cls:BricksProducerTent});a.myTutController.createTutor(TutTappingHand,b,a.tutSawTapped.bind(b));a.showMessage("TXID_MSGCAP_TUT_PRODUCEBRICKS",["TXID_MSGANS_OK"],[])};BabelWorld.prototype.tutSawTapped=function(){return 2<=this.totalProcessingsMade};
BabelWorld.prototype.marketTriggerCondition=function(){var a=0,b=this.controller.myWorld;if(b.myTutController.hasActiveTutorial())return 0;30<b.currentMomentInGame&&b.hasStorageWithGoods2Sell(.5)&&(a=1);return a};BabelWorld.prototype.marketTriggerResult=function(){var a=this.controller.myWorld;a.showMessage("TXID_MSGCAP_TUT_MARKET",["TXID_CAP_MARKET"],[{func:a.msgOpenMarketResult.bind(a)}])};BabelWorld.prototype.msgOpenMarketResult=function(){this.hud.showSellPanel(this)};
BabelWorld.prototype.tower2TriggerCondition=function(){var a=0,b=this.controller.myWorld;if(b.myTutController.hasActiveTutorial())return 0;var c=b.findObjectOfClass({cls:MainBabelTower});b=b.findObjectOfClass({cls:Crane});c&&b&&1<=c.numStoriesBuilt&&3<=b.numStoriesBuilt&&(a=1);return a};BabelWorld.prototype.tower2TriggerResult=function(){this.controller.myWorld.showMessage("TXID_MSGCAP_TUT_HIGHTOWERMOREBRICKS",["TXID_MSGANS_OK"],[])};
BabelWorld.prototype.forestTriggerCondition=function(){var a=0,b=this.controller.myWorld;if(b.myTutController.hasActiveTutorial())return 0;var c=b.findObjectOfClass({cls:Forest});c&&b.containerGroup.x<b.myBottleScreen.leftMargin-300&&(a=0>=c.totalProcessingsMade?1:2);return a};
BabelWorld.prototype.forestTriggerResult=function(){var a=this.controller.myWorld,b=a.findObjectOfClass({cls:Forest});a.myTutController.createTutor(TutPointingHand,b,a.tutForestTapped.bind(b));a.showMessage("TXID_MSGCAP_TUT_CHOP",["TXID_MSGANS_OK"],[])};BabelWorld.prototype.tutForestTapped=function(){return 2<=this.totalProcessingsMade};
BabelWorld.prototype.dragWoodTriggerCondition=function(){var a=0,b=this.controller.myWorld;if(b.myTutController.hasActiveTutorial())return 0;(b=b.findObjectOfClass({cls:WoodStorage}))&&5<b.valInside&&(a=1);return a};BabelWorld.prototype.altDragWoodTriggerResult=function(){var a=this.controller.myWorld,b=a.findObjectOfClass({cls:WoodStorage});a.myTutController.createTutor(TutPointingHand,b,a.tutWoodDragged.bind(b));a.showMessage("TXID_MSGCAP_TUT_AUTOTRANSFERWOOD",["TXID_MSGANS_OK"],[])};
BabelWorld.prototype.dragWoodTriggerResult=function(){var a=this.controller.myWorld,b=a.findObjectOfClass({cls:WoodStorage});a.myTutController.createTutor(TutDraggingHand,b,a.tutWoodDragged.bind(b),{dx:-450,dy:-20})};BabelWorld.prototype.tutWoodDragged=function(){return 2<=this.totalProcessingsMade};
BabelWorld.prototype.tapLumbermillTriggerCondition=function(){var a=0,b=this.controller.myWorld;if(b.myTutController.hasActiveTutorial())return 0;(b=b.findObjectOfClass({cls:Lumbermill}))&&2<=b.inputBuffer&&(a=1);return a};BabelWorld.prototype.tapLumbermillTriggerResult=function(){var a=this.controller.myWorld,b=a.findObjectOfClass({cls:Lumbermill});a.myTutController.createTutor(TutTappingHand,b,a.tutLumbermillTapped.bind(b));a.showMessage("TXID_MSGCAP_TUT_LUMBERMILL",["TXID_MSGANS_OK"],[])};
BabelWorld.prototype.tutLumbermillTapped=function(){return 2<=this.totalProcessingsMade};BabelWorld.prototype.dragWaterTriggerCondition=function(){var a=0,b=this.controller.myWorld;if(b.myTutController.hasActiveTutorial())return 0;var c=b.findObjectOfClass({cls:WaterWell});b=b.findObjectOfClass({cls:Forest});c&&b&&b.woodInside<.5*b.maxWoodInside&&(a=1);return a};
BabelWorld.prototype.dragWaterTriggerResult=function(){var a=this.controller.myWorld,b=a.findObjectOfClass({cls:WaterWell}),c=a.findObjectOfClass({cls:Forest});a.myTutController.createTutor(TutDraggingHand,b,a.tutWaterDragged.bind(b),{dx:c.x-b.x,dy:c.y-b.y});a.showMessage("TXID_MSGCAP_TUT_DRAGWATER",["TXID_MSGANS_OK"],[])};BabelWorld.prototype.tutWaterDragged=function(){return 3<=this.waterSpent};
BabelWorld.prototype.restartTriggerCondition=function(){var a=0,b=this.controller.myWorld;if(b.myTutController.hasActiveTutorial())return 0;(b=b.findObjectOfClass({cls:MainBabelTower}))&&3<=b.numStoriesBuilt&&(a=1);return a};BabelWorld.prototype.restartTriggerResult=function(){var a=this.controller.myWorld;a.showMessage("TXID_MSGCAP_TUT_RESTART",["TXID_MSGANS_OK"],[{func:a.msgOpenRestartPanel.bind(a)}])};BabelWorld.prototype.msgOpenRestartPanel=function(){this.hud.showBoostPanel(this)};
BabelWorld.prototype.save2Ar=function(a,b){b=World.prototype.save2Ar.call(this,a,b);a[b+0]=this.maxTowerHeight;a[b+1]=this.groundLevel;a[b+2]=this.midLine;a[b+3]=this.allowedWorldMovements.left;a[b+4]=this.allowedWorldMovements.top;a[b+5]=this.allowedWorldMovements.right;a[b+6]=this.allowedWorldMovements.bottom;return b=this.artifactsController.save2Ar(a,b+7)};
BabelWorld.prototype.loadFromAr=function(a,b){b=World.prototype.loadFromAr.call(this,a,b);this.maxTowerHeight=a[b+0];this.groundLevel=a[b+1];this.midLine=a[b+2];this.allowedWorldMovements.left=a[b+3];this.allowedWorldMovements.top=a[b+4];this.allowedWorldMovements.right=a[b+5];this.allowedWorldMovements.bottom=a[b+6];return b=this.artifactsController.loadFromAr(a,b+7)};
var ArtifactsController=function(a){this.myWorld=a;this.artifacts=[{uid:1,sku:"bt-golden_pickaxe",effectCode:"purch_pickaxe",name:"TXID_AFT_NAME_GPICKAXE",desc:"TXID_AFT_DESC_GPICKAXE",txtKey:"w001_artifactsSymbols4new0000",quantityAvailable:0,bricksPrice:100,price:1.99},{uid:2,sku:"bt-golden_wheelbarrow",effectCode:"purch_wheelbarrow",name:"TXID_AFT_NAME_GWHEELBARROW",desc:"TXID_AFT_DESC_GWHEELBARROW",txtKey:"w001_artifactsSymbols4new0001",quantityAvailable:0,bricksPrice:200,price:2.99},{uid:3,sku:"bt-golden_bucket",
effectCode:"purch_bucket",name:"TXID_AFT_NAME_GBUCKET",desc:"TXID_AFT_DESC_GBUCKET",txtKey:"w001_artifactsSymbols4new0002",quantityAvailable:0,bricksPrice:300,price:3.99},{uid:4,sku:"bt-golden_tree",effectCode:"purch_tree",name:"TXID_AFT_NAME_GTREE",desc:"TXID_AFT_DESC_GTREE",txtKey:"w001_artifactsSymbols4new0003",quantityAvailable:0,bricksPrice:400,price:4.99},{uid:4,sku:"bt-golden_coin",effectCode:"purch_coin",name:"TXID_AFT_NAME_GCOIN",desc:"TXID_AFT_DESC_GCOIN",txtKey:"w001_artifactsSymbols4new0004",
quantityAvailable:0,bricksPrice:600,price:7.99},{uid:5,sku:"bt-golden_trowel",effectCode:"purch_trowel",name:"TXID_AFT_NAME_GTROWEL",desc:"TXID_AFT_DESC_GTROWEL",txtKey:"w001_artifactsSymbols4new0005",quantityAvailable:0,bricksPrice:900,price:9.99}]};ArtifactsController.prototype.findArtifactOfUID=function(a){for(var b=null,c=0;c<this.artifacts.length;c++)if(this.artifacts[c].uid==a){b=this.artifacts[c];break}return b};
ArtifactsController.prototype.purchaseArtifactOfUID=function(a,b){for(var c=null,d=0;d<this.artifacts.length;d++)if(this.artifacts[d].uid==a){this.artifacts[d].quantityAvailable++;c=this.artifacts[d];break}c&&"bricks"==b&&(this.myWorld.prestige-=c.bricksPrice)};ArtifactsController.prototype.countOwnedArtifacts=function(){for(var a=0,b=0;b<this.artifacts.length;b++)a+=this.artifacts[b].quantityAvailable;return a};
ArtifactsController.prototype.countArtifactsOfCode=function(a){for(var b=0,c=0;c<this.artifacts.length;c++)if(this.artifacts[c].effectCode==a){b=this.artifacts[c].quantityAvailable;break}return b};ArtifactsController.prototype.save2Ar=function(a,b){var c=b;b++;for(var d=0,e=0;e<this.artifacts.length;e++){var f=this.artifacts[e];0<f.quantityAvailable&&(d++,a[b]=f.uid,a[b+1]=f.quantityAvailable,b+=2)}a[c]=d;return b};
ArtifactsController.prototype.loadFromAr=function(a,b){var c=a[b+0];b++;for(var d=0;d<c;d++){var e=a[b+0],f=a[b+1];b+=2;if(e=this.findArtifactOfUID(e))e.quantityAvailable=f}return b};
var BabelHUD=function(a,b){HUD.call(this,a,b);this.moneyInformer=new TFWithBGD(this.scene,this.grp,"Money: 0",0,0,{texKey:"w000_topMoneyTab4new0000",originX:.5,originY:.5,dx:0,dy:-20});this.grp.add(this.moneyInformer);this.moneyInformer.showText("TXID_CAP_INF_MONEY: 0");this.gameSpeedController=new GameSpeedController(this.myWorld,this.scene,this.grp);this.marketBtn=new ButtonWithText(this.scene,this.grp,"TXID_CAP_MARKET",0,0);this.marketBtn.myWorld=this.myWorld;this.marketBtn.ownerPanel=this;this.marketBtn.registerHandler(this.marketBtnHandler);
this.boostBtn=new ButtonWithText(this.scene,this.grp,"TXID_CAP_BOOSTS",0,0);this.boostBtn.myWorld=this.myWorld;this.boostBtn.ownerPanel=this;this.boostBtn.registerHandler(this.boostsBtnHandler);this.menuBtn=new ButtonWithIcon(this.scene,this.grp,"w000_menuIcon4new0000",500,30);this.menuBtn.myWorld=this.myWorld;this.menuBtn.ownerPanel=this;this.menuBtn.registerHandler(this.menuBtnHandler);this.sndOnBtn=new ButtonWithIcon(this.scene,this.grp,"w000_soundOffIcon4new0000",500,30);this.sndOnBtn.myWorld=
this.myWorld;this.sndOnBtn.ownerPanel=this;this.sndOnBtn.registerHandler(this.soundOnBtnHandler);this.sndOffBtn=new ButtonWithIcon(this.scene,this.grp,"w000_soundIcon4new0000",500,30);this.sndOffBtn.myWorld=this.myWorld;this.sndOffBtn.ownerPanel=this;this.sndOffBtn.registerHandler(this.soundOffBtnHandler);this.langBtn=new ButtonWithIcon(this.scene,this.grp,window.translator.getCurrentLangsButtonTexture(),500,125);this.langBtn.myWorld=this.myWorld;this.langBtn.ownerPanel=this;this.langBtn.registerHandler(this.langBtnHandler);
this.upgrPanel=this.createScreen(MachineUpgradePanel);this.carawanSettingsPanel=this.createScreen(CarawanSettingsPanel);this.sellPanel=this.createScreen(ResourceSellPanel);this.purchPanel=this.createScreen(PurchaseFromSlotPanel);this.startScreen=this.createScreen(StartScreen);this.startScreen.mustAlwaysShow=!0;this.menuScreen=this.createScreen(MenuScreen);this.boostsScreen=this.createScreen(BoostsPanel);this.artifactsScreen=this.createScreen(ArtifactsScreen);this.langScreen=this.createScreen(LanguageScreen);
this.newsScreen=this.createScreen(NewsScreen);this.autoTapMarker=new AutoTapMarker(this.myWorld,this.scene,this.grp);this.autoTapMarker.visible=!1;this.moneyInformer.visible=!1;this.marketBtn.visible=!1;this.menuBtn.visible=!1;this.sndOnBtn.visible=!window.mySoundPlayer.isSoundEnabled;this.sndOffBtn.visible=window.mySoundPlayer.isSoundEnabled;this.boostBtn.visible=!1;this.gameSpeedController.visible=!1};$jscomp.inherits(BabelHUD,HUD);BabelHUD.prototype.updateLangInformer=function(){this.langBtn.setIconFrame(window.translator.getCurrentLangsButtonTexture())};
BabelHUD.prototype.showGameInterface=function(){HUD.prototype.showGameInterface.call(this);this.moneyInformer.visible=!0;this.marketBtn.visible=!0;this.boostBtn.visible=!0;this.menuBtn.visible=!0;this.sndOnBtn.visible=!window.mySoundPlayer.isSoundEnabled;this.sndOffBtn.visible=window.mySoundPlayer.isSoundEnabled;this.gameSpeedController.visible=!0;this.updateView()};
BabelHUD.prototype.updateView=function(){HUD.prototype.updateView.call(this);this.moneyInformer.showText("TXID_CAP_INF_MONEY: "+window.bottleScreen.utils.showNumberAsText(this.myWorld.money));this.gameSpeedController.updateView()};BabelHUD.prototype.menuBtnHandler=function(){this.ownerPanel.showMenuPanel(this.myWorld)};
BabelHUD.prototype.soundOnBtnHandler=function(){window.mySoundPlayer.switchSound(!0);this.ownerPanel.sndOnBtn.visible=!window.mySoundPlayer.isSoundEnabled;this.ownerPanel.sndOffBtn.visible=window.mySoundPlayer.isSoundEnabled};BabelHUD.prototype.soundOffBtnHandler=function(){window.mySoundPlayer.switchSound(!1);this.ownerPanel.sndOnBtn.visible=!window.mySoundPlayer.isSoundEnabled;this.ownerPanel.sndOffBtn.visible=window.mySoundPlayer.isSoundEnabled};BabelHUD.prototype.langBtnHandler=function(){this.ownerPanel.showLangScreen()};
BabelHUD.prototype.marketBtnHandler=function(){this.ownerPanel.showSellPanel(this.myWorld)};BabelHUD.prototype.boostsBtnHandler=function(){this.ownerPanel.showBoostPanel(this.myWorld)};
BabelHUD.prototype.updateLayoutOnScreen=function(a){HUD.prototype.updateLayoutOnScreen.call(this,a);this.moneyInformer.x=a.gameWidth/2;this.moneyInformer.y=50;this.marketBtn.x=this.moneyInformer.x+340;this.marketBtn.y=70;this.boostBtn.x=this.moneyInformer.x-340;this.boostBtn.y=70;this.menuBtn.x=a.gameWidth-50;this.menuBtn.y=50;this.sndOnBtn.x=this.menuBtn.x;this.sndOnBtn.y=this.menuBtn.y+95;this.sndOffBtn.x=this.menuBtn.x;this.sndOffBtn.y=this.menuBtn.y+95;this.langBtn.x=this.sndOffBtn.x;this.langBtn.y=
this.sndOffBtn.y+95;this.gameSpeedController.x=50;this.gameSpeedController.y=50};BabelHUD.prototype.showSettingsPanel4Carawan=function(a){this.carawanSettingsPanel.showForMachine(a);this.setVisibleScreen(this.carawanSettingsPanel)};BabelHUD.prototype.showMachineUpgradePanel=function(a){this.upgrPanel.showForMachine(a);this.setVisibleScreen(this.upgrPanel)};BabelHUD.prototype.showMachinePurchasePanel=function(a){this.purchPanel.showForSlot(a);this.setVisibleScreen(this.purchPanel)};
BabelHUD.prototype.showSellPanel=function(a){this.sellPanel.showForWorld(a);this.setVisibleScreen(this.sellPanel)};BabelHUD.prototype.showBoostPanel=function(a){this.boostsScreen.showForWorld(a);this.setVisibleScreen(this.boostsScreen)};BabelHUD.prototype.showMenuPanel=function(a){this.menuScreen.showForWorld(a);this.setVisibleScreen(this.menuScreen)};BabelHUD.prototype.showStartScreen=function(){this.startScreen.showForWorld(this.myWorld);this.setVisibleScreen(this.startScreen)};
BabelHUD.prototype.showLangScreen=function(){this.setVisibleScreen(this.langScreen)};BabelHUD.prototype.showArtifactsScreen=function(){this.artifactsScreen.showForWorld(this.myWorld);this.setVisibleScreen(this.artifactsScreen)};BabelHUD.prototype.showNewsScreen=function(){this.setVisibleScreen(this.newsScreen)};BabelHUD.prototype.handleOut=function(a,b){return this.autoTapMarker.visible=!1};
BabelHUD.prototype.handleDown=function(a,b){this.autoTapMarker.x=a;this.autoTapMarker.y=b;this.autoTapMarker.visible=!0;return!1};BabelHUD.prototype.handleUp=function(a,b){return this.autoTapMarker.visible=!1};BabelHUD.prototype.handleMove=function(a,b){this.autoTapMarker.visible&&(this.autoTapMarker.x=a,this.autoTapMarker.y=b);return!1};BabelHUD.prototype.doAnimStep=function(a){this.autoTapMarker.visible&&this.autoTapMarker.doAnimStep(a)};BabelHUD.prototype.animTap=function(){this.autoTapMarker.showTick2Center()};
var AutoTapMarker=function(a,b,c){var d=Phaser.GameObjects.Container.call(this,b)||this;d.myWorld=a;d.scene=b;d.grp=c;d.grp.add(d);d.botIm=d.scene.add.image(0,50,"allGraphics2","w000_triangleMarker4new0000").setOrigin(.5,1);d.topIm=d.scene.add.image(0,-50,"allGraphics2","w000_triangleMarker4new0000").setOrigin(.5,1);d.topIm.rotation=Math.PI;d.rightIm=d.scene.add.image(50,0,"allGraphics2","w000_triangleMarker4new0000").setOrigin(.5,1);d.rightIm.rotation=-Math.PI/2;d.leftIm=d.scene.add.image(-50,0,
"allGraphics2","w000_triangleMarker4new0000").setOrigin(.5,1);d.leftIm.rotation=Math.PI/2;d.add(d.botIm);d.add(d.topIm);d.add(d.rightIm);d.add(d.leftIm);d.mods=[];a=new ImageModifier;a.registerDob(d.botIm,.2);a.addAnimNode(.3,d.botIm.x,d.botIm.y-30,d.botIm.rotation);d.mods.push(a);a=new ImageModifier;a.registerDob(d.topIm,.2);a.addAnimNode(.3,d.topIm.x,d.topIm.y+30,d.topIm.rotation);d.mods.push(a);a=new ImageModifier;a.registerDob(d.rightIm,.2);a.addAnimNode(.3,d.rightIm.x-30,d.rightIm.y,d.rightIm.rotation);
d.mods.push(a);a=new ImageModifier;a.registerDob(d.leftIm,.2);a.addAnimNode(.3,d.leftIm.x+30,d.leftIm.y,d.leftIm.rotation);d.mods.push(a);return d};$jscomp.inherits(AutoTapMarker,Phaser.GameObjects.Container);AutoTapMarker.prototype.doAnimStep=function(a){for(var b=0;b<this.mods.length;b++)this.mods[b].doAnimStep(a)};AutoTapMarker.prototype.showTick2Center=function(){for(var a=0;a<this.mods.length;a++)this.mods[a].startAnimation(1,0)};
var GameSpeedController=function(a,b,c){var d=Phaser.GameObjects.Container.call(this,b)||this;d.myWorld=a;d.scene=b;d.grp=c;d.grp.add(d);d.ffwdButton=new ButtonWithIcon(d.scene,d,"w000_ffwdIcon4new0000",0,0);d.playButton=new ButtonWithIcon(d.scene,d,"w000_playIcon4new0000",0,0);d.timeLeftInformer=new TFOnParentGroup(d.scene,d," ",-30,90);d.timeLeftInformer.changeAlign("left");d.ffwdButton.registerHandler(d.ffwdBtnHandler);d.ffwdButton.myPanel=d;d.playButton.registerHandler(d.playBtnHandler);return d.playButton.myPanel=
d};$jscomp.inherits(GameSpeedController,Phaser.GameObjects.Container);GameSpeedController.prototype.ffwdBtnHandler=function(){this.myPanel.myWorld.startFastFoward()};GameSpeedController.prototype.playBtnHandler=function(){this.myPanel.myWorld.startNormalPlayRate()};
GameSpeedController.prototype.updateView=function(){this.ffwdButton.visible=!this.myWorld.isSpeedingTime;this.playButton.visible=this.myWorld.isSpeedingTime;0<this.myWorld.offlineTimeBonus?this.timeLeftInformer.showText(window.bottleScreen.utils.showTimeAsText(this.myWorld.offlineTimeBonus,!0)):(this.timeLeftInformer.showText(" "),this.ffwdButton.visible=!1,this.playButton.visible=!1)};
var LanguageScreen=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(11.48,7.8);a.cap=new TextField(a.scene,a,"TXID_LANGSEL",0,80);a.thanksCap=new TextField(a.scene,a,"TXID_TRANSLATORTHANKS",0,200);a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",500,30);a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.langBtns=[];b=-400;for(var c=150,
d=0;d<window.translator.availableLangs.length;d++){var e=new ButtonWithIcon(a.scene,a,"w000_langIcon"+window.translator.availableLangs[d]+"4new0000",b,c);e.myPanel=a;e.langCode=window.translator.availableLangs[d];e.registerHandler(a.langBtnHandler);b+=100;400<b&&(b=-400,c+=100);a.langBtns.push(e)}a.thanksCap.setY(c+100);a.bgIm.setScale(11.48,(c+150)/100);return a};$jscomp.inherits(LanguageScreen,UpdatedPropertyPanel);
LanguageScreen.prototype.langBtnHandler=function(){window.translator.changeLanguage(this.langCode);window.bottleScreen.world.hud.updateLangInformer();this.myPanel.cap.updateTextTranslation();this.myPanel.thanksCap.updateTextTranslation()};LanguageScreen.prototype.closeBtnHandler=function(){this.myPanel.hide()};
var StartScreen=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(11.48,7.8);a.towerBGIm=a.scene.add.image(0,0,"allGraphics2","w001_bgdStart4new0000");a.add(a.towerBGIm);a.towerBGIm.setOrigin(.5,0);a.towerBGIm.setScale(2,2);a.towerBGIm.alpha=.6;a.capIm=a.scene.add.image(12,240,"allGraphics2","w001_gameCaption4new0000").setOrigin(.5,.5);a.apIm=a.scene.add.image(398,72,
"allGraphics2","w000_AirapportIcon4new0000").setOrigin(.5,.5).setScale(.36,.36);a.add(a.capIm);a.add(a.apIm);a.startBtn=new ButtonWithText(a.scene,a,"TXID_CAP_START",0,500);a.startBtn.registerHandler(a.startBtnHandler);a.startBtn.myPanel=a;a.credsBtn=new ButtonWithText(a.scene,a,"TXID_CAP_CREDITS",340,710);a.credsBtn.registerHandler(a.credsBtnHandler);a.credsBtn.myPanel=a;a.moreBtn=new ButtonWithText(a.scene,a,"TXID_CAP_MOREGAMES",-340,710);a.moreBtn.registerHandler(a.moreBtnHandler);a.moreBtn.myPanel=
a;new TextField(a.scene,a,"v "+window.game.config.gameVersion,398,200);a.myWorld=null;return a};$jscomp.inherits(StartScreen,UpdatedPropertyPanel);StartScreen.prototype.showForWorld=function(a){this.myWorld=a;this.show()};StartScreen.prototype.show=function(){UpdatedPropertyPanel.prototype.show.call(this)};StartScreen.prototype.startBtnHandler=function(){this.myPanel.myWorld.startPlaying();this.myPanel.hide();window.portalWrapper.showInterstitial({statsCode:"fromStart"})};
StartScreen.prototype.credsBtnHandler=function(){this.myPanel.myWorld.hud.showMessage({arOfText:["TXID_MSGCAP_CREDITSAUTHORS","\n\nTXID_MSGCAP_CREDITSTHANKS","\nTXID_MSGCAP_CREDITSTHANKS_MORE","\n\nTXID_MSGCAP_CREDITSMORE"],arOfColors:[-1,8978312,-1]},["TXID_MSGANS_OK","TXID_MSGANS_CONTACT"],[null,{func:function(){window.open("http://www.airapport.com/p/contact.html");window.bottleScreen.statsWrapper.sendEvent("click_contact","",1)}}],{cy:100});window.bottleScreen.statsWrapper.sendEvent("click_credits",
"",1)};StartScreen.prototype.moreBtnHandler=function(){window.open("http://www.airapport.com/");window.bottleScreen.statsWrapper.sendEvent("click_more","",1)};
var MenuScreen=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(10.4,7);a.cap=new TextField(a.scene,a,"TXID_MSGCAP_MENU",0,80);a.saveCap=new Text(a.scene,0,250,"saveString");a.giftBtn=new ButtonWithText(a.scene,a,"TXID_CAP_DAILYBONUS",0,250);a.giftBtn.registerHandler(a.giftBtnHandler);a.giftBtn.myPanel=a;a.newsBtn=new ButtonWithText(a.scene,a,"TXID_CAP_NEWS",0,350);a.newsBtn.registerHandler(a.newsBtnHandler);
a.newsBtn.myPanel=a;a.restartBtn=new ButtonWithText(a.scene,a,"TXID_CAP_RESTART",0,450);a.restartBtn.registerHandler(a.restartBtnHandler);a.restartBtn.myPanel=a;a.creditsBtn=new ButtonWithText(a.scene,a,"TXID_CAP_CREDITS",0,550);a.creditsBtn.registerHandler(a.credsBtnHandler);a.creditsBtn.myPanel=a;a.moreBtn=new ButtonWithText(a.scene,a,"TXID_CAP_MOREGAMES",0,650);a.moreBtn.registerHandler(a.moreBtnHandler);a.moreBtn.myPanel=a;a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",500,30);
a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.myWorld=null;return a};$jscomp.inherits(MenuScreen,UpdatedPropertyPanel);MenuScreen.prototype.showForWorld=function(a){this.myWorld=a;this.show()};MenuScreen.prototype.show=function(){UpdatedPropertyPanel.prototype.show.call(this);var a=localStorage.getItem("save_version");localStorage.getItem("save_data");if("null"==a||null==a||""==a)this.saveCap.text="No saves available"};
MenuScreen.prototype.newsBtnHandler=function(){this.myPanel.myWorld.hud.showNewsScreen();this.myPanel.hide()};MenuScreen.prototype.giftBtnHandler=function(){this.myPanel.myWorld.hud.showDailyBonusScreen();this.myPanel.hide()};MenuScreen.prototype.restartBtnHandler=function(){this.myPanel.myWorld.showRestartRequest();this.myPanel.hide()};
MenuScreen.prototype.credsBtnHandler=function(){this.myPanel.myWorld.hud.showMessage({arOfText:["TXID_MSGCAP_CREDITSAUTHORS","\n\nTXID_MSGCAP_CREDITSTHANKS","\nTXID_MSGCAP_CREDITSTHANKS_MORE","\n\nTXID_MSGCAP_CREDITSMORE"],arOfColors:[-1,-1,-1]},["TXID_MSGANS_OK","TXID_MSGANS_CONTACT"],[null,{func:function(){window.open("http://www.airapport.com/p/contact.html");window.bottleScreen.statsWrapper.sendEvent("click_contact","",1)}}],{cy:100});this.myPanel.hide()};
MenuScreen.prototype.moreBtnHandler=function(){window.open("http://www.airapport.com/");window.bottleScreen.statsWrapper.sendEvent("click_more","",1)};MenuScreen.prototype.closeBtnHandler=function(){this.myPanel.hide()};
var PurchaseFromSlotPanel=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(10.4,5);a.mchCap=new TextField(a.scene,a,"Purchase",0,80);a.descCap=new TextField(a.scene,a,"Description",0,150);a.priceCap=new TextField(a.scene,a,"Price",0,250);a.purcBtn=new ButtonWithText(a.scene,a,"TXID_CAP_PURCHASE",0,450);a.purcBtn.registerHandler(a.purcBtnHandler);a.purcBtn.myPanel=a;a.purcDiscountBtn=
new ButtonWithText(a.scene,a,"TXID_CAP_PURCHASE_DISCOUNT",0,450);a.purcDiscountBtn.registerHandler(a.purcDiscountBtnHandler);a.purcDiscountBtn.myPanel=a;a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",500,30);a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.openMarketHintTxt=new TextField(a.scene,a,"Market",0,500);a.openMarketHintTxt.showTextsOfDifferentColors(["TXID_CAP_INF_NOTENOGHMONEY\n","TXID_CAP_INF_USEMARKET_BEG ","TXID_CAP_INF_USEMARKET_MID"," TXID_CAP_INF_USEMARKET_END"],
[16744982,-1,7798623,-1]);a.marketBtn=new ButtonWithText(a.scene,a,"TXID_CAP_MARKET",0,600);a.marketBtn.registerHandler(a.marketBtnHandler);a.marketBtn.myPanel=a;a.mySlot=null;return a};$jscomp.inherits(PurchaseFromSlotPanel,UpdatedPropertyPanel);PurchaseFromSlotPanel.prototype.showForSlot=function(a){this.mySlot=a;this.show()};PurchaseFromSlotPanel.prototype.marketBtnHandler=function(){this.myPanel.mySlot.myWorld.hud.showSellPanel(this.myPanel.mySlot.myWorld)};
PurchaseFromSlotPanel.prototype.closeBtnHandler=function(){this.myPanel.hide()};PurchaseFromSlotPanel.prototype.purcDiscountBtnHandler=function(){window.portalWrapper.showRewarded({statsCode:"slotDiscount"},{rewardType:"purchDiscount",machine:this.myPanel.mySlot,discountVal:.5});this.visible=!1;this.myPanel.hide()};PurchaseFromSlotPanel.prototype.purcBtnHandler=function(){this.myPanel.mySlot.performPurchase();this.myPanel.hide()};
PurchaseFromSlotPanel.prototype.updateView=function(){UpdatedPropertyPanel.prototype.updateView.call(this);this.mchName=this.mySlot.getPurchasedMachineNameStr();this.mchDesc=this.mySlot.getPurchasedMachineDescStr();this.priceCap.showTextsOfDifferentColors(["----=== TXID_CAP_INF_PURCHPRICE: ",window.bottleScreen.utils.showNumberAsText(this.mySlot.getPurchasePrice())," ===----"],[-1,this.mySlot.myWorld.money>=this.mySlot.getPurchasePrice()?6750054:16744982,-1],!0);this.mchCap.showText(this.mchName);
this.descCap.showText(this.mchDesc);this.priceCap.setY(this.descCap.y+this.descCap.getTextHeight()+50);this.purcBtn.y=this.priceCap.y+this.priceCap.getTextHeight()+50;this.openMarketHintTxt.setY(this.purcBtn.y);this.marketBtn.y=this.openMarketHintTxt.y+this.openMarketHintTxt.getTextHeight()+50;var a=this.mySlot.getPurchasePrice(),b=.5*a;this.mySlot.myWorld.money>=a?(this.purcBtn.visible=!0,this.marketBtn.visible=!1,this.openMarketHintTxt.visible=!1,this.bgIm.setScale(10.4,(this.purcBtn.y+50)/100)):
(this.purcBtn.visible=!1,this.marketBtn.visible=!0,this.openMarketHintTxt.visible=!0,this.bgIm.setScale(10.4,(this.marketBtn.y+50)/100));this.mySlot.myWorld.money>=b?window.portalWrapper.isRewardedAdReady()?(this.purcDiscountBtn.visible=!0,this.purcBtn.visible?(this.purcDiscountBtn.x=-300,this.purcDiscountBtn.y=this.purcBtn.y,this.purcBtn.x=300):(this.purcDiscountBtn.x=-300,this.purcDiscountBtn.y=this.marketBtn.y,this.marketBtn.x=300)):(this.purcDiscountBtn.visible=!1,this.purcBtn.x=0,this.marketBtn.x=
0):(this.purcDiscountBtn.visible=!1,this.purcBtn.x=0,this.marketBtn.x=0)};
var MachineUpgradePanel=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(10.4,5.5);a.mchCap=new TextField(a.scene,a,"Machine",0,80);a.paramCaps=[];a.eftCaps=[];a.priceCap=new TextField(a.scene,a,"Price",0,350);a.upBtn=new ButtonWithText(a.scene,a,"TXID_CAP_UPGRADE",0,500);a.upBtn.registerHandler(a.upgBtnHandler);a.upBtn.myPanel=a;a.upFreeBtn=new ButtonWithText(a.scene,
a,"TXID_CAP_FREE! +1",0,500);a.upFreeBtn.registerHandler(a.upgFreeBtnHandler);a.upFreeBtn.myPanel=a;a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",500,30);a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.upgrModeButton=new ButtonWithIcon(a.scene,a,"w000_iconModex14new0000",400,30);a.upgrModeButton.myPanel=a;a.upgrModeButton.registerHandler(a.changeUpgrMode);a.upgrModeButton.upgrMode="x1";a.openMarketHintTxt=new TextField(a.scene,a,"Market",0,500);a.openMarketHintTxt.showTextsOfDifferentColors(["TXID_CAP_INF_NOTENOGHMONEY\n",
"TXID_CAP_INF_USEMARKET_BEG ","TXID_CAP_INF_USEMARKET_MID"," TXID_CAP_INF_USEMARKET_END"],[16744982,-1,7798623,-1]);a.marketBtn=new ButtonWithText(a.scene,a,"TXID_CAP_MARKET",0,600);a.marketBtn.registerHandler(a.marketBtnHandler);a.marketBtn.myPanel=a;a.myMachine=null;return a};$jscomp.inherits(MachineUpgradePanel,UpdatedPropertyPanel);MachineUpgradePanel.prototype.marketBtnHandler=function(){this.myPanel.myMachine.myWorld.hud.showSellPanel(this.myPanel.myMachine.myWorld)};
MachineUpgradePanel.prototype.upgFreeBtnHandler=function(){window.portalWrapper.showRewarded({statsCode:"upgrade"},{rewardType:"freeUpgrade",machine:this.myPanel.myMachine,numLevels:1});this.visible=!1};MachineUpgradePanel.prototype.upgBtnHandler=function(){this.myPanel.myMachine.performUpgrade4Mode(this.myPanel.upgrModeButton.upgrMode,!1);this.myPanel.showForMachine(this.myPanel.myMachine)};
MachineUpgradePanel.prototype.changeUpgrMode=function(){var a=["x1","x10","Max","Next"],b=(a.indexOf(this.upgrMode)+1)%a.length;this.upgrMode=a[b];this.myPanel.updateView();this.setIconFrame(["w000_iconModex14new0000","w000_iconModex104new0000","w000_iconModeMax4new0000","w000_iconModeNext4new0000"][b])};MachineUpgradePanel.prototype.closeBtnHandler=function(){this.myPanel.hide()};MachineUpgradePanel.prototype.showForMachine=function(a){this.myMachine=a;this.show()};
MachineUpgradePanel.prototype.show=function(){UpdatedPropertyPanel.prototype.show.call(this)};
MachineUpgradePanel.prototype.updateView=function(){UpdatedPropertyPanel.prototype.updateView.call(this);for(var a=0;a<this.paramCaps.length;a++)this.paramCaps[a].visible=!1;for(a=0;a<this.eftCaps.length;a++)this.eftCaps[a].visible=!1;this.mchName=this.myMachine.getNameStr();this.mchCap.showTextsOfDifferentColors([this.mchName,"\n(TXID_CAP_INF_LEVEL "+this.myMachine.currentLevel+")"],[-1,16777096],!1);var b=200,c=this.myMachine.getNumUpgrades4Mode(this.upgrModeButton.upgrMode);for(a=0;a<this.myMachine.upgradedParams.length;a++){if(this.paramCaps.length>
a)var d=this.paramCaps[a];else d=new TextField(this.scene,this,"Param",0,250),this.paramCaps.push(d);d.visible=!0;d.y=b;b+=50;d.showTextsOfDifferentColors(this.myMachine.upgradedParams[a].buildCurrentStringAsAr(c),[-1,-1,this.myMachine.upgradedParams[a].willHaveNodeInNext(c)?16777096:-1,this.myMachine.canBUpgraded(c)?7798623:16744982],!0)}b+=100;this.priceCap.y=b;this.priceCap.showTextsOfDifferentColors(["----=== TXID_CAP_UPGRADEPRICE: ",window.bottleScreen.utils.showNumberAsText(this.myMachine.getUpgradePrice4Mode(this.upgrModeButton.upgrMode)),
" ===----"],[-1,this.myMachine.canBUpgraded4Mode(this.upgrModeButton.upgrMode)?7798623:16744982,-1],!0);b+=100;this.upBtn.y=b;this.upgrModeButton.y=this.priceCap.y-30;this.openMarketHintTxt.setY(b);this.marketBtn.y=this.openMarketHintTxt.y+this.openMarketHintTxt.getTextHeight()+50;this.myMachine.canBUpgraded4Mode(this.upgrModeButton.upgrMode)?(this.upBtn.visible=!0,this.marketBtn.visible=!1,this.openMarketHintTxt.visible=!1,this.bgIm.setScale(10.4,(this.upBtn.y+50)/100)):(this.upBtn.visible=!1,this.marketBtn.visible=
!0,this.openMarketHintTxt.visible=!0,this.bgIm.setScale(10.4,(this.marketBtn.y+50)/100));window.portalWrapper.isRewardedAdReady()?(this.upFreeBtn.visible=!0,this.upBtn.visible?(this.upFreeBtn.x=-300,this.upFreeBtn.y=this.upBtn.y,this.upBtn.x=300):(this.upFreeBtn.x=-300,this.upFreeBtn.y=this.marketBtn.y,this.marketBtn.x=300)):(this.upFreeBtn.visible=!1,this.upBtn.x=0,this.marketBtn.x=0)};MachineUpgradePanel.prototype.hide=function(){UpdatedPropertyPanel.prototype.hide.call(this);this.myMachine=null};
var ArtifactInfo=function(a,b){a=Phaser.GameObjects.Container.call(this,a)||this;a.grp=b;a.grp.add(a);a.isInPool=!0;a.visible=!1;a.myArtifact=null;a.myPanel=null;b=a.scene.add.image(0,70,"allGraphics2","w000_tmpSquare4new0000").setOrigin(.5,.5).setScale(4.8,2.4);b.alpha=.8;b.tint=1996465;a.add(b);b=a.scene.add.image(-240,-50,"allGraphics2","w001_cornerIm4new0000").setOrigin(0,0);a.add(b);b=a.scene.add.image(240,-50,"allGraphics2","w001_cornerIm4new0000").setOrigin(0,0).setScale(-1,1);a.add(b);b=a.scene.add.image(-240,
190,"allGraphics2","w001_cornerIm4new0000").setOrigin(0,0).setScale(1,-1);a.add(b);b=a.scene.add.image(240,190,"allGraphics2","w001_cornerIm4new0000").setOrigin(0,0).setScale(-1,-1);a.add(b);a.capTxt=new TFOnParentGroup(a.scene,a,"cap",0,0);a.capTxt.changeAlign("center");a.descTxt=new TFOnParentGroup(a.scene,a,"desc",0,50);a.descTxt.changeAlign("center");a.ownTxt=new TFOnParentGroup(a.scene,a,"Owned",0,130);a.iconIm=a.scene.add.image(-170,110,"allGraphics2","w001_artifactsSymbols4new0000").setOrigin(.5,
.5);a.add(a.iconIm);a.buyBtn=new ButtonWithIcon(a.scene,a,"w000_sellIcon4new0000",170,110);a.buyBtn.myInfo=a;a.buyBtn.registerHandler(a.buyBtnHandler);a.priceTxt=new TFOnParentGroup(a.scene,a,"$$$",0,130);a.priceTxt.changeTint(6750054);a.priceTxt.setStringWidth(200);return a};$jscomp.inherits(ArtifactInfo,Phaser.GameObjects.Container);
ArtifactInfo.prototype.showForArtifact=function(a){this.myArtifact=a;this.capTxt.showText(this.myArtifact.name);this.descTxt.showText(this.myArtifact.desc);this.iconIm.setTexture("allGraphics2",this.myArtifact.txtKey);this.ownTxt.showText("TXID_PHRASE_OWNED:"+this.myArtifact.quantityAvailable);this.priceTxt.showText("$"+this.myArtifact.price);window.bottleScreen.config.tradeArtfactsForBricks&&this.priceTxt.showText(this.myArtifact.bricksPrice+" TXID_INF_GB");0<this.myArtifact.quantityAvailable?(this.priceTxt.showText(""),
this.ownTxt.visible=!0,this.buyBtn.visible=!1,this.descTxt.changeTint(6750054)):(this.priceTxt.visible=!0,this.ownTxt.showText(""),this.buyBtn.visible=!0,this.descTxt.changeTint(16777215));this.isInPool=!1;this.visible=!0};ArtifactInfo.prototype.back2Pool=function(){this.isInPool=!0;this.visible=!1};
ArtifactInfo.prototype.buyBtnHandler=function(){window.bottleScreen.config.tradeArtfactsForBricks?window.bottleScreen.world.prestige>=this.myInfo.myArtifact.bricksPrice?this.myInfo.myPanel.myWorld.showMessage("TXID_MSG_BRICKSBUYCONFIRMATION_BEG "+this.myInfo.myArtifact.bricksPrice+" TXID_MSG_BRICKSBUYCONFIRMATION_MID "+this.myInfo.myArtifact.name+" TXID_MSG_BRICKSBUYCONFIRMATION_END?",["TXID_MSGANS_YES","TXID_MSGANS_NO"],[{func:this.myInfo.buyAfterConfirmation.bind(this.myInfo)},null],null):this.myInfo.myPanel.myWorld.showMessage("TXID_MSG_NOTENOUGHBRICKS",
["TXID_MSGANS_OK"],[],null):this.myInfo.myPanel.myWorld.showMessage("Placeholder function for buying Artifact\n"+this.myInfo.myArtifact.name,["OK"],[],null)};ArtifactInfo.prototype.buyAfterConfirmation=function(){window.bottleScreen.world.artifactsController.purchaseArtifactOfUID(this.myArtifact.uid,"bricks");this.showForArtifact(this.myArtifact);window.bottleScreen.statsWrapper.sendEvent("artifact_purchase_bricks",this.myArtifact.effectCode)};
var NewsScreen=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.myWorld=null;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(11.48,7.8);a.cap=new TextField(a.scene,a,"TXID_CAP_NEWS",0,120);a.newsCap=new TextField(a.scene,a,"newsCap",0,220);a.newsCap.changeTint(7798623);a.newsText=new TextField(a.scene,a,"newsText",0,320);a.newsText.setStringWidth(1050);a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",
500,30);a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.nxtBtn=new ButtonWithIcon(a.scene,a,"w000_rightArrIcon4new0000",200,80);a.nxtBtn.myPanel=a;a.nxtBtn.registerHandler(a.nxtBtnHandler);a.prevBtn=new ButtonWithIcon(a.scene,a,"w000_leftArrIcon4new0000",-200,80);a.prevBtn.myPanel=a;a.prevBtn.registerHandler(a.prevBtnHandler);a.ansBtns=[];a.ansActions=[];return a};$jscomp.inherits(NewsScreen,UpdatedPropertyPanel);
NewsScreen.prototype.show=function(){UpdatedPropertyPanel.prototype.show.call(this);this.showNextNews()};
NewsScreen.prototype.showNewsObject=function(){if(this.newsObject){this.newsCap.showText(window.translator.selectPhraseOfLanguage(this.newsObject.caption));this.newsText.showText(window.translator.selectPhraseOfLanguage(this.newsObject.message));var a=this.newsText.y+this.newsText.getTextHeight()+50;this.ansActions=[];for(var b=0;b<this.ansBtns.length;b++)this.ansBtns[b].visible=!1;if("answers"in this.newsObject){var c=this.newsObject.answers;for(b=0;b<c.length;b++){var d=c[b];"link"in d?this.ansActions.push({func:window.bottleScreen.openLinkAndTrack.bind(window.bottleScreen,
d.link,this.newsObject.uid+"_ans_"+b)}):this.ansActions.push(null);if(b<this.ansBtns.length)var e=this.ansBtns[b];else e=new ButtonWithText(this.scene,this,"ANS",0,250),e.registerHandler(this.btnHandler),e.myPanel=this,this.ansBtns.push(e);e.visible=!0;e.showText(window.translator.selectPhraseOfLanguage(d.text));e.x=1040/(c.length+1)*(b-(c.length-1)/2);e.myAction=this.ansActions[b];e.y=a}}this.bgIm.setScale(11.48,(a+50)/100)}};NewsScreen.prototype.btnHandler=function(){this.myAction&&this.myAction.func()};
NewsScreen.prototype.showPrevNews=function(){window.newsReader.setPrevNewsId();this.newsObject=window.newsReader.loadCurrentNews2Show();this.showNewsObject()};NewsScreen.prototype.showNextNews=function(){window.newsReader.setNextNewsId();this.newsObject=window.newsReader.loadCurrentNews2Show();this.showNewsObject()};NewsScreen.prototype.closeBtnHandler=function(){this.myPanel.hide()};NewsScreen.prototype.nxtBtnHandler=function(){this.myPanel.showNextNews()};NewsScreen.prototype.prevBtnHandler=function(){this.myPanel.showPrevNews()};
var ArtifactsScreen=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.myWorld=null;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(10.4,5);a.cap=new TextField(a.scene,a,"TXID_CAP_ARTIFACTS",0,80);a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",500,30);a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.infsPool=[];return a};$jscomp.inherits(ArtifactsScreen,UpdatedPropertyPanel);
ArtifactsScreen.prototype.showForWorld=function(a){this.myWorld=a;this.show()};ArtifactsScreen.prototype.show=function(){UpdatedPropertyPanel.prototype.show.call(this);this.clearAllInformers();for(var a=this.myWorld.artifactsController.artifacts,b=-250,c=150,d=0;d<a.length;d++){var e=this.createOfFindInformer4Artifact(a[d]);e.x=b;e.y=c;b+=500;250<b&&(b=-250,c+=260)}this.bgIm.setScale(10.4,(e.y+260)/100)};
ArtifactsScreen.prototype.createOfFindInformer4Artifact=function(a){for(var b=null,c=0;c<this.infsPool.length;c++)if(this.infsPool[c].isInPool){b=this.infsPool[c];break}b||(b=new ArtifactInfo(this.scene,this),b.myPanel=this,this.infsPool.push(b));b.showForArtifact(a);return b};ArtifactsScreen.prototype.clearAllInformers=function(){for(var a=0;a<this.infsPool.length;a++)this.infsPool[a].back2Pool()};ArtifactsScreen.prototype.closeBtnHandler=function(){this.myPanel.hide()};
var BoostsPanel=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.myWorld=null;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(10.4,5);a.cap=new TextField(a.scene,a,"TXID_CAP_BOOSTS",0,80);a.prestigeInformer=new TextField(a.scene,a,"data",0,150);a.prestigeInformer.changeAlign("center");a.boostsInformer=new TextField(a.scene,a,"data",-200,200);a.boostsInformer.changeAlign("left");a.boostsValsInformer=new TextField(a.scene,
a,"data",200,200);a.boostsValsInformer.changeAlign("left");a.boostsValsInformer.changeTint(6750054);a.artifactsInformer=new TextField(a.scene,a,"data",0,350);a.artifactsInformer.changeAlign("center");a.prestigeNextInformer=new TextField(a.scene,a,"data",0,350);a.prestigeNextInformer.changeAlign("center");a.artifactsBtn=new ButtonWithText(a.scene,a,"TXID_CAP_ARTIFACTS",0,350);a.artifactsBtn.registerHandler(a.artifactsBtnHandler);a.artifactsBtn.myPanel=a;a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",
500,30);a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.restartBtn=new ButtonWithText(a.scene,a,"TXID_CAP_RESTART",0,150);a.restartBtn.registerHandler(a.restartBtnHandler);a.restartBtn.myPanel=a;a.getBtn=new ButtonWithText(a.scene,a,"TXID_CAP_DAILYBONUS",0,150);a.getBtn.registerHandler(a.getBtnHandler);a.getBtn.myPanel=a;a.bonusInfoCap=new TextField(a.scene,a,"TXID_CAP_DAILYBONUS",0,350);a.bonusInfoCap.changeAlign("center");return a};$jscomp.inherits(BoostsPanel,UpdatedPropertyPanel);
BoostsPanel.prototype.showForWorld=function(a){this.myWorld=a;this.show()};BoostsPanel.prototype.closeBtnHandler=function(){this.myPanel.hide()};
BoostsPanel.prototype.updateView=function(){UpdatedPropertyPanel.prototype.updateView.call(this);this.prestigeInformer.showTextsOfDifferentColors(["TXID_PHRASE_GB_BEG ",""+window.bottleScreen.utils.showNumberAsText(this.myWorld.prestige)," TXID_PHRASE_GB_END"],[-1,16777096,-1],!1);this.boostsInformer.showTextsOfDifferentColors(["TXID_MSGCAP_BOOSTNAME_CLICK: ","\nTXID_MSGCAP_BOOSTNAME_PROD: ","\nTXID_MSGCAP_BOOSTNAME_PRICE: "],[-1,-1,-1],!1);this.boostsValsInformer.showTextsOfDifferentColors(["x"+
window.bottleScreen.utils.showNumberAsText(this.myWorld.getMasterTapCoef()),"\nx"+window.bottleScreen.utils.showNumberAsText(this.myWorld.getMasterProdCoef()),"\nx"+window.bottleScreen.utils.showNumberAsText(this.myWorld.getMasterPriceCoef())],[-1,-1,-1],!1);this.artifactsInformer.setY(this.boostsInformer.y+this.boostsInformer.getTextHeight()+50);this.artifactsInformer.showTextsOfDifferentColors(["TXID_PHRASE_ARTIFACTS_BEG ",""+this.myWorld.countOwnedArtifacts()," TXID_PHRASE_ARTIFACTS_END"],[-1,
16777096,-1],!1);var a=this.artifactsInformer.y+this.artifactsInformer.getTextHeight()+50;this.artifactsBtn.y=a;var b=this.myWorld.getPrestigeAdditionAfterRestart(),c=this.myWorld.getPrestigeAdditionAfterRestart(1);this.prestigeNextInformer.setY(a+100);this.prestigeNextInformer.showTextsOfDifferentColors(["TXID_PHRASE_RESTARTINFO_BEG ",""+window.bottleScreen.utils.showNumberAsText(b)," TXID_PHRASE_RESTARTINFO_END","\nTXID_PHRASE_RESTARTINFO_NEXT_BEG ",""+window.bottleScreen.utils.showNumberAsText(c),
" TXID_PHRASE_RESTARTINFO_NEXT_END"],[-1,16777096,-1,-1,16777096,-1],!1);a=this.prestigeNextInformer.y+this.prestigeNextInformer.getTextHeight()+50;this.restartBtn.y=a;this.restartBtn.visible=0<b;a+=100;this.getBtn.y=a;this.bonusInfoCap.setY(a);null!=this.myWorld.myGiftsController.queuedRewardObject?(this.bonusInfoCap.visible=!1,this.getBtn.visible=!0):(this.bonusInfoCap.visible=!0,this.bonusInfoCap.showText("TXID_CAP_NEXTBONUSIN: "+window.bottleScreen.utils.showTimeAsText(this.myWorld.myGiftsController.timeOfNextGift-
Date.now(),!1)),this.getBtn.visible=!1);this.bgIm.setScale(10.4,(a+100)/100)};BoostsPanel.prototype.restartBtnHandler=function(){this.myPanel.myWorld.showRestartRequest();this.myPanel.hide()};BoostsPanel.prototype.getBtnHandler=function(){this.myPanel.myWorld.hud.showDailyBonusScreen();this.myPanel.hide()};BoostsPanel.prototype.artifactsBtnHandler=function(){this.myPanel.hide();this.myPanel.myHud.showArtifactsScreen()};
var CarawanSettingsPanel=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(10.4,7.5);a.mchCap=new TextField(a.scene,a,"TXID_CAP_CARAWANSETTINGS",0,80);a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",500,30);a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.resCaps=[];a.resBtns=[];return a};$jscomp.inherits(CarawanSettingsPanel,UpdatedPropertyPanel);
CarawanSettingsPanel.prototype.closeBtnHandler=function(){this.myPanel.hide()};CarawanSettingsPanel.prototype.showForMachine=function(a){this.myMachine=a;this.show()};CarawanSettingsPanel.prototype.show=function(){UpdatedPropertyPanel.prototype.show.call(this)};
CarawanSettingsPanel.prototype.updateView=function(){UpdatedPropertyPanel.prototype.updateView.call(this);this.myMachine.updateStoragesList();for(var a=0;a<this.myMachine.storagesRecordList.length;a++){var b=this.myMachine.storagesRecordList[a].storage,c=1==this.myMachine.res2SellList[a],d=b.getMyResName();b=b.getMyResPrice();var e=this.getOrCreateGoodsExplanationText(a),f=this.getOrCreateGoodsSellButton(a);e.visible=!0;e.x=-300;e.y=150+75*a;e.showText(d+": "+window.bottleScreen.utils.showNumberAsText(b)+
" TXID_UNITS_COINSEACH");f.setIconFrame(c?"w000_SelectedIcon4new0000":"w000_notSelectedIcon4new0000");f.visible=!0;f.x=350;f.y=e.y-10;f.resIdInList=a}for(;a<this.resCaps.length;)this.resCaps[a].visible=!1,this.resBtns[a].visible=!1,a++};CarawanSettingsPanel.prototype.getOrCreateGoodsExplanationText=function(a){a<this.resCaps.length?a=this.resCaps[a]:(a=new TextField(this.scene,this,"SELL Text",0,0),a.changeAlign("left"),this.resCaps.push(a));return a};
CarawanSettingsPanel.prototype.getOrCreateGoodsSellButton=function(a){if(a<this.resBtns.length)var b=this.resBtns[a];else b=new ButtonWithIcon(this.scene,this,"w000_notSelectedIcon4new0000",0,0),b.myPanel=this,b.registerHandler(this.checkBoxBtnHandler),b.myStorageObjectId=a,b.isChecked=!1,this.resBtns.push(b);return b};CarawanSettingsPanel.prototype.checkBoxBtnHandler=function(){this.myPanel.myMachine.toggleAutoSellingOfResourceId(this.resIdInList);this.myPanel.updateView()};
var ResourceSellPanel=function(a,b){a=UpdatedPropertyPanel.call(this,a,b)||this;a.myWorld=null;a.bgIm=a.scene.add.image(0,0,"allGraphics2","w000_panelBase4new0000");a.add(a.bgIm);a.bgIm.setOrigin(.5,0);a.bgIm.setScale(10.4,7);a.cap=new TextField(a.scene,a,"SELL RESOURCES",0,80);a.closeBtn=new ButtonWithIcon(a.scene,a,"w000_closeIcon4new0000",500,30);a.closeBtn.myPanel=a;a.closeBtn.registerHandler(a.closeBtnHandler);a.sellPercBtn=new ButtonWithIcon(a.scene,a,"w000_percIcon4new0000",300,80);a.sellPercBtn.myPanel=
a;a.sellPercBtn.registerHandler(a.changeSellMode);a.sellPercBtn.sellPercentage=.5;a.sellPercBtn.createCaption(" ",0,20);a.sellPercBtn.lvlInformer.changeTint(16777215);a.sellPercBtn.lvlInformer.showText(window.bottleScreen.utils.showNumberAsText(100*a.sellPercBtn.sellPercentage)+"%");a.sellPossibilitiesTxts=[];a.sellPossibilitiesBtns=[];return a};$jscomp.inherits(ResourceSellPanel,UpdatedPropertyPanel);ResourceSellPanel.prototype.showForWorld=function(a){this.myWorld=a;this.show()};
ResourceSellPanel.prototype.getOrCreateGoodsExplanationText=function(a){a<this.sellPossibilitiesTxts.length?a=this.sellPossibilitiesTxts[a]:(a=new TextField(this.scene,this,"SELL Text",0,0),a.changeAlign("left"),this.sellPossibilitiesTxts.push(a));return a};
ResourceSellPanel.prototype.getOrCreateGoodsSellButton=function(a){a<this.sellPossibilitiesBtns.length?a=this.sellPossibilitiesBtns[a]:(a=new ButtonWithIcon(this.scene,this,"w000_sellIcon4new0000",0,0),a.myPanel=this,a.registerHandler(this.sellBtnHandler),a.myStorageObject=null,this.sellPossibilitiesBtns.push(a));return a};ResourceSellPanel.prototype.sellBtnHandler=function(){this.myPanel.myWorld.handleSellingFromStorage(this.myStorageObject,this.myPanel.sellPercBtn.sellPercentage);this.myPanel.showForWorld(this.myPanel.myWorld)};
ResourceSellPanel.prototype.changeSellMode=function(){var a=[.1,.5,1],b=a.indexOf(this.sellPercentage);this.sellPercentage=a[(b+1)%a.length];this.lvlInformer.showText(window.bottleScreen.utils.showNumberAsText(100*this.sellPercentage)+"%");this.myPanel.updateView()};ResourceSellPanel.prototype.closeBtnHandler=function(){this.myPanel.hide()};ResourceSellPanel.prototype.show=function(){UpdatedPropertyPanel.prototype.show.call(this)};
ResourceSellPanel.prototype.updateView=function(){UpdatedPropertyPanel.prototype.updateView.call(this);this.myWorld.updateSellPossibilities();for(var a=0;a<this.myWorld.storagesWithGoods2Sell.length;a++){var b=this.myWorld.storagesWithGoods2Sell[a],c=this.getOrCreateGoodsExplanationText(a),d=this.getOrCreateGoodsSellButton(a);c.visible=!0;c.x=-300;c.y=250+75*a;var e=b.getMyResPrice(),f=b.valInside,g=b.getMyResName();f=Math.floor(f*this.sellPercBtn.sellPercentage);e*=f;0<f?(c.showTextsOfDifferentColors(["TXID_MSG_SELLREING_BEG ",
window.bottleScreen.utils.showNumberAsText(f)," "+g," TXID_MSG_SELLREING_MID ",""+window.bottleScreen.utils.showNumberAsText(e)," TXID_MSG_SELLREING_END"],[-1,6750054,-1,-1,6750054,-1]),d.visible=!0):(d.visible=!1,c.showText(g));d.myStorageObject=b;d.x=350;d.y=c.y-10}for(;a<this.sellPossibilitiesTxts.length;)this.sellPossibilitiesTxts[a].visible=!1,this.sellPossibilitiesBtns[a].visible=!1,a++;0==this.myWorld.storagesWithGoods2Sell.length?this.cap.showText("TXID_MSGCAP_NOTHING2SELL"):this.cap.showText("TXID_MSGCAP_SELLRESOURCES")};
ResourceSellPanel.prototype.hide=function(){UpdatedPropertyPanel.prototype.hide.call(this);this.myWorld=null};
var BabelPurchaser=function(a){Purchaser.call(this,a);this.purhasedObjects=[{code:"PURCH_WATERPUMP",purchName:"TXID_MACH_NAME_PUMP",purchDesc:"TXID_MACH_DESC_PUMP",iconTx:"w000_4new0000",mainObjClass:WaterPump,mainObjParams:[0,0],purchases:[]},{code:"PURCH_DRUM",purchName:"TXID_MACH_NAME_DRUMMER",purchDesc:"TXID_MACH_DESC_DRUMMER",iconTx:"w000_4new0000",mainObjClass:DrummerOnBalcony,mainObjParams:[110,0],purchases:[]},{code:"PURCH_SMOKE",purchName:"TXID_MACH_NAME_SMOKEMACHINE",purchDesc:"TXID_MACH_DESC_SMOKEMACHINE",
iconTx:"w000_4new0000",mainObjClass:SmokeMachine,mainObjParams:[-110,0],purchases:[]},{code:"PURCH_BERCH",purchName:"TXID_MACH_NAME_BERTH",purchDesc:"TXID_MACH_DESC_BERTH",iconTx:"w000_4new0000",mainObjClass:Berth4FlyingMachine,mainObjParams:[110,0],purchases:[]},{code:"PURCH_LIFTENGINE",purchName:"TXID_MACH_NAME_LIFTENGINE",purchDesc:"TXID_MACH_DESC_LIFTENGINE",iconTx:"w000_4new0000",mainObjClass:LiftEngine,mainObjParams:[-270,0],purchases:[]},{code:"PURCH_ELEPHANT",purchName:"TXID_MACH_NAME_ELEPHANT",
purchDesc:"TXID_MACH_DESC_ELEPHANT",iconTx:"w000_4new0000",mainObjClass:Elephant,mainObjParams:[0,0],purchases:[]},{code:"PURCH_CLOCK",purchName:"TXID_MACH_NAME_CLOCK",purchDesc:"TXID_MACH_DESC_CLOCK",iconTx:"w000_4new0000",mainObjClass:Clock,mainObjParams:[0,0],purchases:[]},{code:"PURCH_CARAWAN",purchName:"TXID_MACH_NAME_CARAWANSARAI",purchDesc:"TXID_MACH_DESC_CARAWANSARAI",iconTx:"w000_4new0000",mainObjClass:CarawanSarai,mainObjParams:[0,0],purchases:[]},{code:"PURCH_WATEREXTRACTOR",purchName:"TXID_MACH_NAME_WATEREXTRACTOR",
purchDesc:"TXID_MACH_DESC_WATEREXTRACTOR",iconTx:"w000_4new0000",mainObjClass:WaterExtractor,mainObjParams:[0,0],purchases:[]},{code:"PURCH_HELICOPTER",purchName:"TXID_MACH_NAME_HELICOPTER",purchDesc:"TXID_MACH_DESC_HELICOPTER",iconTx:"w000_4new0000",mainObjClass:Helicopter,mainObjParams:[0,0],purchases:[]}]};$jscomp.inherits(BabelPurchaser,Purchaser);
var BabelBallanser=function(a){Ballanser.call(this,a);this.quarryTapUpgrader=new UpgradedParam("TXID_UPGRNAME_STONE",null,.25,"","",1,this.upgrStoneTapProduction_isNode,this.upgrStoneTapProduction_simpleAdd,this.upgrStoneTapProduction_nodeAdd,!1);this.quarryNumMinersUpgrader=new UpgradedParam("TXID_UPGRNAME_MINERS",null,0,"","",1,this.upgrNumMiners_isNode,this.upgrNumMiners_simpleAdd,this.upgrNumMiners_nodeAdd,!1);this.transportCapacityUpgrader=new UpgradedParam("TXID_UPGRNAME_TRANSPORT",null,0,"",
"",1,this.upgrTransportCapacity_isNode,this.upgrTransportCapacity_simpleAdd,this.upgrTransportCapacity_nodeAdd,!1);this.sawSpeedUpgrader=new UpgradedParam("TXID_UPGRNAME_BRICKTIME",null,1,"","TXID_UPGRUNITS_SEC",20,this.upgrSawSpeed_isNode,this.upgrSawSpeed_simpleAdd,this.upgrSawSpeed_nodeAdd,!0);this.sawValueUpgrader=new UpgradedParam("TXID_UPGRNAME_BRICKNUMBER",null,1,"","",1,this.upgrSawValue_isNode,this.upgrSawValue_simpleAdd,this.upgrSawValue_nodeAdd,!1);this.forestTapUpgrader=new UpgradedParam("TXID_UPGRNAME_WOOD",
null,.1,"","",1,this.upgrWoodTapProduction_isNode,this.upgrWoodTapProduction_simpleAdd,this.upgrWoodTapProduction_nodeAdd,!1);this.forestNumChoppersUpgrader=new UpgradedParam("TXID_UPGRNAME_CHOPPERS",null,0,"","",1,this.upgrNumChoppers_isNode,this.upgrNumChoppers_simpleAdd,this.upgrNumChoppers_nodeAdd,!1);this.transportWoodCapacityUpgrader=new UpgradedParam("TXID_UPGRNAME_TRANSPORT",null,0,"","",1,this.upgrWoodTransportCapacity_isNode,this.upgrWoodTransportCapacity_simpleAdd,this.upgrWoodTransportCapacity_nodeAdd,
!1);this.lumbermillSpeedUpgrader=new UpgradedParam("TXID_UPGRNAME_WOODTIME",null,1,"","TXID_UPGRUNITS_SEC",40,this.upgrLumbermillSpeed_isNode,this.upgrLumbermillSpeed_simpleAdd,this.upgrLumbermillSpeed_nodeAdd,!0);this.lumbermillValueUpgrader=new UpgradedParam("TXID_UPGRNAME_PLANKSTIME",null,1,"","",1,this.upgrLumbermillValue_isNode,this.upgrLumbermillValue_simpleAdd,this.upgrLumbermillValue_nodeAdd,!1);this.waterPumpPowerUpgrader=new UpgradedParam("TXID_UPGRNAME_PUMPPOWER",null,1,"","TXID_UPGRUNITS_WATERPERSEC",
.5,this.upgrWaterPumpPower_isNode,this.upgrWaterPumpPower_simpleAdd,this.upgrWaterPumpPower_nodeAdd,!1);this.drumPowerUpgrader=new UpgradedParam("TXID_UPGRNAME_DRUMPOWER",null,.1,"","%",100,this.upgrDrumPower_isNode,this.upgrDrumPower_simpleAdd,this.upgrDrumPower_nodeAdd,!1);this.smokePowerUpgrader=new UpgradedParam("TXID_UPGRNAME_CLOUDPOWER",null,10,"","",1,this.upgrSmokePower_isNode,this.upgrSmokePower_simpleAdd,this.upgrSmokePower_nodeAdd,!1);this.elephantCapacityUpgrader=new UpgradedParam("TXID_UPGRNAME_TRANSPORT",
null,2E4,"","",1,this.upgrElephant_isNode,this.upgrElephant_simpleAdd,this.upgrElephant_nodeAdd,!1);this.fieldTapUpgrader=new UpgradedParam("TXID_UPGRNAME_FIELD",null,1,"","",1,this.upgrFieldTapProduction_isNode,this.upgrFieldTapProduction_simpleAdd,this.upgrFieldTapProduction_nodeAdd,!1);this.fieldNumMinersUpgrader=new UpgradedParam("TXID_UPGRNAME_MOWERS",null,0,"","",1,this.upgrNumMowers_isNode,this.upgrNumMowers_simpleAdd,this.upgrNumMowers_nodeAdd,!1);this.berthMoneyUpgrader=new UpgradedParam("TXID_UPGRNAME_BERTH",
null,3E5,"","",1,this.upgrBerth_isNode,this.upgrBerth_simpleAdd,this.upgrBerth_nodeAdd,!1);this.clockSpeedUpgrader=new UpgradedParam("TXID_UPGRNAME_CLOCKSPEED",null,.01,"","%",100,this.upgrClock_isNode,this.upgrClock_simpleAdd,this.upgrClock_nodeAdd,!1);this.waterExtractorUpgrader=new UpgradedParam("TXID_UPGRNAME_WATEREXTRACTION",null,500,"","/s",1,this.upgrWaterExtraction_isNode,this.upgrWaterExtraction_simpleAdd,this.upgrWaterExtraction_nodeAdd,!1);this.carawanSaraiUpgrader=new UpgradedParam("TXID_UPGRNAME_CARAWANPRICE",
null,.1,"","%",100,this.upgrCarawan_isNode,this.upgrCarawan_simpleAdd,this.upgrCarawan_nodeAdd,!1);this.helicopterNumBoomsUpgrader=new UpgradedParam("TXID_UPGRNAME_HELIBOOMS",null,1,"","",1,this.upgrHeliBoomNum_isNode,this.upgrHeliBoomNum_simpleAdd,this.upgrHeliBoomNum_nodeAdd,!1);this.helicopterPowerBoomsUpgrader=new UpgradedParam("TXID_UPGRNAME_HELIBOOMPOWER",null,3E4,"","",1,this.upgrHeliBoomPower_isNode,this.upgrHeliBoomPower_simpleAdd,this.upgrHeliBoomPower_nodeAdd,!1);this.simpleUpgrader=new UpgradedParam("Simple Upgrader",
null,1,"","",1,this.upgrSiple_isNode,this.upgrSimple_simpleAdd,this.upgrSimple_nodeAdd,!1);this.goodsList="stone bricks wood planks hay water".split(" ");this.goodsNamesList="TXID_GOODS_STONE TXID_GOODS_BRICKS TXID_GOODS_WOOD TXID_GOODS_PLANKS TXID_GOODS_HAY TXID_GOODS_WATER".split(" ");this.pricesList=[1,5,3,18,50,200];this.forestMaxWood=300;this.forestGrowthSpeed=.1;this.goldFromTapOnTowerWindow=1E3;this.wellMaxWater=1E4;this.waterGrowthSpeed=10;this.timeBetweenWindowOpensInTower=60;this.timeOfShowingWindow=
20};$jscomp.inherits(BabelBallanser,Ballanser);BabelBallanser.prototype.calcReward4TapOnGoldInTower=function(a){return this.goldFromTapOnTowerWindow*a.numStoriesBuilt*a.myWorld.getMasterTapCoef()*a.myWorld.getMasterProdCoef()};
BabelBallanser.prototype.calcPurchasePrice4Slot=function(a){var b=2E3;if(a.purchasedRecord)switch(a.purchasedRecord.code){case "PURCH_BERCH":b=5E7;break;case "PURCH_DRUM":b=6E4;break;case "PURCH_LIFTENGINE":b=5E5;break;case "PURCH_SMOKE":b=1E6;break;case "PURCH_WATERPUMP":b=1E4;break;case "PURCH_ELEPHANT":b=1E9;break;case "PURCH_CLOCK":b=5E10;break;case "PURCH_WATEREXTRACTOR":b=2E10;break;case "PURCH_CARAWAN":b=1E12;break;case "PURCH_HELICOPTER":b=1E14}return b};
BabelBallanser.prototype.getForestUpgradePrice=function(a){return Math.round(100*Math.pow(1.25,a))};BabelBallanser.prototype.getQuarryUpgradePrice=function(a){return Math.round(20*Math.pow(1.2,a))};BabelBallanser.prototype.getTransportUpgradePrice=function(a){return Math.round(40*Math.pow(1.5,a))};BabelBallanser.prototype.getWoodTransportUpgradePrice=function(a){return Math.round(120*Math.pow(1.25,a))};BabelBallanser.prototype.getSawTentUpgradePrice=function(a){return Math.round(80*Math.pow(1.3,a))};
BabelBallanser.prototype.getLumbermillUpgradePrice=function(a){return Math.round(200*Math.pow(1.3,a))};BabelBallanser.prototype.getPumpPowerUpgradePrice=function(a){return Math.round(5E3*Math.pow(1.1,a))};BabelBallanser.prototype.getDrumUpgradePrice=function(a){return Math.round(2E4*Math.pow(1.3,a))};BabelBallanser.prototype.getSmokePowerUpgradePrice=function(a){return Math.round(5E5*Math.pow(1.4,a))};
BabelBallanser.prototype.getElephantUpgradePrice=function(a){return Math.round(1E7*Math.pow(1.2,a))};BabelBallanser.prototype.getFieldUpgradePrice=function(a){return Math.round(1E5*Math.pow(1.5,a))};BabelBallanser.prototype.getBerthUpgradePrice=function(a){return Math.round(1E6*Math.pow(1.15,a))};BabelBallanser.prototype.getClockUpgradePrice=function(a){return Math.round(5E9*Math.pow(1.5,a))};BabelBallanser.prototype.getWaterExtractorUpgradePrice=function(a){return Math.round(2E10*Math.pow(1.2,a))};
BabelBallanser.prototype.getCarawanUpgradePrice=function(a){return Math.round(1E12*Math.pow(1.3,a))};BabelBallanser.prototype.getHelicopterUpgradePrice=function(a){return Math.round(1E13*Math.pow(1.4,a))};BabelBallanser.prototype.getSimpleUpgradePrice=function(a){return 10*Math.pow(10,a)};BabelBallanser.prototype.upgrStoneTapProduction_isNode=function(a){return 0==a%10};BabelBallanser.prototype.upgrStoneTapProduction_simpleAdd=function(a,b,c){return a+.1*Math.pow(2,b)};
BabelBallanser.prototype.upgrStoneTapProduction_nodeAdd=function(a,b){return a+.5*Math.pow(2,b)};BabelBallanser.prototype.upgrNumMiners_isNode=function(a){return 0==a%4};BabelBallanser.prototype.upgrNumMiners_simpleAdd=function(a,b,c){return a+0};BabelBallanser.prototype.upgrNumMiners_nodeAdd=function(a,b){return a+1};BabelBallanser.prototype.upgrFieldTapProduction_isNode=function(a){return 0==a%20};BabelBallanser.prototype.upgrFieldTapProduction_simpleAdd=function(a,b,c){return a+.1*Math.pow(2,b)};
BabelBallanser.prototype.upgrFieldTapProduction_nodeAdd=function(a,b){return 1.5*a};BabelBallanser.prototype.upgrNumMowers_isNode=function(a){return 0==(a+4)%8};BabelBallanser.prototype.upgrNumMowers_simpleAdd=function(a,b,c){return a+0};BabelBallanser.prototype.upgrNumMowers_nodeAdd=function(a,b){return a+1};BabelBallanser.prototype.upgrTransportCapacity_isNode=function(a){return 0==a%8};BabelBallanser.prototype.upgrTransportCapacity_simpleAdd=function(a,b,c){return a+1*Math.pow(2,b)};
BabelBallanser.prototype.upgrTransportCapacity_nodeAdd=function(a,b){return 2*a};BabelBallanser.prototype.upgrElephant_isNode=function(a){return 0==a%10};BabelBallanser.prototype.upgrElephant_simpleAdd=function(a,b,c){return a+1E3*Math.pow(2,b)};BabelBallanser.prototype.upgrElephant_nodeAdd=function(a,b){return 2*a};BabelBallanser.prototype.upgrSawSpeed_isNode=function(a){return 0==a%4};BabelBallanser.prototype.upgrSawSpeed_simpleAdd=function(a,b,c){return a+.05*(b+1)};
BabelBallanser.prototype.upgrSawSpeed_nodeAdd=function(a,b){return a+.25*(b+1)};BabelBallanser.prototype.upgrSawValue_isNode=function(a){return 0==a%5};BabelBallanser.prototype.upgrSawValue_simpleAdd=function(a,b,c){return a+0};BabelBallanser.prototype.upgrSawValue_nodeAdd=function(a,b){return 2*a};BabelBallanser.prototype.upgrWoodTransportCapacity_isNode=function(a){return 0==a%10};BabelBallanser.prototype.upgrWoodTransportCapacity_simpleAdd=function(a,b,c){return a+1*Math.pow(2,b)};
BabelBallanser.prototype.upgrWoodTransportCapacity_nodeAdd=function(a,b){return 2*a};BabelBallanser.prototype.upgrWoodTapProduction_isNode=function(a){return 0==a%10};BabelBallanser.prototype.upgrWoodTapProduction_simpleAdd=function(a,b,c){return a+.05*Math.pow(2,b)};BabelBallanser.prototype.upgrWoodTapProduction_nodeAdd=function(a,b){return a+.5*Math.pow(2,b)};BabelBallanser.prototype.upgrNumChoppers_isNode=function(a){return 0==a%4};
BabelBallanser.prototype.upgrNumChoppers_simpleAdd=function(a,b,c){return a+0};BabelBallanser.prototype.upgrNumChoppers_nodeAdd=function(a,b){return a+1};BabelBallanser.prototype.upgrLumbermillSpeed_isNode=function(a){return 0==a%6};BabelBallanser.prototype.upgrLumbermillSpeed_simpleAdd=function(a,b,c){return a+.05*(b+1)};BabelBallanser.prototype.upgrLumbermillSpeed_nodeAdd=function(a,b){return a+.5*(b+1)};BabelBallanser.prototype.upgrLumbermillValue_isNode=function(a){return 0==a%5};
BabelBallanser.prototype.upgrLumbermillValue_simpleAdd=function(a,b,c){return a+0};BabelBallanser.prototype.upgrLumbermillValue_nodeAdd=function(a,b){return 2*a};BabelBallanser.prototype.upgrWaterPumpPower_isNode=function(a){a=Math.sqrt(81+8*a);return a==Math.floor(a)};BabelBallanser.prototype.upgrWaterPumpPower_simpleAdd=function(a,b,c){return a+.2};BabelBallanser.prototype.upgrWaterPumpPower_nodeAdd=function(a,b){return 2*a};
BabelBallanser.prototype.upgrDrumPower_isNode=function(a){return 0==a%5};BabelBallanser.prototype.upgrDrumPower_simpleAdd=function(a,b,c){return a+.05};BabelBallanser.prototype.upgrDrumPower_nodeAdd=function(a,b){return a+.2};BabelBallanser.prototype.upgrSmokePower_isNode=function(a){return 0==a%6};BabelBallanser.prototype.upgrSmokePower_simpleAdd=function(a,b,c){return a+1*Math.pow(2,b)};BabelBallanser.prototype.upgrSmokePower_nodeAdd=function(a,b){return 2*a};
BabelBallanser.prototype.upgrBerth_isNode=function(a){return 0==a%25};BabelBallanser.prototype.upgrBerth_simpleAdd=function(a,b,c){return a+3E4*Math.pow(2,b)};BabelBallanser.prototype.upgrBerth_nodeAdd=function(a,b){return 2*a};BabelBallanser.prototype.upgrClock_isNode=function(a){return 0==a%10};BabelBallanser.prototype.upgrClock_simpleAdd=function(a,b,c){return a+.005};BabelBallanser.prototype.upgrClock_nodeAdd=function(a,b){return a+.1};
BabelBallanser.prototype.upgrWaterExtraction_isNode=function(a){return 0==a%10};BabelBallanser.prototype.upgrWaterExtraction_simpleAdd=function(a,b,c){return a+50*Math.pow(2,b)};BabelBallanser.prototype.upgrWaterExtraction_nodeAdd=function(a,b){return 2*a};BabelBallanser.prototype.upgrCarawan_isNode=function(a){return 0==a%9};BabelBallanser.prototype.upgrCarawan_simpleAdd=function(a,b,c){return a+.1*(1+b)};BabelBallanser.prototype.upgrCarawan_nodeAdd=function(a,b){return a+.5*(1+b)};
BabelBallanser.prototype.upgrHeliBoomNum_isNode=function(a){return 0==a%8};BabelBallanser.prototype.upgrHeliBoomNum_simpleAdd=function(a,b,c){return a+0};BabelBallanser.prototype.upgrHeliBoomNum_nodeAdd=function(a,b){return a+1};BabelBallanser.prototype.upgrHeliBoomPower_isNode=function(a){return 0==a%7};BabelBallanser.prototype.upgrHeliBoomPower_simpleAdd=function(a,b,c){return a+3E3*Math.pow(2,b)};BabelBallanser.prototype.upgrHeliBoomPower_nodeAdd=function(a,b){return 2*a};
BabelBallanser.prototype.upgrSiple_isNode=function(a){return!1};BabelBallanser.prototype.upgrSimple_simpleAdd=function(a,b,c){return a+1*Math.pow(2,b)};BabelBallanser.prototype.upgrSimple_nodeAdd=function(a,b){return 2*a};BabelBallanser.prototype.getCoefOfTowerBricksCnversion=function(a){if(window.bottleScreen.config.cheapBricks)return 1;for(var b=1,c=10,d=0;d<a.numStoriesBuilt;d++)b*=c,c+=2;return b};
BabelBallanser.prototype.getCoefOfCranePlanksConversion=function(a){return window.bottleScreen.config.cheapBricks?1:Math.pow(2,a.numStoriesBuilt)};BabelBallanser.prototype.convertDrumPower2SpeedCoef=function(a){return 1+Math.log(1+a)};var EmulatedContainer=function(a,b,c){this.x=b;this.y=c;this.grp=a;this.children=[]};EmulatedContainer.prototype.addChild=function(a){this.grp.add(a);this.children.push(a)};
EmulatedContainer.prototype.setX=function(a){for(var b=a-this.x,c=0;c<this.children.length;c++)this.children.x+=b;this.x=a};EmulatedContainer.prototype.setY=function(a){for(var b=a-this.y,c=0;c<this.children.length;c++)this.children.y+=b;this.y=a};EmulatedContainer.prototype.setChildCoords=function(a,b,c){-1!=this.children.indexOf(a)&&(b.x=this.x+b,a.y=this.y+c)};
var TutPointingHand=function(a,b,c,d){TutSprite.call(this,a,b,c,d);this.handIm=this.scene.add.image(0,0,"allGraphics2","w000_tutHand4new0000");this.handIm.x=this.myObject.x+150;this.handIm.y=this.myObject.y-150;this.handIm.rotation=-.75*Math.PI;this.grp.add(this.handIm)};$jscomp.inherits(TutPointingHand,TutSprite);
TutPointingHand.prototype.updateAtMoment=function(a){TutSprite.prototype.updateAtMoment.call(this,a);this.handIm.x=this.myObject.x+150+50*Math.sin(5*this.lastCalculatedMoment);this.handIm.y=this.myObject.y-150-50*Math.sin(5*this.lastCalculatedMoment)};TutPointingHand.prototype.getRemoved=function(){TutSprite.prototype.getRemoved.call(this);this.handIm.destroy()};
var TutDraggingHand=function(a,b,c,d,e){TutSprite.call(this,a,b,c,d);this.handIm=this.scene.add.image(0,0,"allGraphics2","w000_tutHand4new0000");this.hx0=this.myObject.x;this.hy0=this.myObject.y-10;e?(a=e.dx,e=e.dy):(a=300,e=100);this.hx1=this.myObject.x+a;this.hy1=this.myObject.y+e;this.handIm.x=this.hx0;this.handIm.y=this.hy0;this.handIm.rotation=0;this.grp.add(this.handIm);this.cycleLength=2};$jscomp.inherits(TutDraggingHand,TutSprite);
TutDraggingHand.prototype.updateAtMoment=function(a){TutSprite.prototype.updateAtMoment.call(this,a);a=.5>this.lambda?2*this.lambda*this.lambda:1-2*(1-this.lambda)*(1-this.lambda);this.handIm.x=this.hx0+a*(this.hx1-this.hx0);this.handIm.y=this.hy0+a*(this.hy1-this.hy0)};TutDraggingHand.prototype.getRemoved=function(){TutSprite.prototype.getRemoved.call(this);this.handIm.destroy()};
var TutTappingHand=function(a,b,c,d){TutSprite.call(this,a,b,c,d);this.handIm=this.scene.add.image(0,0,"allGraphics2","w000_tutHand4new0000");this.hx0=this.myObject.x;this.hy0=this.myObject.y-40;this.hx1=this.myObject.x;this.hy1=this.myObject.y+10;this.alpha0=0;this.scale0=2;this.scale1=this.alpha1=1;this.handIm.x=this.hx0;this.handIm.y=this.hy0;this.handIm.rotation=0;this.handIm.alpha=this.alpha0;this.handIm.scale=this.scale0;this.grp.add(this.handIm);this.cycleLength=.5};
$jscomp.inherits(TutTappingHand,TutSprite);TutTappingHand.prototype.updateAtMoment=function(a){TutSprite.prototype.updateAtMoment.call(this,a);a=1-(1-this.lambda)*(1-this.lambda);this.handIm.x=this.hx0+a*(this.hx1-this.hx0);this.handIm.y=this.hy0+a*(this.hy1-this.hy0);this.handIm.alpha=this.alpha0+a*(this.alpha1-this.alpha0);this.handIm.setScale(this.scale0+a*(this.scale1-this.scale0))};TutTappingHand.prototype.getRemoved=function(){TutSprite.prototype.getRemoved.call(this);this.handIm.destroy()};var WheelBarrowTransporter=function(a,b,c){BasicGameObject.call(this,a,b,c);this.ownPhiGeneration=1;this.storageTo=this.storageFrom=null;this.resourceName="";this.currentlyTransportedVal=this.maxTransportCapacity=0;this.dxToBeginning=-250;this.dyToBeginning=-150;this.pathLength=Math.sqrt(this.dxToBeginning*this.dxToBeginning+this.dyToBeginning*this.dyToBeginning);this.deliveryPhase=0;this.connectedDrummer=null;this.param_Capacity=this.myWorld.ballanser.transportCapacityUpgrader.clone4Machine(this);
this.param_Capacity.valAt0=0;this.upgradedParams.push(this.param_Capacity);this.upgradePriceFunction=this.myWorld.ballanser.getTransportUpgradePrice};$jscomp.inherits(WheelBarrowTransporter,BasicGameObject);
WheelBarrowTransporter.prototype.initProperties=function(a){var b=BasicGameObject.prototype.initProperties.call(this,a);this.resourceName=a[b+0];this.dxToBeginning=a[b+1];this.dyToBeginning=a[b+2];this.pathLength=Math.sqrt(this.dxToBeginning*this.dxToBeginning+this.dyToBeginning*this.dyToBeginning);this.actualizeUpgradeParam();return b+3};WheelBarrowTransporter.prototype.getTransportCapacity=function(){return this.param_Capacity.getValue4Level(this.currentLevel)*this.myWorld.getMasterProdCoef()};
WheelBarrowTransporter.prototype.updateAdditionalParams=function(){var a=1;0<this.myWorld.countArtifactsOfCode("purch_wheelbarrow")&&(a=5);this.param_Capacity.masterCoef=a};WheelBarrowTransporter.prototype.getSpeedCoefFromDrummer=function(){return this.connectedDrummer?this.connectedDrummer.getSpeedInfluenceByDrum():1};WheelBarrowTransporter.prototype.getOwnPhiGeneration=function(){return this.ownPhiGeneration*this.getSpeedCoefFromDrummer()};
WheelBarrowTransporter.prototype.handleCurrentStateCompletion=function(){this.gatheredPhiInCurrentState>this.phi4FullCycle&&(this.gatheredPhiInCurrentState-=this.phi4FullCycle,this.handleCycleCompletion(1));var a=1+this.pathLength/100+this.pathLength/100;if(this.gatheredPhiInCurrentState>a){var b=Math.floor(this.gatheredPhiInCurrentState/a);this.gatheredPhiInCurrentState%=a;this.handleFullCyclesCompletion(b)}this.gatheredPhiInCurrentState>this.phi4FullCycle&&(BasicGameObject.prototype.handleCurrentStateCompletion.call(this),
this.handleCycleCompletion(1))};WheelBarrowTransporter.prototype.handleFullCyclesCompletion=function(a){a*=this.getTransportCapacity();a=Math.min(a,this.storageFrom.getResVal(this.resourceName));this.storageFrom.modValueBy(-a);this.totalProcessingsMade+=a;this.storageTo.modValueBy(a)};
WheelBarrowTransporter.prototype.handleCycleCompletion=function(a){var b=0,c=1;switch(this.deliveryPhase){case 0:0<this.getTransportCapacity()&&0<this.storageFrom.getResVal(this.resourceName)&&(b=1,c=this.pathLength/100);break;case 1:this.currentlyTransportedVal=b=Math.min(this.storageFrom.getResVal(this.resourceName),this.getTransportCapacity());this.storageFrom.modValueBy(-b);b=2;c=this.pathLength/100;break;case 2:this.storageTo.modValueBy(this.currentlyTransportedVal),this.totalProcessingsMade+=
this.currentlyTransportedVal,b=this.currentlyTransportedVal=0,c=1}this.deliveryPhase=b;this.phi4FullCycle=c;this.startVisualsOfPhase(this.deliveryPhase);return a};WheelBarrowTransporter.prototype.startVisualsOfPhase=function(a){switch(a){case 1:this.visual.startHumanMoveOut(this.phi4FullCycle);break;case 2:this.visual.startHumanBackMove(this.phi4FullCycle,this.currentlyTransportedVal)}};
WheelBarrowTransporter.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,a);a=this.gatheredPhiInCurrentState/this.phi4FullCycle;1<a&&(a=1);0>a&&(a=0);switch(this.deliveryPhase){case 1:this.visual.setAnimLambda(0,a);break;case 2:this.visual.setAnimLambda(1,a)}};
WheelBarrowTransporter.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new WheelBarrowTransporterVisual(this.scene,this.grp,this.x,this.y,this.resourceName);this.visual.setMoveDeltas(this.dxToBeginning,this.dyToBeginning);this.visual.upgBtnCoords.x=.5*this.dxToBeginning;this.visual.upgBtnCoords.y=40;"stone"==this.resourceName&&(this.visual.upgBtnCoords.x=this.dxToBeginning,this.visual.upgBtnCoords.y=this.dyToBeginning-200);this.visual.createUpgradeButton(this)};
WheelBarrowTransporter.prototype.registerIncomingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);BasicGoodsStorage.isPrototypeOf(a.obFrom.myClass)&&(this.storageFrom=a.obFrom);a.obFrom.myClass==DrummerOnBalcony&&(this.connectedDrummer=a.obFrom)};WheelBarrowTransporter.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);this.storageTo=a.obTo};
WheelBarrowTransporter.prototype.actualizeUpgradeParam=function(){"wood"==this.resourceName&&(this.param_Capacity=this.myWorld.ballanser.transportWoodCapacityUpgrader.clone4Machine(this),this.upgradedParams[0]=this.param_Capacity,this.upgradePriceFunction=this.myWorld.ballanser.getWoodTransportUpgradePrice)};
WheelBarrowTransporter.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);b=window.bottleScreen.utils.saveString2Ar(a,b,this.resourceName);a[b+0]=this.maxTransportCapacity;a[b+1]=this.currentlyTransportedVal;a[b+2]=this.dxToBeginning;a[b+3]=this.dyToBeginning;a[b+4]=this.deliveryPhase;return b+5};
WheelBarrowTransporter.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);b=window.bottleScreen.utils.loadStringFromAr(a,b);this.resourceName=b.str;b=b.id;this.maxTransportCapacity=a[b+0];this.currentlyTransportedVal=a[b+1];this.dxToBeginning=a[b+2];this.dyToBeginning=a[b+3];this.deliveryPhase=a[b+4];this.pathLength=Math.sqrt(this.dxToBeginning*this.dxToBeginning+this.dyToBeginning*this.dyToBeginning);this.actualizeUpgradeParam();return b+5};
var QuarryMine=function(a,b,c){BasicGameObject.call(this,a,b,c);this.ownPhiGeneration=0;this.connectedStorage=null;this.moneyFraction2ShowUpgradeButton=.01;this.timeBetweenProductions=.5;this.value2Produce=this.lastProductionMoment=0;this.param_tapMinePower=this.myWorld.ballanser.quarryTapUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_tapMinePower);this.upgradePriceFunction=this.myWorld.ballanser.getQuarryUpgradePrice;this.param_numAutoMiners=this.myWorld.ballanser.quarryNumMinersUpgrader.clone4Machine(this);
this.upgradedParams.push(this.param_numAutoMiners);this.createAutoClicker()};$jscomp.inherits(QuarryMine,BasicGameObject);QuarryMine.prototype.getOwnPhiGeneration=function(){return this.param_numAutoMiners.getValue4Level(this.currentLevel)*this.param_tapMinePower.getValue4Level(this.currentLevel)};QuarryMine.prototype.handleCurrentStateCompletion=function(){BasicGameObject.prototype.handleCurrentStateCompletion.call(this);this.handleCycleCompletion(this.numCyclesCompletedAfterLastCheck)};
QuarryMine.prototype.updateAdditionalParams=function(){var a=1;0<this.myWorld.countArtifactsOfCode("purch_pickaxe")&&(a=5);this.param_tapMinePower.masterCoef=a};QuarryMine.prototype.handleCycleCompletion=function(a){this.value2Produce+=a*this.myWorld.getMasterProdCoef();return a};
QuarryMine.prototype.calcStateAtGameMoment=function(a){BasicGameObject.prototype.calcStateAtGameMoment.call(this,a);1<=this.value2Produce&&(this.lastCalculatedGameMoment-this.lastProductionMoment>=this.timeBetweenProductions||this.lastCalculatedGameMoment<this.lastProductionMoment)&&(a=Math.floor(this.value2Produce),this.connectedStorage&&(this.connectedStorage.modValueBy(a),this.totalProcessingsMade+=a),this.visual.runAnimId(1,1,0),this.value2Produce-=a,this.lastProductionMoment=this.lastCalculatedGameMoment)};
QuarryMine.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new QuarryVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this);var a=this.param_numAutoMiners.getValue4Level(this.currentLevel);this.visual.createMiners(a)};QuarryMine.prototype.react2Down=function(a,b){BasicGameObject.prototype.react2Down.call(this,a,b)};
QuarryMine.prototype.clickEffect=function(){this.receivePhi(this.phi4FullCycle*this.param_tapMinePower.getValue4Level(this.currentLevel)*this.myWorld.getMasterTapCoef());this.visual.runAnimId(0,1,0);this.myWorld.hud.animTap();this.playSound("hammerHit",.2,!0)};QuarryMine.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==QuarryStorage&&(this.connectedStorage=a.obTo)};
QuarryMine.prototype.performUpgrade=function(a,b){var c=this.param_numAutoMiners.getValue4Level(this.currentLevel);BasicGameObject.prototype.performUpgrade.call(this,a,b);a=this.param_numAutoMiners.getValue4Level(this.currentLevel);a>c&&this.visual.createMiners(a-c)};QuarryMine.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.value2Produce;return b+1};
QuarryMine.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.value2Produce=a[b+0];return b+1};var BasicGoodsStorage=function(a,b,c){BasicGameObject.call(this,a,b,c);this.valInside=this.lastVisUpdatedMoment=this.ownPhiGeneration=0;this.goodsCode="tmpCode";this.tradePointDelta={x:0,y:0}};$jscomp.inherits(BasicGoodsStorage,BasicGameObject);
BasicGoodsStorage.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,a);.5<this.lastCalculatedGameMoment-this.lastVisUpdatedMoment&&(this.visual.showCurrentValue(this.valInside),this.lastVisUpdatedMoment=this.lastCalculatedGameMoment)};BasicGoodsStorage.prototype.getResVal=function(a){return this.valInside};BasicGoodsStorage.prototype.modValueBy=function(a){this.valInside+=a};BasicGoodsStorage.prototype.getMyResName=function(){return this.myWorld.getNameOfGoodsOfCode(this.goodsCode)};
BasicGoodsStorage.prototype.getMyResPrice=function(){var a=this.myWorld.goodsList.indexOf(this.goodsCode);return-1!=a?this.myWorld.pricesList[a]*this.myWorld.getMasterPriceCoef():0};BasicGoodsStorage.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.valInside;b++;b=window.bottleScreen.utils.saveString2Ar(a,b,this.goodsCode);return b+0};
BasicGoodsStorage.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.valInside=a[b+0];b++;a=window.bottleScreen.utils.loadStringFromAr(a,b);this.goodsCode=a.str;b=a.id;return b+0};var QuarryStorage=function(a,b,c){BasicGoodsStorage.call(this,a,b,c);this.draggedVal=0;this.goodsCode="stone";this.createAutoClicker();this.autoDragPhase=0;this.autoDragTarget=null;this.lastAutoDragTime=0;this.tradePointDelta.x=89;this.tradePointDelta.y=114};
$jscomp.inherits(QuarryStorage,BasicGoodsStorage);QuarryStorage.prototype.updateAdditionalParams=function(){if(!this.autoDragTarget){var a=this.findOutConnectedObject({cls:WheelBarrowTransporter});a&&(a=a.findOutConnectedObject({cls:BricksProducerTent}))&&(this.autoDragTarget=a,this.visual&&(this.visual.upMoveDx=this.autoDragTarget.x>this.x?1:-1))}};
QuarryStorage.prototype.clickEffect=function(){if(this.autoDragTarget){if(0==this.autoDragPhase){var a=Math.min(this.valInside,this.myWorld.getMasterTapCoef());0<a&&(this.draggedVal=a,this.valInside-=this.draggedVal,this.visual.showDraggedVal(),this.autoDragPhase=1)}else this.makeAutoTransfer(),this.autoDragPhase=0,this.playSound("oreLoad",.4,!0);this.myWorld.hud.animTap()}};
QuarryStorage.prototype.makeAutoTransfer=function(){this.autoDragTarget&&0<this.draggedVal&&(this.autoDragTarget.modValueBy(this.draggedVal),this.autoDragTarget.playReceivingAnimationFrom(this.x+this.visual.draggedStonePiece.x,this.y+this.visual.draggedStonePiece.y),this.totalProcessingsMade+=this.draggedVal,this.draggedVal=0,this.visual.dropDraggedVal(),this.lastAutoDragTime=this.lastCalculatedGameMoment)};
QuarryStorage.prototype.react2Up=function(a,b){BasicGoodsStorage.prototype.react2Up.call(this,a,b);this.lastCalculatedGameMoment<this.lastAutoDragTime+.4?0<this.draggedVal&&this.returnDraggedVal():this.makeAutoTransfer();this.autoDragPhase=0};QuarryStorage.prototype.react2Out=function(){BasicGoodsStorage.prototype.react2Out.call(this);this.lastCalculatedGameMoment<this.lastAutoDragTime+.4?0<this.draggedVal&&this.returnDraggedVal():this.makeAutoTransfer();this.autoDragPhase=0};
QuarryStorage.prototype.returnDraggedVal=function(){this.valInside+=this.draggedVal;this.draggedVal=0;this.visual.returnDraggedVal()};QuarryStorage.prototype.initVisuals=function(){BasicGoodsStorage.prototype.initVisuals.call(this);this.visual=new QuarryStorageVisual(this.scene,this.grp,this.x,this.y)};QuarryStorage.prototype.save2Ar=function(a,b){b=BasicGoodsStorage.prototype.save2Ar.call(this,a,b);a[b+0]=this.draggedVal;return b+1};
QuarryStorage.prototype.loadFromAr=function(a,b){b=BasicGoodsStorage.prototype.loadFromAr.call(this,a,b);this.draggedVal=a[b+0];this.valInside+=this.draggedVal;this.draggedVal=0;return b+1};var BricksStorage=function(a,b,c){BasicGoodsStorage.call(this,a,b,c);this.goodsCode="bricks";this.tradePointDelta.x=-28;this.tradePointDelta.y=20};$jscomp.inherits(BricksStorage,BasicGoodsStorage);
BricksStorage.prototype.initVisuals=function(){BasicGoodsStorage.prototype.initVisuals.call(this);this.visual=new BricksStorageVisual(this.scene,this.grp,this.x,this.y)};var PlanksStorage=function(a,b,c){BasicGoodsStorage.call(this,a,b,c);this.goodsCode="planks";this.tradePointDelta.x=31;this.tradePointDelta.y=20};$jscomp.inherits(PlanksStorage,BasicGoodsStorage);
PlanksStorage.prototype.initVisuals=function(){BasicGoodsStorage.prototype.initVisuals.call(this);this.visual=new PlanksStorageVisual(this.scene,this.grp,this.x,this.y)};var WoodStorage=function(a,b,c){BasicGoodsStorage.call(this,a,b,c);this.goodsCode="wood";this.draggedVal=0;this.createAutoClicker();this.autoDragPhase=0;this.autoDragTarget=null;this.lastAutoDragTime=0;this.tradePointDelta.x=31;this.tradePointDelta.y=89};$jscomp.inherits(WoodStorage,BasicGoodsStorage);
WoodStorage.prototype.updateAdditionalParams=function(){if(!this.autoDragTarget){var a=this.findOutConnectedObject({cls:WheelBarrowTransporter});a&&(a=a.findOutConnectedObject({cls:Lumbermill}))&&(this.autoDragTarget=a,this.visual&&(this.visual.upMoveDx=this.autoDragTarget.x>this.x?1:-1))}};
WoodStorage.prototype.clickEffect=function(){if(this.autoDragTarget){if(0==this.autoDragPhase){var a=Math.min(this.valInside,this.myWorld.getMasterTapCoef());0<a&&(this.draggedVal=a,this.valInside-=this.draggedVal,this.visual.showDraggedVal(),this.autoDragPhase=1)}else this.makeAutoTransfer(),this.autoDragPhase=0,this.playSound("knockWood",.4,!0);this.myWorld.hud.animTap()}};
WoodStorage.prototype.makeAutoTransfer=function(){this.autoDragTarget&&0<this.draggedVal&&(this.autoDragTarget.modValueBy(this.draggedVal),this.autoDragTarget.playReceivingAnimationFrom(this.x+this.visual.draggedStonePiece.x,this.y+this.visual.draggedStonePiece.y),this.totalProcessingsMade+=this.draggedVal,this.draggedVal=0,this.visual.dropDraggedVal(),this.lastAutoDragTime=this.lastCalculatedGameMoment)};
WoodStorage.prototype.initVisuals=function(){BasicGoodsStorage.prototype.initVisuals.call(this);this.visual=new WoodStorageVisual(this.scene,this.grp,this.x,this.y)};WoodStorage.prototype.react2Up=function(a,b){BasicGoodsStorage.prototype.react2Up.call(this,a,b);this.lastCalculatedGameMoment<this.lastAutoDragTime+.4?0<this.draggedVal&&this.returnDraggedVal():this.makeAutoTransfer();this.autoDragPhase=0};
WoodStorage.prototype.react2Out=function(){BasicGoodsStorage.prototype.react2Out.call(this);this.lastCalculatedGameMoment<this.lastAutoDragTime+.4?0<this.draggedVal&&this.returnDraggedVal():this.makeAutoTransfer();this.autoDragPhase=0};WoodStorage.prototype.returnDraggedVal=function(){this.valInside+=this.draggedVal;this.draggedVal=0;this.visual.returnDraggedVal()};WoodStorage.prototype.save2Ar=function(a,b){b=BasicGoodsStorage.prototype.save2Ar.call(this,a,b);a[b+0]=this.draggedVal;return b+1};
WoodStorage.prototype.loadFromAr=function(a,b){b=BasicGoodsStorage.prototype.loadFromAr.call(this,a,b);this.draggedVal=a[b+0];this.valInside+=this.draggedVal;this.draggedVal=0;return b+1};
var BricksProducerTent=function(a,b,c){BasicGameObject.call(this,a,b,c);this.outputOfStone=null;this.deliveryPhase=this.stoneValInProcessing=this.inputBuffer=0;this.ownPhiGeneration=this.phi4FullCycle=1;this.param_processingSpeed=this.myWorld.ballanser.sawSpeedUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_processingSpeed);this.param_processingValue=this.myWorld.ballanser.sawValueUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_processingValue);this.upgradePriceFunction=
this.myWorld.ballanser.getSawTentUpgradePrice;this.createAutoClicker()};$jscomp.inherits(BricksProducerTent,BasicGameObject);BricksProducerTent.prototype.getOwnPhiGeneration=function(){return this.param_processingSpeed.getValue4Level(this.currentLevel)};BricksProducerTent.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==BricksStorage&&(this.outputOfStone=a.obTo)};
BricksProducerTent.prototype.updateInterfaceOnVisual=function(){BasicGameObject.prototype.updateInterfaceOnVisual.call(this);this.visual.showStoneValue(this.inputBuffer)};
BricksProducerTent.prototype.handleCurrentStateCompletion=function(){this.gatheredPhiInCurrentState>this.phi4FullCycle&&(this.gatheredPhiInCurrentState-=this.phi4FullCycle,this.handleCycleCompletion(1));if(21<this.gatheredPhiInCurrentState){var a=Math.floor(this.gatheredPhiInCurrentState/21);this.gatheredPhiInCurrentState%=21;this.handleFullCyclesCompletion(a)}this.gatheredPhiInCurrentState>this.phi4FullCycle&&(BasicGameObject.prototype.handleCurrentStateCompletion.call(this),this.handleCycleCompletion(1))};
BricksProducerTent.prototype.getValueInOneProcessing=function(){return this.param_processingValue.getValue4Level(this.currentLevel)*this.myWorld.getMasterProdCoef()};BricksProducerTent.prototype.handleFullCyclesCompletion=function(a){a*=this.getValueInOneProcessing();a=Math.min(a,this.inputBuffer);this.inputBuffer-=a;this.totalProcessingsMade+=a;this.outputOfStone.modValueBy(a)};
BricksProducerTent.prototype.handleCycleCompletion=function(a){var b=0,c=1;switch(this.deliveryPhase){case 0:if(0<this.inputBuffer){b=1;c=20;var d=this.getValueInOneProcessing();d=Math.min(d,this.inputBuffer);this.inputBuffer-=d;this.stoneValInProcessing=d}else b=0,c=1;break;case 1:b=0,c=1,this.visual.showStoneProcessingCompletion(),this.totalProcessingsMade+=this.stoneValInProcessing,this.outputOfStone.modValueBy(this.stoneValInProcessing),this.stoneValInProcessing=0}this.deliveryPhase=b;this.phi4FullCycle=
c;this.startVisualsOfPhase(this.deliveryPhase);return a};BricksProducerTent.prototype.startVisualsOfPhase=function(a){switch(a){case 1:this.visual.startStoneProcessing(this.phi4FullCycle/this.ownPhiGeneration,this.inputBuffer)}};BricksProducerTent.prototype.playReceivingAnimationFrom=function(a,b){this.visual.playReceivingAnimationFrom(a,b)};
BricksProducerTent.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,a);1==this.deliveryPhase&&this.visual.updateStoneProcessingAnimationsAtLambda(Math.min(Math.max(this.gatheredPhiInCurrentState/this.phi4FullCycle,0),1))};BricksProducerTent.prototype.modValueBy=function(a){this.inputBuffer+=a;this.visual.showInputBufferVal(this.inputBuffer)};
BricksProducerTent.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new BricksProducerTentVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this);1==this.deliveryPhase&&this.visual.showProductionDebris(this.phi4FullCycle-this.gatheredPhiInCurrentState)};
BricksProducerTent.prototype.clickEffect=function(){1==this.deliveryPhase&&(this.receivePhi(.25*this.phi4FullCycle*this.myWorld.getMasterTapCoef()),this.playSound("saw",.2,!0));this.visual.runAnimId(3,1,0);this.myWorld.hud.animTap()};BricksProducerTent.prototype.react2Down=function(a,b){BasicGameObject.prototype.react2Down.call(this,a,b)};
BricksProducerTent.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.inputBuffer;a[b+1]=this.stoneValInProcessing;a[b+2]=this.deliveryPhase;return b+3};BricksProducerTent.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.inputBuffer=a[b+0];this.stoneValInProcessing=a[b+1];this.deliveryPhase=a[b+2];return b+3};
var MainBabelTower=function(a,b,c){BasicGameObject.call(this,a,b,c);this.phi4FullCycle=this.ownPhiGeneration=1;this.brickSupplyObject=null;this.numAttemtsWithEmptySupply=this.transportedBricks=this.bricksInCurrentStorey=this.deliveryPhase=this.numStoriesBuilt=0;this.lookingBricks4Myself=!0;this.timeSinceLastWindowOpening=0;this.timeBetweenWindowOpens=this.myWorld.ballanser.timeBetweenWindowOpensInTower;this.neededResourceId=0;this.connectedCrane=null};$jscomp.inherits(MainBabelTower,BasicGameObject);
MainBabelTower.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new MainBabelTowerVisual(this.scene,this.grp,this.x,this.y);for(var a=0;a<this.numStoriesBuilt;a++)this.visual.fixNewStorageBuildCompletion(a);for(a=0;a<this.bricksInCurrentStorey;a++)this.visual.addBricks(1)};MainBabelTower.prototype.handleCurrentStateCompletion=function(){BasicGameObject.prototype.handleCurrentStateCompletion.call(this);this.handleCycleCompletion(this.numCyclesCompletedAfterLastCheck)};
MainBabelTower.prototype.handleCycleCompletion=function(a){var b=0,c=1;switch(this.deliveryPhase){case 0:var d=this.getCoefOfBricksConversion();0==this.numStoriesBuilt?this.lookingBricks4Myself=!0:this.connectedCrane&&(this.lookingBricks4Myself=this.connectedCrane.numStoriesBuilt>=3*this.numStoriesBuilt);this.brickSupplyObject.valInside>=1*d&&(0==this.numStoriesBuilt?(b=1,c=2):null!=this.connectedCrane&&this.connectedCrane.numStoriesBuilt>=3*this.numStoriesBuilt&&(b=1,c=2));break;case 1:d=this.getCoefOfBricksConversion(this.neededResourceId);
this.brickSupplyObject.valInside>=1*d?(this.transportedBricks=1,c=b=2,this.brickSupplyObject.modValueBy(-1*d)):(c=b=2,this.transportedBricks=0);break;case 2:if(0==this.numStoriesBuilt){b=window.bottleScreen.config.completeStoreyQuickly?48:1;for(c=0;c<b;c++)this.addBricks(this.transportedBricks),this.myWorld.countArtifactsOfCode("purch_trowel")&&this.addBricks(this.transportedBricks);b=0;c=1;this.transportedBricks=0}else 0<this.transportedBricks&&(b=3,c=2*this.numStoriesBuilt*Math.sqrt(this.getCoefOfBricksConversion()));
break;case 3:b=window.bottleScreen.config.completeStoreyQuickly?48:1;for(c=0;c<b;c++)this.addBricks(this.transportedBricks);this.myWorld.countArtifactsOfCode("purch_trowel")&&this.addBricks(this.transportedBricks);b=0;c=1;this.transportedBricks=0}this.deliveryPhase=b;this.phi4FullCycle=c;this.startVisualsOfPhase(this.deliveryPhase);return a};
MainBabelTower.prototype.receiveUpBrick=function(a){if(0<a){a=window.bottleScreen.config.completeStoreyQuickly?48:1;for(var b=0;b<a;b++)this.addBricks(this.transportedBricks);this.myWorld.countArtifactsOfCode("purch_trowel")&&this.addBricks(this.transportedBricks);this.transportedBricks=0}this.deliveryPhase=0;this.phi4FullCycle=1;this.startVisualsOfPhase(this.deliveryPhase)};
MainBabelTower.prototype.calcStateAtGameMoment=function(a){BasicGameObject.prototype.calcStateAtGameMoment.call(this,a);this.timeSinceLastWindowOpening+=this.timePassedSinceLastCheck;this.timeSinceLastWindowOpening>=this.timeBetweenWindowOpens&&(this.visual.showOpenedWindow(this.myWorld.getMasterTimeCoef(),this.myWorld.ballanser.timeOfShowingWindow),this.timeSinceLastWindowOpening=0)};
MainBabelTower.prototype.startVisualsOfPhase=function(a){switch(a){case 1:this.visual.startHumanMove(this.phi4FullCycle);this.connectedCrane&&this.connectedCrane.visual.startElevatorMoveDown(this.phi4FullCycle);break;case 2:this.visual.startHumanBackMove(this.phi4FullCycle,this.transportedBricks);break;case 3:this.connectedCrane&&this.connectedCrane.startPhaseImmediately(this,3,this.phi4FullCycle)}0==a&&this.lookingBricks4Myself?(this.numAttemtsWithEmptySupply++,30==this.numAttemtsWithEmptySupply&&
this.visual.startManifestation(window.bottleScreen.utils.showNumberAsText(this.getCoefOfBricksConversion())+" TXID_GOODS_BRICKS")):30<=this.numAttemtsWithEmptySupply&&(this.visual.stopManifestation(),this.numAttemtsWithEmptySupply=0)};
MainBabelTower.prototype.completeCurrentStoreyBuilding=function(){this.visual.fixNewStorageBuildCompletion(this.numStoriesBuilt);this.numStoriesBuilt++;this.bricksInCurrentStorey=0;this.myWorld.react2TowerStoreyCompletion(this);window.bottleScreen.statsWrapper.sendEvent("floor_built",""+this.numStoriesBuilt,1)};MainBabelTower.prototype.getStoreyFloorY=function(a){return this.visual.getStoreyFloorY(a)};
MainBabelTower.prototype.registerIncomingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);a.obFrom.myClass==BricksStorage&&(this.brickSupplyObject=a.obFrom);a.obFrom.myClass==Crane&&(this.connectedCrane=a.obFrom)};MainBabelTower.prototype.addBricks=function(a){if(0<a){var b=this.getNumBrick2CompleteStorey();this.visual.addBricks(a);this.bricksInCurrentStorey+=a;b<=a&&this.completeCurrentStoreyBuilding()}};
MainBabelTower.prototype.getNumBrick2CompleteStorey=function(){return this.visual.getNumBrick2CompleteStorey()};MainBabelTower.prototype.getCoefOfBricksConversion=function(){return this.myWorld.ballanser.getCoefOfTowerBricksCnversion(this)};
MainBabelTower.prototype.react2Down=function(a,b){BasicGameObject.prototype.react2Down.call(this,a,b);if(this.visual.hasTappedOnSecretGold(a,b)){var c=this.myWorld.ballanser.calcReward4TapOnGoldInTower(this);this.visual.showGoldGrab(a,b);this.myWorld.receiveResource("money",c);this.myWorld.myEftController.showEffect(a,b,EffectMoney,{txt:window.bottleScreen.utils.showNumberAsText(c)});this.playSound("coinDrop",0,!0)}};
MainBabelTower.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.numStoriesBuilt;a[b+1]=this.deliveryPhase;a[b+2]=this.bricksInCurrentStorey;a[b+3]=this.transportedBricks;return b+4};MainBabelTower.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.numStoriesBuilt=a[b+0];this.deliveryPhase=a[b+1];this.bricksInCurrentStorey=a[b+2];this.transportedBricks=a[b+3];return b+4};
var Crane=function(a,b,c){BasicGameObject.call(this,a,b,c);this.phi4FullCycle=this.ownPhiGeneration=1;this.brickSupplyObject=null;this.numAttemtsWithEmptySupply=this.transportedBricks=this.bricksInCurrentStorey=this.deliveryPhase=this.numStoriesBuilt=0;this.callerOfWork=this.connectedTower=null;this.isWorking4Tower=!1;this.createAutoClicker()};$jscomp.inherits(Crane,BasicGameObject);
Crane.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new CraneVisual(this.scene,this.grp,this.x,this.y);for(var a=0;a<this.numStoriesBuilt;a++)this.visual.fixNewStorageBuildCompletion(a);for(a=0;a<this.bricksInCurrentStorey;a++)this.visual.addBricks(1);3==this.deliveryPhase&&(this.isWorking4Tower?this.visual.startElevatorMove(this.phi4FullCycle,1,"brick"):this.visual.startElevatorMove(this.phi4FullCycle,1,"desk"))};
Crane.prototype.handleCurrentStateCompletion=function(){BasicGameObject.prototype.handleCurrentStateCompletion.call(this);this.handleCycleCompletion(this.numCyclesCompletedAfterLastCheck)};
Crane.prototype.handleCycleCompletion=function(a){var b=0,c=1;switch(this.deliveryPhase){case 0:if(this.numStoriesBuilt<3*this.connectedTower.numStoriesBuilt){var d=this.getCoefOfBricksConversion();this.brickSupplyObject.valInside>=1*d&&(b=1,c=2)}break;case 1:d=this.getCoefOfBricksConversion();this.brickSupplyObject.valInside>=1*d?(this.transportedBricks=1,c=b=2,this.brickSupplyObject.modValueBy(-1*d)):(c=b=2,this.transportedBricks=0);break;case 2:if(0==this.numStoriesBuilt){b=window.bottleScreen.config.completeStoreyQuickly?
5:1;for(c=0;c<b;c++)this.addBricks(this.transportedBricks);this.myWorld.countArtifactsOfCode("purch_trowel")&&this.addBricks(this.transportedBricks);b=0;c=1;this.transportedBricks=0}else 0<this.transportedBricks?(b=3,c=.33*this.numStoriesBuilt*Math.sqrt(this.getCoefOfBricksConversion())):(b=0,c=1);break;case 3:if(this.visual.stopMovingUpAnimation(),this.isWorking4Tower)this.connectedTower.receiveUpBrick(this.transportedBricks),this.transportedBricks=0,this.isWorking4Tower=!1,b=0,c=1;else{b=window.bottleScreen.config.completeStoreyQuickly?
5:1;for(c=0;c<b;c++)this.addBricks(this.transportedBricks);this.myWorld.countArtifactsOfCode("purch_trowel")&&this.addBricks(this.transportedBricks);b=0;c=1;this.transportedBricks=0}}this.deliveryPhase=b;this.phi4FullCycle=c;this.startVisualsOfPhase(this.deliveryPhase);return a};Crane.prototype.startPhaseImmediately=function(a,b,c){this.callerOfWork=a;this.isWorking4Tower=!0;this.transportedBricks=1;this.deliveryPhase=b;this.phi4FullCycle=c;this.visual.startElevatorMove(this.phi4FullCycle,1,"brick")};
Crane.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,a);3==this.deliveryPhase&&this.visual.updateElevatorAnimationsAtLambda(Math.min(Math.max(this.gatheredPhiInCurrentState/this.phi4FullCycle,0),1),.1)};
Crane.prototype.startVisualsOfPhase=function(a,b){switch(a){case 1:this.visual.startHumanMove(this.phi4FullCycle);0<this.numStoriesBuilt&&this.visual.startElevatorMoveDown(this.phi4FullCycle);break;case 2:this.visual.startHumanBackMove(this.phi4FullCycle,this.transportedBricks);break;case 3:this.visual.startElevatorMove(this.phi4FullCycle,this.transportedBricks,"desk")}0!=a||this.connectedTower.lookingBricks4Myself?5<=this.numAttemtsWithEmptySupply&&(this.visual.stopManifestation(),this.numAttemtsWithEmptySupply=
0):(this.numAttemtsWithEmptySupply++,5==this.numAttemtsWithEmptySupply&&this.visual.startManifestation(window.bottleScreen.utils.showNumberAsText(this.getCoefOfBricksConversion())+" TXID_GOODS_PLANKS"))};
Crane.prototype.completeCurrentStoreyBuilding=function(){this.visual.fixNewStorageBuildCompletion(this.numStoriesBuilt);this.numStoriesBuilt++;this.bricksInCurrentStorey=0;this.myWorld.react2CraneStoreyCompletion(this);window.bottleScreen.statsWrapper.sendEvent("crane_built",""+this.numStoriesBuilt,1)};Crane.prototype.registerIncomingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);a.obFrom.myClass==PlanksStorage&&(this.brickSupplyObject=a.obFrom)};
Crane.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);a.obTo.myClass==MainBabelTower&&(this.connectedTower=a.obTo)};Crane.prototype.addBricks=function(a){if(0<a){var b=this.getNumBrick2CompleteStorey();this.visual.addBricks(a);this.bricksInCurrentStorey+=a;b<=a&&this.completeCurrentStoreyBuilding()}};Crane.prototype.getNumBrick2CompleteStorey=function(){return this.visual.getNumBrick2CompleteStorey()};
Crane.prototype.getCoefOfBricksConversion=function(){return this.myWorld.ballanser.getCoefOfCranePlanksConversion(this)};Crane.prototype.clickEffect=function(){this.visual.startWave();3==this.deliveryPhase&&(this.receivePhi(10*this.myWorld.getMasterTapCoef()),this.myWorld.hud.animTap(),this.playSound("windmillMechanism",.6,!1))};Crane.prototype.react2Down=function(a,b){BasicGameObject.prototype.react2Down.call(this,a,b)};
Crane.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.numStoriesBuilt;a[b+1]=this.deliveryPhase;a[b+2]=this.bricksInCurrentStorey;a[b+3]=this.transportedBricks;a[b+4]=this.isWorking4Tower?1:0;return b+5};
Crane.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.numStoriesBuilt=a[b+0];this.deliveryPhase=a[b+1];this.bricksInCurrentStorey=a[b+2];this.transportedBricks=a[b+3];this.isWorking4Tower=1==a[b+4];return b+5};
var WaterWell=function(a,b,c){BasicGameObject.call(this,a,b,c);this.waterSpent=this.draggedVal=this.ownPhiGeneration=0;this.waterInside=this.maxWaterInside=this.myWorld.ballanser.wellMaxWater;this.autoGrowthSpeed=this.myWorld.ballanser.waterGrowthSpeed;this.waterPurchCoef=1};$jscomp.inherits(WaterWell,BasicGameObject);WaterWell.prototype.updateAdditionalParams=function(){var a=1;0<this.myWorld.countArtifactsOfCode("purch_bucket")&&(a=5);this.waterPurchCoef=a};
WaterWell.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new WaterWellVisual(this.scene,this.grp,this.x,this.y)};WaterWell.prototype.react2Down=function(a,b){this.startDraggingVal(Math.min(3*this.myWorld.getMasterTapCoef(),this.waterInside))};
WaterWell.prototype.react2Up=function(a,b){0<this.draggedVal&&((a=this.myWorld.findObjectUnderPointer(a,b,[Forest]))?a.myClass==Forest?(a.receiveWater(this.draggedVal),a.showMisleadTreeGrowth(),this.dropDraggedVal(),this.playSound("waterFlush",.2,!0)):this.returnDraggedVal():this.returnDraggedVal())};WaterWell.prototype.react2Out=function(){this.returnDraggedVal()};WaterWell.prototype.react2Move=function(a,b){return 0<this.draggedVal?(this.visual.showValDragging(a,b),!0):!1};
WaterWell.prototype.startDraggingVal=function(a){0<a&&(this.draggedVal=a,this.visual.showDraggedVal())};WaterWell.prototype.returnDraggedVal=function(){this.draggedVal=0;this.visual.returnDraggedVal()};WaterWell.prototype.dropDraggedVal=function(){this.waterSpent+=this.draggedVal;this.draggedVal=0;this.visual.dropDraggedVal()};WaterWell.prototype.calcStateAtGameMoment=function(a){BasicGameObject.prototype.calcStateAtGameMoment.call(this,a);this.receiveWater(this.getAutoGrowth()*this.timePassedSinceLastCheck)};
WaterWell.prototype.receiveWater=function(a){0<a&&(a*=this.waterPurchCoef);this.waterInside+=a;this.waterInside>=this.maxWaterInside&&(this.waterInside=this.maxWaterInside);0>this.waterInside&&(this.waterInside=0)};WaterWell.prototype.receiveWaterFromDrillWithOverflow=function(a){this.waterInside+=a;this.waterInside>this.maxWaterInside&&(this.maxWaterInside=this.waterInside)};WaterWell.prototype.getAutoGrowth=function(){return this.autoGrowthSpeed*this.myWorld.getMasterProdCoef()};
WaterWell.prototype.updateInterfaceOnVisual=function(){BasicGameObject.prototype.updateInterfaceOnVisual.call(this);this.visual.showWaterLevel(this.waterInside,this.maxWaterInside)};WaterWell.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.waterSpent;a[b+1]=this.waterInside;a[b+2]=this.maxWaterInside;a[b+3]=this.draggedVal;return b+4};
WaterWell.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.waterSpent=a[b+0];this.waterInside=a[b+1];this.maxWaterInside=a[b+2];this.draggedVal=a[b+3];this.waterInside+=this.draggedVal;this.draggedVal=0;return b+4};
var Forest=function(a,b,c){BasicGameObject.call(this,a,b,c);this.ownPhiGeneration=0;this.connectedStorage=null;this.woodInside=this.maxWoodInside=this.myWorld.ballanser.forestMaxWood;this.autoGrowthSpeed=this.myWorld.ballanser.forestGrowthSpeed;this.timeBetweenProductions=.5;this.value2Produce=this.lastProductionMoment=0;this.param_tapChopPower=this.myWorld.ballanser.forestTapUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_tapChopPower);this.upgradePriceFunction=this.myWorld.ballanser.getForestUpgradePrice;
this.param_numAutoChoppers=this.myWorld.ballanser.forestNumChoppersUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_numAutoChoppers);this.createAutoClicker();this.forestPurchCoef=this.waterPurchCoef=1};$jscomp.inherits(Forest,BasicGameObject);Forest.prototype.updateAdditionalParams=function(){var a=1;0<this.myWorld.countArtifactsOfCode("purch_bucket")&&(a=5);this.waterPurchCoef=a;a=1;0<this.myWorld.countArtifactsOfCode("purch_tree")&&(a=5);this.forestPurchCoef=a};
Forest.prototype.getAutoGrowth=function(){return this.autoGrowthSpeed*this.myWorld.getMasterProdCoef()};Forest.prototype.getOwnPhiGeneration=function(){return this.param_numAutoChoppers.getValue4Level(this.currentLevel)*this.param_tapChopPower.getValue4Level(this.currentLevel)};
Forest.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new ForestVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this);var a=this.param_numAutoChoppers.getValue4Level(this.currentLevel);this.visual.createMiners(a)};Forest.prototype.handleCurrentStateCompletion=function(){BasicGameObject.prototype.handleCurrentStateCompletion.call(this);this.handleCycleCompletion(this.numCyclesCompletedAfterLastCheck)};
Forest.prototype.handleCycleCompletion=function(a){var b=Math.min(a*this.myWorld.getMasterProdCoef(),this.woodInside);this.woodInside-=b;this.value2Produce+=b;return a};Forest.prototype.receiveWater=function(a){0<a&&(a*=this.waterPurchCoef);this.addWood(a)};Forest.prototype.getNeededWater=function(){return(this.maxWoodInside-this.woodInside)/(this.waterPurchCoef*this.forestPurchCoef)};
Forest.prototype.calcStateAtGameMoment=function(a){BasicGameObject.prototype.calcStateAtGameMoment.call(this,a);1<=this.value2Produce&&(this.lastCalculatedGameMoment-this.lastProductionMoment>=this.timeBetweenProductions||this.lastCalculatedGameMoment<this.lastProductionMoment)&&(a=Math.floor(this.value2Produce),this.connectedStorage&&(this.connectedStorage.modValueBy(a),this.totalProcessingsMade+=a),this.visual.runAnimId(1,1,0),this.value2Produce-=a,this.lastProductionMoment=this.lastCalculatedGameMoment);
this.addWood(this.getAutoGrowth()*this.timePassedSinceLastCheck)};Forest.prototype.addWood=function(a){0<a&&(a*=this.forestPurchCoef);this.woodInside+=a;this.woodInside>=this.maxWoodInside&&(this.woodInside=this.maxWoodInside)};Forest.prototype.incMaxTrees=function(a){this.maxWoodInside+=a*this.forestPurchCoef};
Forest.prototype.clickEffect=function(){this.receivePhi(this.phi4FullCycle*this.param_tapChopPower.getValue4Level(this.currentLevel)*this.myWorld.getMasterTapCoef());this.visual.runAnimId(0,1,0);this.myWorld.hud.animTap();this.playSound("chopSound",.2,!0)};Forest.prototype.react2Down=function(a,b){BasicGameObject.prototype.react2Down.call(this,a,b)};
Forest.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==WoodStorage&&(this.connectedStorage=a.obTo)};Forest.prototype.performUpgrade=function(a,b){var c=this.param_numAutoChoppers.getValue4Level(this.currentLevel);BasicGameObject.prototype.performUpgrade.call(this,a,b);a=this.param_numAutoChoppers.getValue4Level(this.currentLevel);a>c&&this.visual.createMiners(a-c)};
Forest.prototype.updateInterfaceOnVisual=function(){BasicGameObject.prototype.updateInterfaceOnVisual.call(this);this.visual.showWoodValue(this.woodInside,this.maxWoodInside)};Forest.prototype.showMisleadTreeGrowth=function(){this.visual.showMisleadTreeGrowth(this.lastCalculatedGameMoment)};Forest.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.value2Produce;a[b+1]=this.maxWoodInside;a[b+2]=this.woodInside;a[b+3]=this.autoGrowthSpeed;return b+4};
Forest.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.value2Produce=a[b+0];this.maxWoodInside=a[b+1];this.woodInside=a[b+2];this.autoGrowthSpeed=a[b+3];return b+4};
var Lumbermill=function(a,b,c){BasicGameObject.call(this,a,b,c);this.outputOfStone=null;this.deliveryPhase=this.stoneValInProcessing=this.inputBuffer=0;this.ownPhiGeneration=this.phi4FullCycle=1;this.param_processingSpeed=this.myWorld.ballanser.lumbermillSpeedUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_processingSpeed);this.param_processingValue=this.myWorld.ballanser.lumbermillValueUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_processingValue);this.upgradePriceFunction=
this.myWorld.ballanser.getLumbermillUpgradePrice;this.createAutoClicker()};$jscomp.inherits(Lumbermill,BasicGameObject);Lumbermill.prototype.getOwnPhiGeneration=function(){return this.param_processingSpeed.getValue4Level(this.currentLevel)};Lumbermill.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==PlanksStorage&&(this.outputOfStone=a.obTo)};
Lumbermill.prototype.updateInterfaceOnVisual=function(){BasicGameObject.prototype.updateInterfaceOnVisual.call(this);this.visual.showStoneValue(this.inputBuffer)};
Lumbermill.prototype.handleCurrentStateCompletion=function(){this.gatheredPhiInCurrentState>this.phi4FullCycle&&(this.gatheredPhiInCurrentState-=this.phi4FullCycle,this.handleCycleCompletion(1));if(41<this.gatheredPhiInCurrentState){var a=Math.floor(this.gatheredPhiInCurrentState/41);this.gatheredPhiInCurrentState%=41;this.handleFullCyclesCompletion(a)}this.gatheredPhiInCurrentState>this.phi4FullCycle&&(BasicGameObject.prototype.handleCurrentStateCompletion.call(this),this.handleCycleCompletion(1))};
Lumbermill.prototype.getValueInOneProcessing=function(){return this.param_processingValue.getValue4Level(this.currentLevel)*this.myWorld.getMasterProdCoef()};Lumbermill.prototype.handleFullCyclesCompletion=function(a){a*=this.getValueInOneProcessing();a=Math.min(a,this.inputBuffer);this.inputBuffer-=a;this.totalProcessingsMade+=a;this.outputOfStone.modValueBy(a)};
Lumbermill.prototype.handleCycleCompletion=function(a){var b=0,c=1;switch(this.deliveryPhase){case 0:if(0<this.inputBuffer){b=1;c=40;var d=this.getValueInOneProcessing();d=Math.min(d,this.inputBuffer);this.inputBuffer-=d;this.stoneValInProcessing=d}else b=0,c=1;break;case 1:b=0,c=1,this.visual.showStoneProcessingCompletion(),this.totalProcessingsMade+=this.stoneValInProcessing,this.outputOfStone.modValueBy(this.stoneValInProcessing),this.stoneValInProcessing=0}this.deliveryPhase=b;this.phi4FullCycle=
c;this.startVisualsOfPhase(this.deliveryPhase);return a};Lumbermill.prototype.startVisualsOfPhase=function(a){switch(a){case 1:this.visual.startStoneProcessing(this.phi4FullCycle/this.ownPhiGeneration,this.inputBuffer)}};Lumbermill.prototype.playReceivingAnimationFrom=function(a,b){this.visual.playReceivingAnimationFrom(a,b)};
Lumbermill.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,a);1==this.deliveryPhase&&this.visual.updateStoneProcessingAnimationsAtLambda(Math.min(Math.max(this.gatheredPhiInCurrentState/this.phi4FullCycle,0),1))};Lumbermill.prototype.modValueBy=function(a){this.inputBuffer+=a;this.visual.showInputBufferVal(this.inputBuffer)};
Lumbermill.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new LumbermillVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this);1==this.deliveryPhase&&this.visual.showProductionDebris(this.phi4FullCycle-this.gatheredPhiInCurrentState)};
Lumbermill.prototype.clickEffect=function(){1==this.deliveryPhase&&(this.receivePhi(.25*this.phi4FullCycle*this.myWorld.getMasterTapCoef()),this.playSound("woodSaw",.2,!0));this.visual.runAnimId(3,1,0);this.myWorld.hud.animTap()};Lumbermill.prototype.react2Down=function(a,b){BasicGameObject.prototype.react2Down.call(this,a,b)};
Lumbermill.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.inputBuffer;a[b+1]=this.stoneValInProcessing;a[b+2]=this.deliveryPhase;return b+3};Lumbermill.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.inputBuffer=a[b+0];this.stoneValInProcessing=a[b+1];this.deliveryPhase=a[b+2];return b+3};
var WaterPump=function(a,b,c){BasicGameObject.call(this,a,b,c);this.ownPhiGeneration=1;this.phi4FullCycle=2;this.connectedWaterAcceptor=this.connectedWaterSource=null;this.param_Power=this.myWorld.ballanser.waterPumpPowerUpgrader.clone4Machine(this);this.param_Power.valAt0=1;this.upgradedParams.push(this.param_Power);this.upgradePriceFunction=this.myWorld.ballanser.getPumpPowerUpgradePrice;this.createAutoClicker()};$jscomp.inherits(WaterPump,BasicGameObject);
WaterPump.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new WaterPumpVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this)};WaterPump.prototype.handleCurrentStateCompletion=function(){BasicGameObject.prototype.handleCurrentStateCompletion.call(this);this.handleCycleCompletion(this.numCyclesCompletedAfterLastCheck)};
WaterPump.prototype.handleCycleCompletion=function(a){if(this.connectedWaterAcceptor){var b=a*this.param_Power.getValue4Level(this.currentLevel)*this.myWorld.getMasterProdCoef();b=Math.min(b,this.connectedWaterSource.waterInside);b=Math.min(b,this.connectedWaterAcceptor.getNeededWater());this.connectedWaterAcceptor.receiveWater(b);this.connectedWaterSource.receiveWater(-b)}return a};
WaterPump.prototype.clickEffect=function(){this.receivePhi(this.phi4FullCycle*this.myWorld.getMasterTapCoef());this.visual.runAnimId(8,1,0);this.visual.runAnimId(9,1,0);this.visual.runAnimId(10,1,0);this.myWorld.hud.animTap();this.playSound("hoseWater",.2,!0)};WaterPump.prototype.react2Down=function(a,b){BasicGameObject.prototype.react2Down.call(this,a,b)};
WaterPump.prototype.registerIncomingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);a.obFrom.myClass==WaterWell&&(this.connectedWaterSource=a.obFrom)};WaterPump.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);a.obTo.myClass==Forest&&(this.connectedWaterAcceptor=a.obTo)};
var DrummerOnBalcony=function(a,b,c){BasicGameObject.call(this,a,b,c);this.ownPhiGeneration=1;this.phi4FullCycle=999999999;this.param_SpeedInc=this.myWorld.ballanser.drumPowerUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_SpeedInc);this.upgradePriceFunction=this.myWorld.ballanser.getDrumUpgradePrice;this.boostingPower=this.lastClickMoment=0;this.createAutoClicker()};$jscomp.inherits(DrummerOnBalcony,BasicGameObject);
DrummerOnBalcony.prototype.getSpeedInfluenceByDrum=function(){return 1+this.param_SpeedInc.getValue4Level(this.currentLevel)*(1+this.boostingPower)};DrummerOnBalcony.prototype.calcStateAtGameMoment=function(a){BasicGameObject.prototype.calcStateAtGameMoment.call(this,a);0<this.boostingPower&&1<this.lastCalculatedGameMoment-this.lastClickMoment&&(this.boostingPower=0)};DrummerOnBalcony.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,this.phiAddedSinceLastCheck4Anim)};
DrummerOnBalcony.prototype.getOwnPhiGeneration=function(){return this.ownPhiGeneration*(1+Math.log(this.boostingPower+1))};DrummerOnBalcony.prototype.clickEffect=function(){this.boostingPower=this.myWorld.getMasterTapCoef();this.lastClickMoment=this.lastCalculatedGameMoment;this.myWorld.hud.animTap();this.playSound("drum",.2,!0)};
DrummerOnBalcony.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new DrummerOnBalconyVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this)};DrummerOnBalcony.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.boostingPower;return b+1};DrummerOnBalcony.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.boostingPower=a[b+0];return b+1};
var SmokeMachine=function(a,b,c){BasicGameObject.call(this,a,b,c);this.phi4FullCycle=this.ownPhiGeneration=1;this.param_Power=this.myWorld.ballanser.smokePowerUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_Power);this.upgradePriceFunction=this.myWorld.ballanser.getSmokePowerUpgradePrice;this.coefFromTap=1;this.lastTapTime=0;this.connectedCloud=null;this.createAutoClicker()};$jscomp.inherits(SmokeMachine,BasicGameObject);
SmokeMachine.prototype.onJustCreated=function(){var a=this.myWorld.createObject(RainCloud,[this.x+563,this.y-300]);this.myWorld.createObject(SimpleConnection,[this.arId,a.arId,1,-1,-1])};SmokeMachine.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new SmokeMachineVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this)};
SmokeMachine.prototype.handleCurrentStateCompletion=function(){BasicGameObject.prototype.handleCurrentStateCompletion.call(this);this.handleCycleCompletion(this.numCyclesCompletedAfterLastCheck)};SmokeMachine.prototype.handleCycleCompletion=function(a){this.connectedCloud&&this.connectedCloud.receiveWater(a*this.param_Power.getValue4Level(this.currentLevel)*this.myWorld.getMasterProdCoef())};
SmokeMachine.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==RainCloud&&(this.connectedCloud=a.obTo)};SmokeMachine.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,.02*this.coefFromTap)};
SmokeMachine.prototype.calcStateAtGameMoment=function(a){BasicGameObject.prototype.calcStateAtGameMoment.call(this,a);1<this.coefFromTap&&.5<this.lastCalculatedGameMoment-this.lastTapTime&&(this.coefFromTap=1)};SmokeMachine.prototype.clickEffect=function(){this.receivePhi(.25*this.phi4FullCycle*this.myWorld.getMasterTapCoef());this.myWorld.hud.animTap();this.coefFromTap=1+this.myWorld.getMasterTapCoef();this.lastTapTime=this.lastCalculatedGameMoment;this.playSound("pumpSound",.2,!0)};
var RainCloud=function(a,b,c){BasicGameObject.call(this,a,b,c);this.ownPhiGeneration=0;this.phi4FullCycle=1;this.growthPercentage=this.deliveryPhase=this.waterInside=0;this.maxWaterInside=1E3;this.waterOutgoingSpeed=100;this.createAutoClicker()};$jscomp.inherits(RainCloud,BasicGameObject);
RainCloud.prototype.onJustCreated=function(){for(var a=0;a<this.myWorld.objects.length;a++)this.myWorld.objects[a].myClass!=Forest&&this.myWorld.objects[a].myClass!=WaterWell||this.myWorld.createObject(SimpleConnection,[this.arId,this.myWorld.objects[a].arId,1,-1,-1])};RainCloud.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new RainCloudVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this);1==this.deliveryPhase&&this.visual.startRaining()};
RainCloud.prototype.updateInterfaceOnVisual=function(){BasicGameObject.prototype.updateInterfaceOnVisual.call(this);this.visual.showWaterValueInCloud(this.waterInside,this.maxWaterInside)};
RainCloud.prototype.receiveWater=function(a){this.waterInside+=a;this.waterInside>=this.maxWaterInside&&(this.waterInside=this.maxWaterInside,0==this.deliveryPhase&&(this.deliveryPhase=1,this.visual.startRaining()));0>=this.waterInside&&(this.waterInside=0,1==this.deliveryPhase&&(this.deliveryPhase=0,this.maxWaterInside+=100,this.waterOutgoingSpeed=100,this.visual.stopRaining()))};
RainCloud.prototype.calcStateAtGameMoment=function(a){BasicGameObject.prototype.calcStateAtGameMoment.call(this,a);if(1==this.deliveryPhase){a=this.waterOutgoingSpeed*this.timePassedSinceLastCheck;a>this.waterInside&&(a=this.waterInside);this.waterOutgoingSpeed+=this.timePassedSinceLastCheck;var b=this.outgoingConnections.length;if(0<b){b=a/b;for(var c=0;c<this.outgoingConnections.length;c++){var d=this.outgoingConnections[c].obTo;d.myClass==Forest&&d.incMaxTrees(b/10);d.receiveWater(b)}}this.receiveWater(-a)}};
RainCloud.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.waterInside;a[b+1]=this.deliveryPhase;a[b+2]=this.growthPercentage;a[b+3]=this.maxWaterInside;a[b+4]=this.waterOutgoingSpeed;return b+5};RainCloud.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.waterInside=a[b+0];this.deliveryPhase=a[b+1];this.growthPercentage=a[b+2];this.maxWaterInside=a[b+3];this.waterOutgoingSpeed=a[b+4];return b+5};
var Berth4FlyingMachine=function(a,b,c){BasicGameObject.call(this,a,b,c);this.ownPhiGeneration=0;this.phi4FullCycle=1;this.param_moneyValue=this.myWorld.ballanser.berthMoneyUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_moneyValue);this.upgradePriceFunction=this.myWorld.ballanser.getBerthUpgradePrice;this.createAutoClicker()};$jscomp.inherits(Berth4FlyingMachine,BasicGameObject);
Berth4FlyingMachine.prototype.getValueOfMoneyFromTourists=function(){return this.param_moneyValue.getValue4Level(this.currentLevel)*this.myWorld.getMasterProdCoef()};Berth4FlyingMachine.prototype.onJustCreated=function(){var a=this.myWorld.createObject(Zeppelin,[this.x-511-1E3,this.y-268-300]);this.myWorld.createObject(SimpleConnection,[this.arId,a.arId,1,-1,-1])};
Berth4FlyingMachine.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new Berth4FlyingMachineVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this)};Berth4FlyingMachine.prototype.startPassengersAnimation=function(){this.visual.startPassengersAnimation()};
var Zeppelin=function(a,b,c){BasicGameObject.call(this,a,b,c);this.phi4FullCycle=this.ownPhiGeneration=1;this.pathLength=this.y1=this.x1=this.y0=this.x0=this.deliveryPhase=0;this.phi4Fly=100;this.phi4Unload=3;this.phi4Wait=30;this.connectedBerth=null;this.createAutoClicker()};$jscomp.inherits(Zeppelin,BasicGameObject);
Zeppelin.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new ZeppelinVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this);3==this.deliveryPhase&&(this.visual.alpha=0)};
Zeppelin.prototype.registerIncomingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);a.obFrom.myClass==Berth4FlyingMachine&&(this.connectedBerth=a.obFrom,b&&(this.deliveryPhase=0,this.x0=this.x,this.y0=this.y,this.x1=this.connectedBerth.x-511,this.y1=this.connectedBerth.y-268,a=this.x1-this.x0,b=this.y1-this.y0,this.pathLength=Math.sqrt(a*a+b*b),this.phi4FullCycle=this.phi4Fly=this.pathLength/100))};
Zeppelin.prototype.handleCurrentStateCompletion=function(){this.gatheredPhiInCurrentState>this.phi4FullCycle&&(this.gatheredPhiInCurrentState-=this.phi4FullCycle,this.handleCycleCompletion(1));var a=2*this.phi4Fly+this.phi4Unload+this.phi4Wait;if(this.gatheredPhiInCurrentState>a){var b=Math.floor(this.gatheredPhiInCurrentState/a);this.gatheredPhiInCurrentState%=a;this.handleFullCyclesCompletion(b)}this.gatheredPhiInCurrentState>this.phi4FullCycle&&(BasicGameObject.prototype.handleCurrentStateCompletion.call(this),
this.handleCycleCompletion(1))};Zeppelin.prototype.getValueOfMoneyFromTourists=function(){return this.connectedBerth?this.connectedBerth.getValueOfMoneyFromTourists():1};Zeppelin.prototype.handleFullCyclesCompletion=function(a){this.myWorld.receiveResource("money",a*this.getValueOfMoneyFromTourists())};
Zeppelin.prototype.handleCycleCompletion=function(a){var b=(this.deliveryPhase+1)%4,c=1;switch(this.deliveryPhase){case 0:b=1;c=this.phi4Unload;break;case 1:b=2;c=this.phi4Fly;var d=this.x1;this.x1=this.x0;this.x0=d;d=this.y1;this.y1=this.y0;this.y0=d;a*=this.getValueOfMoneyFromTourists();this.myWorld.receiveResource("money",a);this.myWorld.myEftController.showEffect(this.x+200,this.y,EffectMoney,{txt:window.bottleScreen.utils.showNumberAsText(a)});break;case 2:b=3;c=this.phi4Wait;break;case 3:b=
0,c=this.phi4Fly,d=this.x1,this.x1=this.x0,this.x0=d,d=this.y1,this.y1=this.y0,this.y0=d}this.deliveryPhase=b;this.phi4FullCycle=c;this.startVisualsOfPhase(this.deliveryPhase)};
Zeppelin.prototype.startVisualsOfPhase=function(a){switch(a){case 0:this.visual.runAnimId(2,1,0);this.visual.showFlightDirection(this.x1-this.x0);break;case 1:this.visual.runAnimId(0,1,0);this.connectedBerth&&this.connectedBerth.startPassengersAnimation();break;case 2:this.visual.runAnimId(1,1,0);this.visual.showFlightDirection(this.x1-this.x0);break;case 3:this.visual.runAnimId(3,1,0)}};
Zeppelin.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,a);if(0==this.deliveryPhase||2==this.deliveryPhase)a=this.gatheredPhiInCurrentState/this.phi4FullCycle,1<a&&(a=1),0>a&&(a=0),this.x=this.x0+(this.x1-this.x0)*a,this.y=this.y0+(this.y1-this.y0)*a,this.visual.setPosition(this.x,this.y);if(1==this.deliveryPhase||3==this.deliveryPhase)this.x=this.x1,this.y=this.y1,this.visual.setPosition(this.x,this.y)};
Zeppelin.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.deliveryPhase;a[b+1]=this.x0;a[b+2]=this.y0;a[b+3]=this.x1;a[b+4]=this.y1;a[b+5]=this.pathLength;a[b+6]=0;a[b+7]=this.phi4Fly;a[b+8]=this.phi4Unload;a[b+9]=this.phi4Wait;return b+10};
Zeppelin.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.deliveryPhase=a[b+0];this.x0=a[b+1];this.y0=a[b+2];this.x1=a[b+3];this.y1=a[b+4];this.pathLength=a[b+5];this.phi4Fly=a[b+7];this.phi4Unload=a[b+8];this.phi4Wait=a[b+9];return b+10};var LiftEngine=function(a,b,c){BasicGameObject.call(this,a,b,c);this.ownPhiGeneration=10;this.phi4FullCycle=1E9;this.impulseFromTap=0;this.connectedElevator=null;this.createAutoClicker()};$jscomp.inherits(LiftEngine,BasicGameObject);
LiftEngine.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new LiftEngineVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this)};LiftEngine.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==Crane&&(this.connectedElevator=a.obTo)};
LiftEngine.prototype.calcStateAtGameMoment=function(a){BasicGameObject.prototype.calcStateAtGameMoment.call(this,a);this.connectedElevator&&3==this.connectedElevator.deliveryPhase&&this.connectedElevator.receivePhi(this.timePassedSinceLastCheck*this.getOwnPhiGeneration());this.impulseFromTap*=Math.pow(.5,this.timePassedSinceLastCheck/2)};LiftEngine.prototype.clickEffect=function(){this.impulseFromTap+=40*this.myWorld.getMasterTapCoef();this.myWorld.hud.animTap();this.playSound("cogTick",.2,!0)};
LiftEngine.prototype.getOwnPhiGeneration=function(){return this.ownPhiGeneration+this.impulseFromTap};LiftEngine.prototype.actualizeVisuals=function(a){.01>this.phiAddedSinceLastCheck4Anim?BasicGameObject.prototype.actualizeVisuals.call(this,this.phiAddedSinceLastCheck4Anim):BasicGameObject.prototype.actualizeVisuals.call(this,(1+Math.log(100*this.phiAddedSinceLastCheck4Anim))/100)};
LiftEngine.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.impulseFromTap;return b+1};LiftEngine.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.impulseFromTap=a[b+0];return b+1};
var Elephant=function(a,b,c){BasicGameObject.call(this,a,b,c);this.ownPhiGeneration=1;this.foodStorage=this.storageTo=this.storageFrom=null;this.foodStorageId=this.storageToId=this.storageFromId=-1;this.resourceName="stone";this.currentlyTransportedVal=this.maxTransportCapacity=0;this.pathLength=1;this.foodRequired=this.y1=this.x1=this.y0=this.x0=this.destY=this.destX=this.storageY=this.storageX=this.baseY=this.baseX=this.deliveryPhase=0;this.eatingPhaseLength=4.5;this.createAutoClicker();this.lastClickBoostCheckMoment=
0;this.boostFromClicks=1;this.param_Capacity=this.myWorld.ballanser.elephantCapacityUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_Capacity);this.upgradePriceFunction=this.myWorld.ballanser.getElephantUpgradePrice};$jscomp.inherits(Elephant,BasicGameObject);Elephant.prototype.initProperties=function(a){a=BasicGameObject.prototype.initProperties.call(this,a);this.x1=this.x0=this.x;this.y1=this.y0=this.y;this.baseX=this.x;this.baseY=this.y;return a+0};
Elephant.prototype.getTransportCapacity=function(){return this.param_Capacity.getValue4Level(this.currentLevel)*this.myWorld.getMasterProdCoef()};Elephant.prototype.getOwnPhiGeneration=function(){return 1*this.boostFromClicks};Elephant.prototype.calcHungerAfterTransfer=function(a){return a/1E3};
Elephant.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new ElephantVisual(this.scene,this.grp,this.x,this.y,this.resourceName);this.visual.upgBtnCoords.x=this.baseX+150-this.x;this.visual.upgBtnCoords.y=this.baseY-this.y;this.visual.createUpgradeButton(this);this.startVisualsOfPhase(this.deliveryPhase);this.visual.setScale(this.x1>this.x0?-1:1,1)};
Elephant.prototype.clickEffect=function(){this.myWorld.hud.animTap();this.lastClickBoostCheckMoment=this.lastCalculatedGameMoment;this.boostFromClicks=1+.5*this.myWorld.getMasterTapCoef()};
Elephant.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,a);if(3==this.deliveryPhase||1==this.deliveryPhase||2==this.deliveryPhase){a=this.gatheredPhiInCurrentState/this.phi4FullCycle;1<a&&(a=1);0>a&&(a=0);var b=2==this.deliveryPhase?a:a*a*a;this.x=this.x0+(this.x1-this.x0)*a;this.y=this.y0+(this.y1-this.y0)*b;this.visual.setPosition(this.x,this.y)}};
Elephant.prototype.handleCurrentStateCompletion=function(){this.gatheredPhiInCurrentState>this.phi4FullCycle&&(this.gatheredPhiInCurrentState-=this.phi4FullCycle,this.handleCycleCompletion(1));var a=window.bottleScreen.utils.getDistBetweenPoints(this.baseX,this.baseY,this.storageX,this.storageY)/50,b=window.bottleScreen.utils.getDistBetweenPoints(this.storageX,this.storageY,this.destX,this.destY)/25,c=window.bottleScreen.utils.getDistBetweenPoints(this.destX,this.destY,this.baseX,this.baseY)/50;a=
a+b+c+this.eatingPhaseLength;this.gatheredPhiInCurrentState>a&&(b=Math.floor(this.gatheredPhiInCurrentState/a),this.gatheredPhiInCurrentState%=a,b=this.handleFullCyclesCompletion(b),this.gatheredPhiInCurrentState+=a*b);this.gatheredPhiInCurrentState>this.phi4FullCycle&&(BasicGameObject.prototype.handleCurrentStateCompletion.call(this),this.handleCycleCompletion(1));this.boostFromClicks=1};
Elephant.prototype.handleFullCyclesCompletion=function(a){var b=a*this.getTransportCapacity(),c=Math.min(b,this.storageFrom.getResVal(this.resourceName)),d=0<b?c/b:1,e=this.calcHungerAfterTransfer(c);b=Math.min(e,this.foodStorage.valInside);e=0<e?b/e:1;d=Math.ceil(a*d*e);d>a&&(d=a);this.storageFrom.modValueBy(-c*e);this.foodStorage.modValueBy(-b);this.totalProcessingsMade+=c;this.storageTo.modValueBy(c*e);return a-d};
Elephant.prototype.handleCycleCompletion=function(a){var b=0,c=1;switch(this.deliveryPhase){case -1:0<this.foodStorage.valInside?(b=0,c=this.eatingPhaseLength,this.visual.startEatingAnimation()):b=-1;break;case 0:b=Math.min(this.foodStorage.valInside,this.foodRequired);this.foodRequired-=b;this.foodStorage.modValueBy(-b);0>=this.foodRequired?(0<this.storageFrom.valInside?(b=1,this.x0=this.x,this.y0=this.y,this.x1=this.storageX,this.y1=this.storageY,this.visual.setScale(this.x1>this.x0?-1:1,1),this.pathLength=
window.bottleScreen.utils.getDistBetweenPoints(this.x0,this.y0,this.x1,this.y1),c=this.pathLength/50):b=0,this.visual.stopManifestation()):(this.visual.startManifestation(window.bottleScreen.utils.showNumberAsText(this.foodRequired)+" TXID_GOODS_HAY"),0<this.foodStorage.valInside?(b=0,c=this.eatingPhaseLength,this.visual.startEatingAnimation()):b=-1);break;case 1:0<this.storageFrom.valInside?(c=Math.min(this.getTransportCapacity(),this.storageFrom.valInside),this.storageFrom.modValueBy(-c),this.currentlyTransportedVal=
c,b=2,this.x0=this.x,this.y0=this.y,this.x1=this.destX,this.y1=this.destY,this.visual.setScale(this.x1>this.x0?-1:1,1),this.pathLength=window.bottleScreen.utils.getDistBetweenPoints(this.x0,this.y0,this.x1,this.y1),c=this.pathLength/25):(b=1,this.x1=this.x0=this.x,this.y1=this.y0=this.y,c=1);break;case 2:this.storageTo.modValueBy(this.currentlyTransportedVal);this.foodRequired+=this.calcHungerAfterTransfer(this.currentlyTransportedVal);this.totalProcessingsMade+=this.currentlyTransportedVal;this.currentlyTransportedVal=
0;b=3;this.x0=this.x;this.y0=this.y;this.x1=this.baseX;this.y1=this.baseY;this.visual.setScale(this.x1>this.x0?-1:1,1);this.pathLength=window.bottleScreen.utils.getDistBetweenPoints(this.x0,this.y0,this.x1,this.y1);c=this.pathLength/50;break;case 3:b=0,c=this.eatingPhaseLength,this.x1=this.x0=this.x,this.y1=this.y0=this.y,0<this.foodStorage.valInside&&this.visual.startEatingAnimation()}this.deliveryPhase=b;this.phi4FullCycle=c;this.startVisualsOfPhase(this.deliveryPhase);return a};
Elephant.prototype.startVisualsOfPhase=function(a){0==this.deliveryPhase||this.x1==this.x0&&this.y1==this.y0?this.visual.setMoveAnimations(!1):this.visual.setMoveAnimations(!0);this.visual.setLoadVisible(0<this.currentlyTransportedVal)};Elephant.prototype.registerIncomingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);b&&(this.foodStorage=a.obFrom)};
Elephant.prototype.takeRoleOfTransporter=function(a){this.storageFrom=a.storageFrom;this.storageTo=a.storageTo;this.storageX=this.storageFrom.x;this.storageY=this.storageFrom.y+60;this.destX=this.storageTo.x-150;this.destY=this.storageTo.y+20};
Elephant.prototype.onJustCreated=function(){var a=this.myWorld.createObject(GrassField,[this.x-527,this.y]),b=this.myWorld.createObject(HayStack,[this.x-200,this.y]);b.modValueBy(100);this.myWorld.createObject(SimpleConnection,[a.arId,b.arId,1,-1,-1]);this.myWorld.createObject(SimpleConnection,[b.arId,this.arId,1,-1,-1]);(a=this.myWorld.findObjectOfClass({cls:WheelBarrowTransporter}))&&this.takeRoleOfTransporter(a)};
Elephant.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);b=window.bottleScreen.utils.saveString2Ar(a,b,this.resourceName);a[b+0]=this.deliveryPhase;a[b+1]=this.x0;a[b+2]=this.y0;a[b+3]=this.x1;a[b+4]=this.y1;a[b+5]=this.pathLength;a[b+6]=this.baseX;a[b+7]=this.baseY;a[b+8]=this.storageX;a[b+9]=this.storageY;a[b+10]=this.destX;a[b+11]=this.destY;a[b+12]=this.foodRequired;a[b+13]=this.currentlyTransportedVal;a[b+14]=this.storageFrom.arId;a[b+15]=this.storageTo.arId;
a[b+16]=this.foodStorage.arId;return b+17};
Elephant.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);b=window.bottleScreen.utils.loadStringFromAr(a,b);this.resourceName=b.str;b=b.id;this.deliveryPhase=a[b+0];this.x0=a[b+1];this.y0=a[b+2];this.x1=a[b+3];this.y1=a[b+4];this.pathLength=a[b+5];this.baseX=a[b+6];this.baseY=a[b+7];this.storageX=a[b+8];this.storageY=a[b+9];this.destX=a[b+10];this.destY=a[b+11];this.foodRequired=a[b+12];this.currentlyTransportedVal=a[b+13];this.storageFromId=a[b+14];this.storageToId=
a[b+15];this.foodStorageId=a[b+16];return b+17};Elephant.prototype.afterLoadFunction=function(){this.storageFrom=this.myWorld.objects[this.storageFromId];this.storageTo=this.myWorld.objects[this.storageToId];this.foodStorage=this.myWorld.objects[this.foodStorageId];this.storageX=this.storageFrom.x;this.storageY=this.storageFrom.y+60;this.destX=this.storageTo.x-150;this.destY=this.storageTo.y+20;this.baseX=this.foodStorage.x+150;this.baseY=this.foodStorage.y};
var GrassField=function(a,b,c){BasicGameObject.call(this,a,b,c);this.connectedStorage=null;this.lastProductionMoment=this.value2Produce=0;this.timeBetweenProductions=.5;this.phi4FullCycle=1;this.param_tapMinePower=this.myWorld.ballanser.fieldTapUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_tapMinePower);this.upgradePriceFunction=this.myWorld.ballanser.getFieldUpgradePrice;this.param_numAutoMiners=this.myWorld.ballanser.fieldNumMinersUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_numAutoMiners);
this.createAutoClicker()};$jscomp.inherits(GrassField,BasicGameObject);GrassField.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new GrassFieldVisual(this.scene,this.grp,this.x,this.y);this.visual.upgBtnCoords.x=0;this.visual.upgBtnCoords.y=-240;this.visual.createUpgradeButton(this);var a=this.param_numAutoMiners.getValue4Level(this.currentLevel);this.visual.createHumans(a)};
GrassField.prototype.getOwnPhiGeneration=function(){return this.param_numAutoMiners.getValue4Level(this.currentLevel)*this.param_tapMinePower.getValue4Level(this.currentLevel)};GrassField.prototype.handleCurrentStateCompletion=function(){BasicGameObject.prototype.handleCurrentStateCompletion.call(this);this.handleCycleCompletion(this.numCyclesCompletedAfterLastCheck)};GrassField.prototype.handleCycleCompletion=function(a){this.value2Produce+=a*this.myWorld.getMasterProdCoef();return a};
GrassField.prototype.calcStateAtGameMoment=function(a){BasicGameObject.prototype.calcStateAtGameMoment.call(this,a);1<=this.value2Produce&&(this.lastCalculatedGameMoment-this.lastProductionMoment>=this.timeBetweenProductions||this.lastCalculatedGameMoment<this.lastProductionMoment)&&(a=Math.floor(this.value2Produce),this.connectedStorage&&(this.connectedStorage.modValueBy(a),this.totalProcessingsMade+=a),this.visual.runAnimId(1,1,0),this.value2Produce-=a,this.lastProductionMoment=this.lastCalculatedGameMoment)};
GrassField.prototype.clickEffect=function(){this.receivePhi(this.phi4FullCycle*this.param_tapMinePower.getValue4Level(this.currentLevel)*this.myWorld.getMasterTapCoef());this.visual.runAnimId(0,1,0);this.myWorld.hud.animTap()};GrassField.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==HayStack&&(this.connectedStorage=a.obTo)};
GrassField.prototype.performUpgrade=function(a,b){var c=this.param_numAutoMiners.getValue4Level(this.currentLevel);BasicGameObject.prototype.performUpgrade.call(this,a,b);a=this.param_numAutoMiners.getValue4Level(this.currentLevel);a>c&&this.visual.createHumans(a-c)};GrassField.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.value2Produce;return b+1};
GrassField.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.value2Produce=a[b+0];return b+1};var HayStack=function(a,b,c){BasicGoodsStorage.call(this,a,b,c);this.goodsCode="hay";this.tradePointDelta.x=72;this.tradePointDelta.y=47};$jscomp.inherits(HayStack,BasicGoodsStorage);HayStack.prototype.initVisuals=function(){BasicGoodsStorage.prototype.initVisuals.call(this);this.visual=new HayStackVisual(this.scene,this.grp,this.x,this.y)};
var Clock=function(a,b,c){BasicGameObject.call(this,a,b,c);this.param_clockSpeed=this.myWorld.ballanser.clockSpeedUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_clockSpeed);this.upgradePriceFunction=this.myWorld.ballanser.getClockUpgradePrice};$jscomp.inherits(Clock,BasicGameObject);Clock.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new ClockVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this)};
Clock.prototype.getTimeSpeedBoost=function(){return 1+this.param_clockSpeed.getValue4Level(this.currentLevel)};var UndergroundWater=function(a,b,c){BasicGameObject.call(this,a,b,c);this.connectedExtractor=null;this.maxWaterInside=this.waterInside=1E9};$jscomp.inherits(UndergroundWater,BasicGameObject);UndergroundWater.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new UndergroundWaterVisual(this.scene,this.grp,this.x,this.y)};
UndergroundWater.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==WaterExtractor&&(this.connectedExtractor=a.obTo)};UndergroundWater.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.waterInside;a[b+1]=this.maxWaterInside;return b+2};
UndergroundWater.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.waterInside=a[b+0];this.maxWaterInside=a[b+1];return b+2};
var WaterExtractor=function(a,b,c){BasicGameObject.call(this,a,b,c);this.phi4FullCycle=this.ownPhiGeneration=1;this.param_extractionSpeed=this.myWorld.ballanser.waterExtractorUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_extractionSpeed);this.upgradePriceFunction=this.myWorld.ballanser.getWaterExtractorUpgradePrice;this.connectedWaterSource=this.connectedStorage=null};$jscomp.inherits(WaterExtractor,BasicGameObject);
WaterExtractor.prototype.handleCurrentStateCompletion=function(){BasicGameObject.prototype.handleCurrentStateCompletion.call(this);this.handleCycleCompletion(this.numCyclesCompletedAfterLastCheck)};WaterExtractor.prototype.handleCycleCompletion=function(a){var b=a*this.getExtractionSpeed()*this.myWorld.getMasterProdCoef();this.connectedStorage&&this.connectedStorage.modValueBy(b);return a};
WaterExtractor.prototype.getExtractionSpeed=function(){var a=this.param_extractionSpeed.getValue4Level(this.currentLevel);0<this.myWorld.countArtifactsOfCode("purch_bucket")&&(a*=5);return a};WaterExtractor.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new WaterExtractorVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this)};
WaterExtractor.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==WaterStorage&&(this.connectedStorage=a.obTo)};WaterExtractor.prototype.registerIncomingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);a.obFrom.myClass==UndergroundWater&&(this.connectedWaterSource=a.obFrom)};
WaterExtractor.prototype.onJustCreated=function(){var a=this.myWorld.findObjectOfClass({cls:WaterWell}),b=this.myWorld.createObject(UndergroundWater,[this.x+8,this.y+191]);this.visual.moveHigherOnLayer();var c=this.myWorld.createObject(WaterStorage,[this.x,this.y-125]);this.myWorld.createObject(SimpleConnection,[b.arId,this.arId,1,-1,-1]);this.myWorld.createObject(SimpleConnection,[this.arId,c.arId,1,-1,-1]);this.myWorld.createObject(SimpleConnection,[c.arId,a.arId,1,-1,-1])};
var WaterStorage=function(a,b,c){BasicGoodsStorage.call(this,a,b,c);this.connectedWell=null;this.goodsCode="water";this.tradePointDelta.x=-198;this.tradePointDelta.y=70};$jscomp.inherits(WaterStorage,BasicGoodsStorage);WaterStorage.prototype.initVisuals=function(){BasicGoodsStorage.prototype.initVisuals.call(this);this.visual=new WaterStorageVisual(this.scene,this.grp,this.x,this.y)};
WaterStorage.prototype.registerOutgoingConnection=function(a,b){BasicGoodsStorage.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==WaterWell&&(this.connectedWell=a.obTo)};WaterStorage.prototype.calcStateAtGameMoment=function(a){BasicGoodsStorage.prototype.calcStateAtGameMoment.call(this,a);this.connectedWell&&this.valInside>this.connectedWell.waterInside&&this.connectedWell.receiveWaterFromDrillWithOverflow((this.valInside-this.connectedWell.waterInside)/2)};
var CarawanSarai=function(a,b,c){BasicGameObject.call(this,a,b,c);this.param_priceInc=this.myWorld.ballanser.carawanSaraiUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_priceInc);this.upgradePriceFunction=this.myWorld.ballanser.getCarawanUpgradePrice;this.res2SellList=[]};$jscomp.inherits(CarawanSarai,BasicGameObject);
CarawanSarai.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new CarawanSaraiVisual(this.scene,this.grp,this.x,this.y);this.visual.createUpgradeButton(this);this.visual.createSettingsButton(this)};CarawanSarai.prototype.getMarketPriceModifier=function(){return 1+this.param_priceInc.getValue4Level(this.currentLevel)};
CarawanSarai.prototype.onJustCreated=function(){var a=this.myWorld.createObject(Camel,[this.x+221,this.y+100]);this.myWorld.createObject(SimpleConnection,[this.arId,a.arId,1,-1,-1])};CarawanSarai.prototype.updateStoragesList=function(){var a=this.myWorld.getListOfStoragesWithGoods();this.storagesRecordList=a;this.res2SellList.length>a.length&&(this.res2SellList.length=a.length);for(;this.res2SellList.length<a.length;)this.res2SellList.push(0)};
CarawanSarai.prototype.toggleAutoSellingOfResourceId=function(a){this.res2SellList[a]=1-this.res2SellList[a]};CarawanSarai.prototype.findNextDestination2Go=function(a){var b=-1;for(a+=1;a<this.res2SellList.length;a++)if(1==this.res2SellList[a]){b=a;break}return b};CarawanSarai.prototype.isSellingSetFrom=function(a){return 1==this.res2SellList[a]};
CarawanSarai.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);var c=this.res2SellList.length;a[b+0]=c;b++;for(var d=0;d<c;d++)a[b+0]=this.res2SellList[d],b++;return b+0};CarawanSarai.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);var c=a[b+0];b++;for(var d=this.res2SellList.length=0;d<c;d++)this.res2SellList.push(a[b+0]),b++;return b+0};
var Camel=function(a,b,c){BasicGameObject.call(this,a,b,c);this.connectedSarai=null;this.deliveryPhase=this.y1=this.x1=this.y0=this.x0=this.baseY=this.baseX=0;this.currentStorageDestinationId=-1;this.phi4FullCycle=this.ownPhiGeneration=1;this.pathSegments=[1,1,1];this.pathLambdas=[0,.33,.66,1]};$jscomp.inherits(Camel,BasicGameObject);
Camel.prototype.initProperties=function(a){a=BasicGameObject.prototype.initProperties.call(this,a);this.baseX=this.x0=this.x1=this.x;this.baseY=this.y0=this.y1=this.y;return a+0};Camel.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new CamelVisual(this.scene,this.grp,this.x,this.y);this.visual.setScale(this.x1>this.x0?-1:1,1);this.visual.setMoveAnimations(1==this.deliveryPhase||2==this.deliveryPhase)};
Camel.prototype.registerIncomingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);a.obFrom.myClass==CarawanSarai&&(this.connectedSarai=a.obFrom)};Camel.prototype.handleCurrentStateCompletion=function(){BasicGameObject.prototype.handleCurrentStateCompletion.call(this);this.handleCycleCompletion(this.numCyclesCompletedAfterLastCheck)};
Camel.prototype.handleCycleCompletion=function(a){var b=0,c=1;if(this.connectedSarai)switch(this.deliveryPhase){case 0:this.connectedSarai.updateStoragesList();this.currentStorageDestinationId=this.connectedSarai.findNextDestination2Go(this.currentStorageDestinationId);-1!=this.currentStorageDestinationId&&(b=1,this.x0=this.x,this.y0=this.y,c=this.connectedSarai.storagesRecordList[this.currentStorageDestinationId].storage,this.x1=c.x+c.tradePointDelta.x,this.y1=c.y+c.tradePointDelta.y,this.visual.setScale(this.x1>
this.x0?-1:1,1),window.bottleScreen.utils.getDistBetweenPoints(this.x0,this.y0,this.x1,this.y1),this.pathSegments=[Math.abs(this.y0-this.baseY),Math.abs(this.x1-this.x0),Math.abs(this.y1-this.baseY)],this.calculatePathLambdas(),c=this.calculateTotalSegnemtsLength(),c=(c+1)/50);break;case 1:this.connectedSarai.updateStoragesList();this.connectedSarai.isSellingSetFrom(this.currentStorageDestinationId)&&(c=this.connectedSarai.storagesRecordList[this.currentStorageDestinationId].storage,b=this.myWorld.handleSellingFromStorage(c,
.5),0<b&&this.myWorld.myEftController.showEffect(c.x,c.y,EffectMoney,{txt:window.bottleScreen.utils.showNumberAsText(b)}));this.currentStorageDestinationId=this.connectedSarai.findNextDestination2Go(this.currentStorageDestinationId);-1!=this.currentStorageDestinationId?(b=1,this.x0=this.x,this.y0=this.y,c=this.connectedSarai.storagesRecordList[this.currentStorageDestinationId].storage,this.x1=c.x+c.tradePointDelta.x,this.y1=c.y+c.tradePointDelta.y):(b=2,this.x0=this.x,this.y0=this.y,this.x1=this.baseX,
this.y1=this.baseY);this.visual.setScale(this.x1>this.x0?-1:1,1);window.bottleScreen.utils.getDistBetweenPoints(this.x0,this.y0,this.x1,this.y1);this.pathSegments=[Math.abs(this.y0-this.baseY),Math.abs(this.x1-this.x0),Math.abs(this.y1-this.baseY)];this.calculatePathLambdas();c=this.calculateTotalSegnemtsLength();c=(c+1)/50;break;case 2:b=0,c=1}this.deliveryPhase=b;this.phi4FullCycle=c;this.visual.setMoveAnimations(1==this.deliveryPhase||2==this.deliveryPhase);return a};
Camel.prototype.calculateTotalSegnemtsLength=function(){for(var a=0,b=0;b<this.pathSegments.length;b++)a+=this.pathSegments[b];return a};Camel.prototype.calculatePathLambdas=function(){this.pathLambdas=[0];for(var a=0,b=0;b<this.pathSegments.length;b++)a+=this.pathSegments[b]+1,this.pathLambdas.push(this.pathSegments[b]+1);for(b=0;b<this.pathLambdas.length-1;b++)this.pathLambdas[b+1]+=this.pathLambdas[b];for(b=0;b<this.pathLambdas.length;b++)this.pathLambdas[b]/=a};
Camel.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,a);if(1==this.deliveryPhase||2==this.deliveryPhase){var b=this.gatheredPhiInCurrentState/this.phi4FullCycle;1<b&&(b=1);0>b&&(b=0);a=this.pathLambdas.length-1;for(var c=1;c<this.pathLambdas.length-1;c++)if(b<this.pathLambdas[c]){a=c;break}var d=this.pathLambdas[a-1],e=this.pathLambdas[a];c=(b-d)/(e-d);isNaN(c)&&console.log("lambda = ",b,"pathSegmentId=",a,"prevL=",d,"nextL=",e,"segmentLambda=",c);b=this.x0;
d=this.y0;e=this.x1;var f=this.y1;switch(a){case 1:b=this.x0;d=this.y0;e=this.x0;f=this.baseY;break;case 2:b=this.x0;d=this.baseY;e=this.x1;f=this.baseY;break;case 3:b=this.x1,d=this.baseY,e=this.x1,f=this.y1}this.x=b+(e-b)*c;this.y=d+(f-d)*c;this.visual.setPosition(this.x,this.y)}};
Camel.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.baseX;a[b+1]=this.baseY;a[b+2]=this.x0;a[b+3]=this.y0;a[b+4]=this.x1;a[b+5]=this.y1;a[b+6]=this.deliveryPhase;a[b+7]=this.currentStorageDestinationId;return b=window.bottleScreen.utils.saveNumAr2Ar(a,b+8,this.pathLambdas)};
Camel.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.baseX=a[b+0];this.baseY=a[b+1];this.x0=a[b+2];this.y0=a[b+3];this.x1=a[b+4];this.y1=a[b+5];this.deliveryPhase=a[b+6];this.currentStorageDestinationId=a[b+7];b=window.bottleScreen.utils.loadNumArFromAr(a,b+8,this.pathLambdas);return b+0};
var Helicopter=function(a,b,c){BasicGameObject.call(this,a,b,c);this.connectedTargetQuarry=this.connectedBalcony=null;this.param_boomNumber=this.myWorld.ballanser.helicopterNumBoomsUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_boomNumber);this.param_boomPower=this.myWorld.ballanser.helicopterPowerBoomsUpgrader.clone4Machine(this);this.upgradedParams.push(this.param_boomPower);this.upgradePriceFunction=this.myWorld.ballanser.getHelicopterUpgradePrice;this.deliveryPhase=-1;this.y1=
this.x1=this.y0=this.x0=this.targetY=this.targetX=this.baseY=this.baseX=this.numChargesDropped=0;this.phi4FullCycle=this.ownPhiGeneration=1};$jscomp.inherits(Helicopter,BasicGameObject);Helicopter.prototype.getMaxDrops=function(){return this.param_boomNumber.getValue4Level(this.currentLevel)};Helicopter.prototype.getStoneFromOneDrop=function(){return this.param_boomPower.getValue4Level(this.currentLevel)};
Helicopter.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new HelicopterVisual(this.scene,this.grp,this.x,this.y);this.visual.upgBtnCoords.x=this.baseX+150-this.x;this.visual.upgBtnCoords.y=this.baseY-this.y;this.visual.createUpgradeButton(this);this.visual.setScale(this.x1>this.x0?-1:1,1)};
Helicopter.prototype.initProperties=function(a){a=BasicGameObject.prototype.initProperties.call(this,a);this.baseX=this.x0=this.x1=this.x;this.baseY=this.y0=this.y1=this.y;return a+0};Helicopter.prototype.onJustCreated=function(){var a=this.myWorld.createObject(HelicopterBalcony,[this.x-267,this.y+89]);this.myWorld.createObject(SimpleConnection,[a.arId,this.arId,1,-1,-1]);a=this.myWorld.findObjectOfClass({cls:QuarryMine});this.myWorld.createObject(SimpleConnection,[this.arId,a.arId,1,-1,-1])};
Helicopter.prototype.registerIncomingConnection=function(a,b){BasicGameObject.prototype.registerIncomingConnection.call(this,a,b);a.obFrom.myClass==HelicopterBalcony&&(this.connectedBalcony=a.obFrom)};Helicopter.prototype.registerOutgoingConnection=function(a,b){BasicGameObject.prototype.registerOutgoingConnection.call(this,a,b);a.obTo.myClass==QuarryMine&&(this.connectedTargetQuarry=a.obTo,this.targetX=this.connectedTargetQuarry.x,this.targetY=this.connectedTargetQuarry.y-700)};
Helicopter.prototype.handleCurrentStateCompletion=function(){this.gatheredPhiInCurrentState>this.phi4FullCycle&&(this.gatheredPhiInCurrentState-=this.phi4FullCycle,this.handleCycleCompletion(1));var a=window.bottleScreen.utils.getDistBetweenPoints(this.baseX,this.baseY,this.targetX,this.targetY)/25,b=1.5*this.getMaxDrops();a=a+b+1+a;this.gatheredPhiInCurrentState>a&&(b=Math.floor(this.gatheredPhiInCurrentState/a),this.gatheredPhiInCurrentState%=a,this.handleFullCyclesCompletion(b));this.gatheredPhiInCurrentState>
this.phi4FullCycle&&(BasicGameObject.prototype.handleCurrentStateCompletion.call(this),this.handleCycleCompletion(1))};
Helicopter.prototype.handleCycleCompletion=function(a){var b=0,c=1;switch(this.deliveryPhase){case -1:case 0:this.x0=this.x;this.y0=this.y;this.x1=this.targetX;this.y1=this.targetY;b=1;this.visual.setScale(this.x1>this.x0?-1:1,1);c=window.bottleScreen.utils.getDistBetweenPoints(this.x0,this.y0,this.x1,this.y1);c/=25;break;case 1:b=2;c=1.5;this.myWorld.myEftController.showEffect(this.x,this.y,EffectDynamiteDrop,{});break;case 2:this.makeEffectOnQuarry(1);this.numChargesDropped++;this.numChargesDropped>=
this.getMaxDrops()?(this.x0=this.x,this.y0=this.y,this.x1=this.baseX,this.y1=this.baseY,b=3,this.visual.setScale(this.x1>this.x0?-1:1,1),c=window.bottleScreen.utils.getDistBetweenPoints(this.x0,this.y0,this.x1,this.y1),c/=25,this.numChargesDropped=0):(b=2,c=1.5,this.myWorld.myEftController.showEffect(this.x,this.y,EffectDynamiteDrop,{}));break;case 3:this.visual.setScale(1,1),b=0,c=1}this.deliveryPhase=b;this.phi4FullCycle=c;return a};
Helicopter.prototype.handleFullCyclesCompletion=function(a){a*=this.getMaxDrops();this.connectedTargetQuarry&&this.makeEffectOnQuarry(a)};Helicopter.prototype.makeEffectOnQuarry=function(a){this.connectedTargetQuarry&&this.connectedTargetQuarry.receivePhi(this.connectedTargetQuarry.phi4FullCycle*a*this.getStoneFromOneDrop()*this.myWorld.getMasterProdCoef())};
Helicopter.prototype.actualizeVisuals=function(a){BasicGameObject.prototype.actualizeVisuals.call(this,a);if(1==this.deliveryPhase||3==this.deliveryPhase){a=this.gatheredPhiInCurrentState/this.phi4FullCycle;1<a&&(a=1);0>a&&(a=0);var b=1==this.deliveryPhase?2.5*a*(a-.6):2.2222222*a*(1.45-a);this.x=this.x0+(this.x1-this.x0)*a;this.y=this.y0+(this.y1-this.y0)*b;this.visual.setPosition(this.x,this.y)}};
Helicopter.prototype.save2Ar=function(a,b){b=BasicGameObject.prototype.save2Ar.call(this,a,b);a[b+0]=this.deliveryPhase;a[b+1]=this.numChargesDropped;a[b+2]=this.baseX;a[b+3]=this.baseY;a[b+4]=this.targetX;a[b+5]=this.targetY;a[b+6]=this.x0;a[b+7]=this.y0;a[b+8]=this.x1;a[b+9]=this.y1;return b+10};
Helicopter.prototype.loadFromAr=function(a,b){b=BasicGameObject.prototype.loadFromAr.call(this,a,b);this.deliveryPhase=a[b+0];this.numChargesDropped=a[b+1];this.baseX=a[b+2];this.baseY=a[b+3];this.targetX=a[b+4];this.targetY=a[b+5];this.x0=a[b+6];this.y0=a[b+7];this.x1=a[b+8];this.y1=a[b+9];return b+10};var HelicopterBalcony=function(a,b,c){BasicGameObject.call(this,a,b,c)};$jscomp.inherits(HelicopterBalcony,BasicGameObject);
HelicopterBalcony.prototype.initVisuals=function(){BasicGameObject.prototype.initVisuals.call(this);this.visual=new HelicopterBalconyVisual(this.scene,this.grp,this.x,this.y)};var SimpleConnection=function(a,b,c){BasicConnection.call(this,a,b,c)};$jscomp.inherits(SimpleConnection,BasicConnection);
var UnderGroundBGD=function(a,b,c,d,e){UnmovableBGD.call(this,a,b,c);this.img=this.scene.add.image(d,e,"allGraphics2","w000_tmpSquare4new0000");this.img.setOrigin(.5,0);this.img.tint=6240045;this.img2=this.scene.add.image(d,e,"allGraphics2","w000_tmpSquare4new0000");this.img2.setOrigin(.5,0);this.img2.tint=4261635;this.img2.setScale(1,.5);this.y0=e;this.grp.add(this.img);this.grp.add(this.img2)};$jscomp.inherits(UnderGroundBGD,UnmovableBGD);
UnderGroundBGD.prototype.updateSize=function(a){var b=this.myWorld.containerGroup.x-a.leftMargin,c=this.myWorld.containerGroup.y-a.topMargin;this.img.displayWidth=a.gameWidth+10+2*Math.abs(b);this.img.displayHeight=a.h0-this.y0+a.topMargin-c;this.img2.displayWidth=a.gameWidth+10+2*Math.abs(b)};UnderGroundBGD.prototype.getFullyRemoved=function(){this.img.destroy();this.img2.destroy()};
var SpaceBGD=function(a,b,c,d,e){UnmovableBGD.call(this,a,b,c);this.img=this.scene.add.image(d,e-300,"allGraphics2","w000_tmpSquare4new0000");this.img.setOrigin(.5,1);this.img.tint=0;this.img2=this.scene.add.image(d,e,"allGraphics2","w001_sky2SpaceConversion4new0000");this.img2.setOrigin(.5,1);this.img2.setScale(1,4);this.y0=e;this.grp.add(this.img);this.grp.add(this.img2)};$jscomp.inherits(SpaceBGD,UnmovableBGD);
SpaceBGD.prototype.updateSize=function(a){var b=this.myWorld.containerGroup.x-a.leftMargin,c=this.myWorld.containerGroup.y-a.topMargin;this.img.displayWidth=a.gameWidth+10+2*Math.abs(b);this.img.displayHeight=a.gameHeight-(a.h0-this.y0+a.topMargin-c);this.img2.displayWidth=a.gameWidth+10+2*Math.abs(b)};SpaceBGD.prototype.getFullyRemoved=function(){this.img.destroy();this.img2.destroy()};
var GroundBGD=function(a,b,c,d,e){UnmovableBGD.call(this,a,b,c);this.img=this.scene.add.image(d,e,"allGraphics2","w000_tmpSquare4new0000");this.img.setOrigin(.5,0);this.img.tint=7661958;this.y0=e;this.grp.add(this.img)};$jscomp.inherits(GroundBGD,UnmovableBGD);GroundBGD.prototype.updateSize=function(a){var b=this.myWorld.containerGroup.y-a.topMargin;this.img.displayWidth=a.gameWidth+10+2*Math.abs(this.myWorld.containerGroup.x-a.leftMargin);this.img.displayHeight=a.h0-this.y0+a.topMargin-b};
GroundBGD.prototype.getFullyRemoved=function(){this.img.destroy()};var SkyBGD=function(a,b,c,d,e){UnmovableBGD.call(this,a,b,c);this.img=this.scene.add.image(d,e,"allGraphics2","w000_tmpSquare4new0000");this.img.setOrigin(.5,.5);this.img.tint=6461932;this.x0=d;this.y0=e;this.grp.add(this.img)};$jscomp.inherits(SkyBGD,UnmovableBGD);
SkyBGD.prototype.updateSize=function(a){var b=this.myWorld.containerGroup.x-a.leftMargin,c=this.myWorld.containerGroup.y-a.topMargin;this.img.displayWidth=a.gameWidth+10;this.img.displayHeight=a.gameHeight+10;this.img.x=a.gameWidth/2-a.leftMargin-b;this.img.y=a.gameHeight/2-a.topMargin-c};SkyBGD.prototype.getFullyRemoved=function(){this.img.destroy()};
var ThunderstormEffect=function(a,b,c){UnmovableBGD.call(this,a,b,c);a=window.bottleScreen;this.sqrtIm=this.scene.add.image(0,0,"allGraphics2","w000_tmpSquare4new0000");this.sqrtIm.tint=0;this.sqrtIm.alpha=0;this.sqrtIm.setOrigin(.5,.5);this.grp.add(this.sqrtIm);this.ligtningIm=this.scene.add.image(0,0,"allGraphics2","w001_thunderBolt4new0000");this.ligtningIm.alpha=.5;this.ligtningIm.setOrigin(.5,0);this.ligtningIm.setScale(2,2);this.grp.add(this.ligtningIm);this.ligtningIm.visible=!1;this.updateSize(a);
this.bgdIma=new ImageModifier};$jscomp.inherits(ThunderstormEffect,UnmovableBGD);ThunderstormEffect.prototype.updateSize=function(a){var b=this.myWorld.containerGroup.x-a.leftMargin,c=this.myWorld.containerGroup.y-a.topMargin;this.sqrtIm.displayWidth=a.gameWidth+10;this.sqrtIm.displayHeight=a.gameHeight+10;this.sqrtIm.x=a.gameWidth/2-a.leftMargin-b;this.sqrtIm.y=a.gameHeight/2-a.topMargin-c;this.ligtningIm.x=this.sqrtIm.x;this.ligtningIm.y=-a.topMargin-c};
ThunderstormEffect.prototype.getFullyRemoved=function(){this.sqrtIm.destroy()};ThunderstormEffect.prototype.doStep=function(a){this.sqrtIm.alpha=1-this.myWorld.countdownTillRestart;.25>Math.random()&&(this.sqrtIm.tint=.5>Math.random()?0:16777215);this.ligtningIm.visible?.5>Math.random()&&(this.ligtningIm.visible=!1):.1>Math.random()&&(this.ligtningIm.x=this.sqrtIm.x-200+400*Math.random(),this.ligtningIm.visible=!0)};var SimpleSquareVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.img=a.scene.add.sprite(0,0,"allGraphics2","w000_smallScreenButtons4new0001");a.add(a.img);return a};$jscomp.inherits(SimpleSquareVisual,BasicMachineVisual);
var WheelBarrowTransporterVisual=function(a,b,c,d,e){c=BasicMachineVisual.call(this,a,b,c,d)||this;e="stone"==e?"w001_roughStone4new0000":"w001_wood4new0000";c.upgBtnCoords.x=-250;c.upgBtnCoords.y=40;c.touchRect=new Phaser.Geom.Rectangle(0,0,0,0);c.humanWithCart=new HumanWithCart(a,b,0,0,e);c.humanWithCart.setScale(-1,1);c.humanWithCart.hideBrick();c.add(c.humanWithCart);c.humanWithCart.alpha=0;c.embedVisual(c.humanWithCart);c.dx2Beginning=-200;c.dy2Beginning=-100;a=c.createImageModifier(c.humanWithCart,
10);a.addAnimNode(0,c.humanWithCart.x,c.humanWithCart.y,0,-1,1,0,0,0);a.addAnimNode(.1,c.humanWithCart.x,c.humanWithCart.y,0,-1,1,0,0,1);a.addAnimNode(1,c.humanWithCart.x+c.dx2Beginning,c.humanWithCart.y+c.dy2Beginning,0,-1);a=c.createImageModifier(c.humanWithCart,10);a.addAnimNode(0,c.humanWithCart.x+c.dx2Beginning,c.humanWithCart.y+c.dy2Beginning);a.addAnimNode(.9,c.humanWithCart.x+1,c.humanWithCart.y);a.addAnimNode(1,c.humanWithCart.x+1,c.humanWithCart.y,0,1,1,0,0,0);return c};
$jscomp.inherits(WheelBarrowTransporterVisual,BasicMachineVisual);
WheelBarrowTransporterVisual.prototype.setMoveDeltas=function(a,b){this.dx2Beginning=a;this.dy2Beginning=b;this.imageModifiers[0].modNodeProperty(2,"x",this.humanWithCart.x+this.dx2Beginning);this.imageModifiers[0].modNodeProperty(2,"y",this.humanWithCart.y+this.dy2Beginning);this.imageModifiers[1].modNodeProperty(0,"x",this.humanWithCart.x+this.dx2Beginning);this.imageModifiers[1].modNodeProperty(0,"y",this.humanWithCart.y+this.dy2Beginning);0<=this.dx2Beginning?(this.imageModifiers[0].modNodeProperty(0,
"scaleX",1),this.imageModifiers[0].modNodeProperty(1,"scaleX",1),this.imageModifiers[0].modNodeProperty(2,"scaleX",1),this.imageModifiers[1].modNodeProperty(0,"scaleX",-1),this.imageModifiers[1].modNodeProperty(1,"scaleX",-1),this.imageModifiers[1].modNodeProperty(2,"scaleX",-1)):(this.imageModifiers[0].modNodeProperty(0,"scaleX",-1),this.imageModifiers[0].modNodeProperty(1,"scaleX",-1),this.imageModifiers[0].modNodeProperty(2,"scaleX",-1),this.imageModifiers[1].modNodeProperty(0,"scaleX",1),this.imageModifiers[1].modNodeProperty(1,
"scaleX",1),this.imageModifiers[1].modNodeProperty(2,"scaleX",1))};WheelBarrowTransporterVisual.prototype.startHumanMoveOut=function(a){this.humanWithCart.hideBrick();this.setAnimLength(0,a);this.runAnimId(0,1,0)};WheelBarrowTransporterVisual.prototype.startHumanBackMove=function(a,b){0<b&&this.humanWithCart.showBrick();this.setAnimLength(1,a);this.runAnimId(1,1,0)};
var QuarryVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.upgBtnCoords.y=-400;a.touchRect=new Phaser.Geom.Rectangle(-200,-300,420,300);a.img=a.scene.add.image(0,30,"allGraphics2","w001_quarry4new0000");a.img.setOrigin(.5,1);a.add(a.img);a.brick=a.scene.add.image(0,0,"allGraphics2","w001_roughStone4new0000");a.brick.setOrigin(.5,.5);a.brick.alpha=0;a.add(a.brick);b=a.createImageModifier(a.img,.4);b.addAnimNode(.4,a.img.x,a.img.y,0,1.1,.95);b.addAnimNode(.8,a.img.x,a.img.y,
0,.95,1.1);b=a.createImageModifier(a.brick,.8);b.addAnimNode(0,0,0,0,1,1,1,1,0);b.addAnimNode(.25,210,-152,Math.PI,1,1,1,1,1);b.addAnimNode(.5,300,-17,2*Math.PI,1,1,1,1,1);b.addAnimNode(.8,300,-17,2*Math.PI,1,1,1,1,1);b.addAnimNode(1,300,-17,2*Math.PI,1,1,1,1,0);a.humanAnims=[];a.humansCoords=[{x:187,y:-66,scl:1},{x:134,y:-30,scl:1},{x:239,y:-16,scl:1},{x:-262,y:-7,scl:-1},{x:19,y:-290,scl:-1},{x:-99,y:-263,scl:-1},{x:-185,y:-170,scl:-1},{x:-22,y:-193,scl:-1},{x:79,y:-150,scl:1},{x:-108,y:-142,scl:-1},
{x:-191,y:-44,scl:-1},{x:-5,y:-53,scl:-1},{x:-87,y:-16,scl:-1}];return a};$jscomp.inherits(QuarryVisual,BasicMachineVisual);QuarryVisual.prototype.createMiners=function(a){for(var b=this.humanAnims.length,c=0;c<a;c++){var d=(b+c)%this.humansCoords.length,e=new HumanWithPickAxe(this.scene,this,this.humansCoords[d].x,this.humansCoords[d].y);e.setScale(this.humansCoords[d].scl,1);this.embedVisual(e);this.humanAnims.push(e)}};
var BasicStorageVisual=function(a,b,c,d){return BasicMachineVisual.call(this,a,b,c,d)||this};$jscomp.inherits(BasicStorageVisual,BasicMachineVisual);BasicStorageVisual.prototype.showCurrentValue=function(a){};
var QuarryStorageVisual=function(a,b,c,d){a=BasicStorageVisual.call(this,a,b,c,d)||this;a.touchRect=new Phaser.Geom.Rectangle(-110,-120,220,170);a.bricksImgs=[];a.brCoords=[{x:-37,y:-27,r:.5},{x:17,y:-50,r:1.5},{x:55,y:-18,r:-.3},{x:1,y:-44,r:-.1},{x:2,y:-7,r:.6}];for(b=0;b<a.brCoords.length;b++)c=a.scene.add.image(a.brCoords[b].x,a.brCoords[b].y,"allGraphics2","w001_roughStone4new0000"),c.setOrigin(.5,.5),c.rotation=a.brCoords[b].r,a.bricksImgs.push(c),a.add(c),c.visible=!1;a.draggedStonePiece=a.scene.add.image(0,
0,"allGraphics2","w001_roughStone4new0000");a.add(a.draggedStonePiece);a.draggedStonePiece.visible=!1;a.text=new TFWithBGD(a.scene,a.grp,"",0,32,{texKey:"w001_bgdOfInformer4new0000",bgdOx:.5,bgdOy:.5,dx:0,dy:-22});a.text.mustTranslateShownText=!1;a.add(a.text);a.returnedStoneAnim=new AnimatedImage(a.scene,a.grp,{key:"w001_roughStone4new0000"});a.registerAnimatedImage(a.returnedStoneAnim);a.upMoveDx=0;a.upMoveDy=-1;return a};$jscomp.inherits(QuarryStorageVisual,BasicStorageVisual);
QuarryStorageVisual.prototype.doAnimations=function(a){BasicStorageVisual.prototype.doAnimations.call(this,a);this.draggedStonePiece.visible&&(this.draggedStonePiece.y+=500*this.upMoveDy*a,this.draggedStonePiece.x+=500*this.upMoveDx*a)};QuarryStorageVisual.prototype.returnDraggedVal=function(){this.returnedStoneAnim.startFromPoint(this.draggedStonePiece.x,this.draggedStonePiece.y);this.draggedStonePiece.visible=!1};
QuarryStorageVisual.prototype.dropDraggedVal=function(){this.draggedStonePiece.visible=!1};QuarryStorageVisual.prototype.showDraggedVal=function(){this.draggedStonePiece.visible=!0;this.draggedStonePiece.x=0;this.draggedStonePiece.y=0};QuarryStorageVisual.prototype.showValDragging=function(a,b){this.draggedStonePiece.x=a-this.x;this.draggedStonePiece.y=b-this.y};QuarryStorageVisual.prototype.getWorldXOfDraggedStone=function(){return this.draggedStonePiece.x+this.x};
QuarryStorageVisual.prototype.getWorldYOfDraggedStone=function(){return this.draggedStonePiece.y+this.y};QuarryStorageVisual.prototype.showCurrentValue=function(a){var b=Math.sqrt(a/100);for(var c=0;c<this.bricksImgs.length;c++){var d=this.bricksImgs[c],e=b/(1/this.bricksImgs.length);e<c?d.visible=!1:(e>=c+1?(d.setScale(1,1),d.y=this.brCoords[c].y):(d.setScale(e-c,e-c),d.y=this.brCoords[c].y+50*(1-(e-c))),d.visible=!0)}0==a?(this.text.showText(""),this.text.visible=!1):(this.text.visible=!0,this.text.showText(window.bottleScreen.utils.showNumberAsText(a)))};
var BricksStorageVisual=function(a,b,c,d){a=BasicStorageVisual.call(this,a,b,c,d)||this;a.touchRect=new Phaser.Geom.Rectangle(-120,-85,240,85);a.bricksImgs=[];b=[{x:-70,y:0},{x:1,y:0},{x:73,y:0},{x:-36,y:-40},{x:35,y:-40},{x:1,y:-73}];for(c=0;c<b.length;c++)d=a.scene.add.image(b[c].x,b[c].y,"allGraphics2","w001_brick4new0000"),d.setOrigin(.5,1),a.bricksImgs.push(d),a.add(d),d.visible=!1;a.text=new TFWithBGD(a.scene,a.grp,"",0,32,{texKey:"w001_bgdOfInformer4new0000",bgdOx:.5,bgdOy:.5,dx:0,dy:-22});
a.text.mustTranslateShownText=!1;a.add(a.text);return a};$jscomp.inherits(BricksStorageVisual,BasicStorageVisual);BricksStorageVisual.prototype.showCurrentValue=function(a){var b=Math.sqrt(a/100);for(var c=0;c<this.bricksImgs.length;c++){var d=this.bricksImgs[c],e=b/(1/this.bricksImgs.length);e<c?d.visible=!1:(e>=c+1?d.setScale(1,1):d.setScale(e-c,e-c),d.visible=!0)}0==a?(this.text.showText(""),this.text.visible=!1):(this.text.visible=!0,this.text.showText(window.bottleScreen.utils.showNumberAsText(a)))};
var BricksProducerTentVisual=function(a,b,c,d){c=BasicMachineVisual.call(this,a,b,c,d)||this;c.upgBtnCoords.x=25;c.upgBtnCoords.y=35;c.touchRect=new Phaser.Geom.Rectangle(-320,-185,440,185);c.workerIm=c.scene.add.image(32,-18,"allGraphics2","w001_workerSimple4new0000");c.workerIm.setOrigin(.5,1);c.add(c.workerIm);c.workerIm.setScale(-1,1);c.createdBrickIm=c.scene.add.image(3,-38,"allGraphics2","w001_brick4new0000");c.createdBrickIm.setOrigin(.5,1);c.add(c.createdBrickIm);c.createdBrickIm.visible=
!1;c.outBrickIm=c.scene.add.image(3,-38,"allGraphics2","w001_brick4new0000");c.outBrickIm.setOrigin(.5,1);c.add(c.outBrickIm);c.outBrickIm.visible=!1;c.baseIm=c.scene.add.image(0,-13,"allGraphics2","w001_brickMakerBottom4new0000");c.baseIm.setOrigin(.5,1);c.add(c.baseIm);c.stoneBufferIm=c.scene.add.image(-133,-41,"allGraphics2","w001_roughStone4new0000");c.stoneBufferIm.setOrigin(.5,.5);c.stoneBufferIm.rotation=-.4;c.add(c.stoneBufferIm);c.stoneBufferIm.visible=!1;c.stoneQuantityInf=new TFWithBGD(c.scene,
c,"",c.stoneBufferIm.x,c.stoneBufferIm.y+50,{texKey:"w001_bgdOfInformer4new0000",bgdOx:.5,bgdOy:.5,dx:0,dy:-22});c.stoneQuantityInf.mustTranslateShownText=!1;c.transferredStoneIm=c.scene.add.image(-133,-41,"allGraphics2","w001_roughStone4new0000");c.transferredStoneIm.setOrigin(.5,.5);c.transferredStoneIm.rotation=-.4;c.add(c.transferredStoneIm);c.transferredStoneIm.visible=!1;c.cloudsAnim=new DustCloudsAnim(a,b,3,-38);c.add(c.cloudsAnim);c.sparklesAnim=new SparklesLineAnim(a,b,-20,-38);c.add(c.sparklesAnim);
c.embedVisual(c.cloudsAnim);c.embedVisual(c.sparklesAnim);c.tentIm=c.scene.add.image(0,0,"allGraphics2","w001_tent4new0000");c.tentIm.setOrigin(.5,1);c.add(c.tentIm);a=c.createImageModifier(c.outBrickIm,.8);a.addAnimNode(0,c.outBrickIm.x,c.outBrickIm.y,0,1,1,1,1,1);a.addAnimNode(.25,c.outBrickIm.x+54,c.outBrickIm.y-18,0,1,1,1,1,1);a.addAnimNode(.5,c.outBrickIm.x+143,c.outBrickIm.y+46,0,1,1,1,1,1);a.addAnimNode(.75,c.outBrickIm.x+143,c.outBrickIm.y+46,0,1,1,1,1,1);a.addAnimNode(1,c.outBrickIm.x+143,
c.outBrickIm.y+46,0,1,1,1,1,0);a=c.createImageModifier(c.transferredStoneIm,1);a.addAnimNode(0,c.transferredStoneIm.x,c.transferredStoneIm.y,c.transferredStoneIm.rotation,1,1,1,1,1);a.addAnimNode(.1,c.createdBrickIm.x,c.createdBrickIm.y-30,c.transferredStoneIm.rotation,1,1,1,1,1);a.addAnimNode(1,c.createdBrickIm.x,c.createdBrickIm.y-30,c.transferredStoneIm.rotation,1,1,1,1,0);a=c.createImageModifier(c.createdBrickIm,1);a.addAnimNode(0,c.createdBrickIm.x,c.createdBrickIm.y,0,1,1,1,1,0,1);a.addAnimNode(1,
c.createdBrickIm.x,c.createdBrickIm.y,0,1,1,1,1,1,0,1);a=c.createImageModifier(c.tentIm,.4);a.addAnimNode(.4,0,0,0,1.1,.95);a.addAnimNode(.8,0,0,0,.95,1.1);a=c.createImageModifier(c.workerIm,.6);a.addAnimNode(.4,c.workerIm.x,c.workerIm.y,0,c.workerIm.scaleX,.95);a.addAnimNode(.8,c.workerIm.x,c.workerIm.y,0,c.workerIm.scaleX,1.1);a=c.createImageModifier(c.workerIm,3.6);a.addAnimNode(.4999,c.workerIm.x-50,c.workerIm.y,0,-1);a.addAnimNode(.5,c.workerIm.x-50,c.workerIm.y,0,1);a.addAnimNode(.999,c.workerIm.x,
c.workerIm.y,0,1);c.returnedStoneAnim=new AnimatedImage(c.scene,c.grp,{key:"w001_roughStone4new0000"});c.registerAnimatedImage(c.returnedStoneAnim);c.returnedStoneAnim.placeInCoords(c.stoneBufferIm.x,c.stoneBufferIm.y);return c};$jscomp.inherits(BricksProducerTentVisual,BasicMachineVisual);
BricksProducerTentVisual.prototype.showStoneProcessingCompletion=function(){this.updateStoneProcessingAnimationsAtLambda(1);this.stopAnimId(1);this.stopAnimId(2);this.runAnimId(0,1,0);this.createdBrickIm.visible=!1;this.cloudsAnim.stopAnimations();this.sparklesAnim.stopAnimations();this.stopAnimId(4);this.stopAnimId(5)};
BricksProducerTentVisual.prototype.startStoneProcessing=function(a,b){this.imageModifiers[1].modNodeProperty(1,"lambda",.1/a);this.runAnimId(1,1,0);this.runAnimId(2,1,0);this.stoneBufferIm.visible=0<b;this.showProductionDebris(a);this.runAnimId(4,-1,0);this.runAnimId(5,-1,0)};
BricksProducerTentVisual.prototype.showProductionDebris=function(a){this.cloudsAnim.startAnimations(this.cloudsAnim.x,this.cloudsAnim.y,a,!1);this.sparklesAnim.startAnimations(this.sparklesAnim.x,this.sparklesAnim.y,a,!1);this.sparklesAnim.rotation=-Math.PI/4};BricksProducerTentVisual.prototype.updateStoneProcessingAnimationsAtLambda=function(a){this.setAnimLambda(1,a);this.setAnimLambda(2,a)};BricksProducerTentVisual.prototype.showInputBufferVal=function(a){this.stoneBufferIm.visible=0<a};
BricksProducerTentVisual.prototype.startCloudAnim=function(a,b){this.cloudsAnim.startAnimations(a,b,10,!1)};BricksProducerTentVisual.prototype.startSparklesAnim=function(a,b,c){this.sparklesAnim.startAnimations(a,b,10,!1);this.sparklesAnim.rotation=c};BricksProducerTentVisual.prototype.playReceivingAnimationFrom=function(a,b){this.returnedStoneAnim.startFromPoint(a-this.x,b-this.y)};
BricksProducerTentVisual.prototype.showStoneValue=function(a){0==a?(this.stoneQuantityInf.showText(""),this.stoneBufferIm.visible=!1,this.stoneQuantityInf.visible=!1):(this.stoneQuantityInf.visible=!0,this.stoneQuantityInf.showText(window.bottleScreen.utils.showNumberAsText(a)),this.stoneBufferIm.visible=!0)};
var CraneVisual=function(a,b,c,d){c=BasicMachineVisual.call(this,a,b,c,d)||this;c.touchRect=new Phaser.Geom.Rectangle(-80,-94,160,94);c.elevatorVis=new ElevatorOfBricks(a,b,0,0);c.embedVisual(c.elevatorVis);c.add(c.elevatorVis);c.elevatorVis.visible=!0;c.elevatorVis.x=-20;c.elevatorVis.setScale(1,1);c.elevatorVis.setNewDist2Floor(50);c.currentlyBuiltPart=new BuiltCraneVisual(a,b,0,0);c.add(c.currentlyBuiltPart);c.humanWithCart=new HumanWithCart(a,b,0,0,"w001_plank4new0000");c.humanWithCart.setScale(-1,
1);c.humanWithCart.hideBrick();c.add(c.humanWithCart);c.humanWithCart.alpha=0;c.humanWithManifest=new HumanManifestation(a,b,-30,20);c.add(c.humanWithManifest);c.embedVisual(c.humanWithManifest);c.humanWithManifest.visible=!1;c.sectionsImgs=[];c.animWaves=[];a=c.createImageModifier(c.humanWithCart,10);a.addAnimNode(0,c.humanWithCart.x,c.humanWithCart.y,0,-1,1,0,0,0);a.addAnimNode(.1,c.humanWithCart.x,c.humanWithCart.y,0,-1,1,0,0,1);a.addAnimNode(1,c.humanWithCart.x-100,c.humanWithCart.y+200,0,-1);
a=c.createImageModifier(c.humanWithCart,10);a.addAnimNode(0,c.humanWithCart.x-100,c.humanWithCart.y+200);a.addAnimNode(.9,c.humanWithCart.x+1,c.humanWithCart.y);a.addAnimNode(1,c.humanWithCart.x+1,c.humanWithCart.y,0,1,1,0,0,0);return c};$jscomp.inherits(CraneVisual,BasicMachineVisual);CraneVisual.prototype.addBricks=function(a){this.currentlyBuiltPart.addNewBrick()};CraneVisual.prototype.getNumBrick2CompleteStorey=function(){return this.currentlyBuiltPart.getNumBrick2CompleteStorey()};
CraneVisual.prototype.fixNewStorageBuildCompletion=function(a){this.currentlyBuiltPart.resetAtNewHeight(a);var b=this.currentlyBuiltPart.getWallH(),c=this.scene.add.image(0,-a*b+5,"allGraphics2","w001_craneBlock4new0000");c.setOrigin(.5,1);this.add(c);this.sectionsImgs.push(c);this.touchRect.top-=b;this.elevatorVis.visible=!0;this.elevatorVis.y=-(a+1)*b-10;this.elevatorVis.setNewDist2Floor(Math.abs(-a*b)+82);this.bringToTop(this.elevatorVis);this.bringToTop(this.humanWithCart);this.bringToTop(this.humanWithManifest)};
CraneVisual.prototype.startHumanMove=function(a){this.humanWithCart.setScale(-1,1);this.humanWithCart.hideBrick();this.setAnimLength(0,a);this.runAnimId(0,1,0)};CraneVisual.prototype.startHumanBackMove=function(a,b){this.humanWithCart.setScale(1,1);0<b&&this.humanWithCart.showBrick();this.setAnimLength(1,a);this.runAnimId(1,1,0)};CraneVisual.prototype.startElevatorMove=function(a,b,c){this.elevatorVis.visible&&this.elevatorVis.startMovingUp(a,b,c)};CraneVisual.prototype.stopMovingUpAnimation=function(){this.elevatorVis.stopMovingUpAnimation()};
CraneVisual.prototype.updateElevatorAnimationsAtLambda=function(a,b){this.elevatorVis.updateElevatorAnimationsAtLambda(a,b)};CraneVisual.prototype.startElevatorMoveDown=function(a){this.elevatorVis.visible&&this.elevatorVis.startMovingDown()};CraneVisual.prototype.startManifestation=function(a){this.humanWithManifest.showPhrase(a);this.humanWithManifest.startAnimation();this.humanWithManifest.visible=!0};
CraneVisual.prototype.stopManifestation=function(a){this.humanWithManifest.stopAnimation();this.humanWithManifest.visible=!1};CraneVisual.prototype.doAnimations=function(a){BasicMachineVisual.prototype.doAnimations.call(this,a);this.humanWithCart.doAnimations(a);for(var b=0;b<this.animWaves.length;b++)this.animWaves[b].doStep(a)};
CraneVisual.prototype.startWave=function(){for(var a=null,b=0;b<this.animWaves.length;b++)if(!this.animWaves[b].isAnimationRunning){a=this.animWaves[b];break}a||(a=new WaveMover(this.sectionsImgs),this.animWaves.push(a));a.startAnimation()};
var WoodStorageVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.touchRect=new Phaser.Geom.Rectangle(-110,-120,220,170);a.bricksImgs=[];a.brCoords=[{x:-37,y:0},{x:0,y:0},{x:37,y:0},{x:-16,y:-30},{x:16,y:-30},{x:0,y:-60}];for(b=0;b<a.brCoords.length;b++)c=a.scene.add.image(a.brCoords[b].x,a.brCoords[b].y,"allGraphics2","w001_wood4new0000"),c.setOrigin(.5,1),a.bricksImgs.push(c),a.add(c),c.visible=!1;a.draggedStonePiece=a.scene.add.image(0,0,"allGraphics2","w001_wood4new0000");
a.add(a.draggedStonePiece);a.draggedStonePiece.visible=!1;a.text=new TFWithBGD(a.scene,a.grp,"",0,32,{texKey:"w001_bgdOfInformer4new0000",bgdOx:.5,bgdOy:.5,dx:0,dy:-22});a.text.mustTranslateShownText=!1;a.add(a.text);a.returnedStoneAnim=new AnimatedImage(a.scene,a.grp,{key:"w001_wood4new0000"});a.registerAnimatedImage(a.returnedStoneAnim);a.upMoveDx=0;a.upMoveDy=-1;return a};$jscomp.inherits(WoodStorageVisual,BasicMachineVisual);
WoodStorageVisual.prototype.doAnimations=function(a){BasicMachineVisual.prototype.doAnimations.call(this,a);this.draggedStonePiece.visible&&(this.draggedStonePiece.y+=500*this.upMoveDy*a,this.draggedStonePiece.x+=500*this.upMoveDx*a)};WoodStorageVisual.prototype.returnDraggedVal=function(){this.returnedStoneAnim.startFromPoint(this.draggedStonePiece.x,this.draggedStonePiece.y);this.draggedStonePiece.visible=!1};WoodStorageVisual.prototype.dropDraggedVal=function(){this.draggedStonePiece.visible=!1};
WoodStorageVisual.prototype.showDraggedVal=function(){this.draggedStonePiece.visible=!0;this.draggedStonePiece.x=0;this.draggedStonePiece.y=0};WoodStorageVisual.prototype.showValDragging=function(a,b){this.draggedStonePiece.x=a-this.x;this.draggedStonePiece.y=b-this.y};WoodStorageVisual.prototype.getWorldXOfDraggedStone=function(){return this.draggedStonePiece.x+this.x};WoodStorageVisual.prototype.getWorldYOfDraggedStone=function(){return this.draggedStonePiece.y+this.y};
WoodStorageVisual.prototype.showCurrentValue=function(a){var b=Math.sqrt(a/100);for(var c=0;c<this.bricksImgs.length;c++){var d=this.bricksImgs[c],e=b/(1/this.bricksImgs.length);e<c?d.visible=!1:(e>=c+1?d.setScale(1,1):d.setScale(e-c,e-c),d.visible=!0)}0==a?(this.text.showText(""),this.text.visible=!1):(this.text.visible=!0,this.text.showText(window.bottleScreen.utils.showNumberAsText(a)))};
var PlanksStorageVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.touchRect=new Phaser.Geom.Rectangle(-120,-85,240,85);a.bricksImgs=[];b=[{x:0,y:0},{x:0,y:-18},{x:0,y:-36},{x:0,y:-54},{x:0,y:-72},{x:0,y:-90}];for(c=0;c<b.length;c++)d=a.scene.add.image(b[c].x,b[c].y,"allGraphics2","w001_plank4new0000"),d.setOrigin(.5,1),a.bricksImgs.push(d),a.add(d),d.visible=!1;a.text=new TFWithBGD(a.scene,a.grp,"",0,32,{texKey:"w001_bgdOfInformer4new0000",bgdOx:.5,bgdOy:.5,dx:0,dy:-22});a.text.mustTranslateShownText=
!1;a.add(a.text);return a};$jscomp.inherits(PlanksStorageVisual,BasicMachineVisual);PlanksStorageVisual.prototype.showCurrentValue=function(a){var b=Math.sqrt(a/100);for(var c=0;c<this.bricksImgs.length;c++){var d=this.bricksImgs[c],e=b/(1/this.bricksImgs.length);e<c?d.visible=!1:(e>=c+1?d.setScale(1,1):d.setScale(e-c,e-c),d.visible=!0)}0==a?(this.text.showText(""),this.text.visible=!1):(this.text.visible=!0,this.text.showText(window.bottleScreen.utils.showNumberAsText(a)))};
var WaterWellVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.touchRect=new Phaser.Geom.Rectangle(-150,-120,300,200);a.wellBack=a.scene.add.image(-12,-62,"allGraphics2","w001_waterWellBack4new0000");a.wellBack.setOrigin(.5,.5);a.add(a.wellBack);a.waterIm=a.scene.add.image(-12,-55,"allGraphics2","w001_waterWellWater4new0000");a.waterIm.setOrigin(.5,.5);a.add(a.waterIm);a.waterImY0=a.waterIm.y;a.wellFront=a.scene.add.image(-13,-26,"allGraphics2","w001_waterWellFront4new0000");
a.wellFront.setOrigin(.5,.5);a.add(a.wellFront);a.draggedStonePiece=a.scene.add.image(0,0,"allGraphics2","w001_waterBucket4new0000");a.draggedStonePiece.setOrigin(.5,.5);a.add(a.draggedStonePiece);a.draggedStonePiece.visible=!1;a.returnedStoneAnim=new AnimatedImage(a.scene,a.grp,{key:"w001_waterBucketEmpty4new0000",mode:"withRotation"});a.registerAnimatedImage(a.returnedStoneAnim);return a};$jscomp.inherits(WaterWellVisual,BasicMachineVisual);
WaterWellVisual.prototype.returnDraggedVal=function(){this.returnedStoneAnim.startFromPoint(this.draggedStonePiece.x,this.draggedStonePiece.y);this.draggedStonePiece.visible=!1};WaterWellVisual.prototype.dropDraggedVal=function(){this.returnedStoneAnim.startFromPoint(this.draggedStonePiece.x,this.draggedStonePiece.y);this.draggedStonePiece.visible=!1};WaterWellVisual.prototype.showDraggedVal=function(){this.draggedStonePiece.visible=!0;this.draggedStonePiece.x=0;this.draggedStonePiece.y=0};
WaterWellVisual.prototype.showValDragging=function(a,b){this.draggedStonePiece.x=a-this.x;this.draggedStonePiece.y=b-this.y};WaterWellVisual.prototype.showWaterLevel=function(a,b){a/=b;0>a&&(a=0);1<a&&(a=1);this.waterIm.y=this.waterImY0+31*(1-a)};WaterWellVisual.prototype.getWorldXOfDraggedStone=function(){return this.draggedStonePiece.x+this.x};WaterWellVisual.prototype.getWorldYOfDraggedStone=function(){return this.draggedStonePiece.y+this.y};
var ForestVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.touchRect=new Phaser.Geom.Rectangle(-275,-250,550,270);a.upgBtnCoords.y=-287;a.treesCoords=[{x:207,y:-95},{x:-151,y:-90},{x:-11,y:-85},{x:135,y:-85},{x:-117,y:-78},{x:66,y:-68},{x:-222,y:-71},{x:170,y:-70},{x:242,y:-64},{x:22,y:-65},{x:-79,y:-64},{x:106,y:-52},{x:-37,y:-52},{x:-179,y:-57},{x:197,y:-45},{x:-170,y:-34},{x:-138,y:-22},{x:-28,y:-33},{x:121,y:-32},{x:-241,y:-21},{x:157,y:-19},{x:8,y:-16},{x:-202,y:-7},{x:233,
y:-15},{x:52,y:-8},{x:93,y:-8},{x:-98,y:2},{x:-58,y:-6}];a.forestGrp=a.scene.add.container();a.add(a.forestGrp);a.img=a.scene.add.image(0,26,"allGraphics2","w001_forestHill4new0000");a.img.setOrigin(.5,1);a.img.tint=7661958;a.forestGrp.add(a.img);a.treemsImgs=[];a.stumpsImgs=[];for(b=0;b<a.treesCoords.length;b++)c=a.scene.add.image(a.treesCoords[b].x,a.treesCoords[b].y,"allGraphics2","w001_singleTreeStump4new0000"),c.setOrigin(.5,1),a.stumpsImgs.push(c),a.forestGrp.add(c),c.visible=!1,c=a.scene.add.image(a.treesCoords[b].x,
a.treesCoords[b].y,"allGraphics2","w001_singleTree4new0000"),c.setOrigin(.5,1),a.treemsImgs.push(c),a.forestGrp.add(c);a.oldVisTrees=a.treemsImgs.length;a.brick=a.scene.add.image(0,0,"allGraphics2","w001_wood4new0000");a.brick.setOrigin(.5,.5);a.brick.alpha=0;a.add(a.brick);b=a.createImageModifier(a.forestGrp,.4);b.addAnimNode(.4,a.forestGrp.x,a.forestGrp.y,0,1.02,.95,.1);b.addAnimNode(.8,a.forestGrp.x,a.forestGrp.y,0,.95,1.1,-.1);b=a.createImageModifier(a.brick,.8);b.addAnimNode(0,0,0,0,1,1,1,1,
0);b.addAnimNode(.25,50,-152,Math.PI,1,1,1,1,1);b.addAnimNode(.5,160,127,2*Math.PI,1,1,1,1,1);b.addAnimNode(.8,160,127,2*Math.PI,1,1,1,1,1);b.addAnimNode(1,160,127,2*Math.PI,1,1,1,1,0);a.humanAnims=[];a.humansCoords=[{x:-307,y:2,scl:1},{x:-169,y:-8,scl:1},{x:-30,y:0,scl:1},{x:-237,y:26,scl:1},{x:-106,y:26,scl:1},{x:114,y:-5,scl:1},{x:22,y:46,scl:1},{x:183,y:21,scl:1}];return a};$jscomp.inherits(ForestVisual,BasicMachineVisual);
ForestVisual.prototype.showWoodValue=function(a,b){a/=b;0>a&&(a=0);1<a&&(a=1);a=Math.round(a*this.treemsImgs.length);if(a!=this.oldVisTrees){if(a<this.oldVisTrees){for(b=this.oldVisTrees-1;b>=a;b--)this.stumpsImgs[b].visible=!0,this.treemsImgs[b].visible=!1;if(0==a)for(b=0;b<this.humanAnims.length;b++)this.humanAnims[b].pauseAnimations()}else{for(b=this.oldVisTrees;b<a;b++)this.treemsImgs[b].visible=!0,this.stumpsImgs[b].visible=!1;if(0==this.oldVisTrees)for(b=0;b<this.humanAnims.length;b++)this.humanAnims[b].resumeAnimations()}this.oldVisTrees=
a}};ForestVisual.prototype.showMisleadTreeGrowth=function(a){if(this.oldVisTrees<this.treemsImgs.length-1&&(this.treemsImgs[this.oldVisTrees].visible=!0,this.stumpsImgs[this.oldVisTrees].visible=!1,this.oldVisTrees++,1==this.oldVisTrees))for(var b=0;b<this.humanAnims.length;b++)this.humanAnims[b].resumeAnimations();this.lastInterfaceUpdateMoment=a};
ForestVisual.prototype.createMiners=function(a){for(var b=this.humanAnims.length,c=0;c<a;c++){var d=(b+c)%this.humansCoords.length,e=new HumanWithAxe(this.scene,this,this.humansCoords[d].x,this.humansCoords[d].y);e.setScale(this.humansCoords[d].scl,1);this.embedVisual(e);this.humanAnims.push(e)}};
var LumbermillVisual=function(a,b,c,d){c=BasicMachineVisual.call(this,a,b,c,d)||this;c.upgBtnCoords.x=0;c.upgBtnCoords.y=35;c.touchRect=new Phaser.Geom.Rectangle(-320,-150,500,300);c.workerIm=c.scene.add.image(32,-18,"allGraphics2","w001_workerSimple4new0000");c.workerIm.setOrigin(.5,1);c.add(c.workerIm);c.workerIm.setScale(-1,1);c.createdBrickIm=c.scene.add.image(-10,-35,"allGraphics2","w001_plank4new0000");c.createdBrickIm.setOrigin(.5,1);c.add(c.createdBrickIm);c.createdBrickIm.visible=!1;c.createdBrickIm.rotation=
.5;c.outBrickIm=c.scene.add.image(-10,-35,"allGraphics2","w001_plank4new0000");c.outBrickIm.setOrigin(.5,1);c.add(c.outBrickIm);c.outBrickIm.visible=!1;c.outBrickIm.rotation=.5;c.baseBackIm=c.scene.add.image(-11,-21,"allGraphics2","w001_plankSawBack4new0000");c.baseBackIm.setOrigin(.5,1);c.add(c.baseBackIm);c.sawIm=c.scene.add.image(-20,-36,"allGraphics2","w001_plankSawSaw4new0000");c.sawIm.setOrigin(.5,.5);c.add(c.sawIm);c.baseIm=c.scene.add.image(4,0,"allGraphics2","w001_plankSawFront4new0000");
c.baseIm.setOrigin(.5,1);c.add(c.baseIm);c.stoneBufferIm=c.scene.add.image(120,-4,"allGraphics2","w001_wood4new0000");c.stoneBufferIm.setOrigin(.5,.5);c.add(c.stoneBufferIm);c.stoneBufferIm.visible=!1;c.stoneQuantityInf=new TFWithBGD(c.scene,c,"",c.stoneBufferIm.x,c.stoneBufferIm.y+50,{texKey:"w001_bgdOfInformer4new0000",bgdOx:.5,bgdOy:.5,dx:0,dy:-22});c.stoneQuantityInf.mustTranslateShownText=!1;c.transferredStoneIm=c.scene.add.image(54,-28,"allGraphics2","w001_wood4new0000");c.transferredStoneIm.setOrigin(.5,
.5);c.add(c.transferredStoneIm);c.transferredStoneIm.visible=!1;c.cloudsAnim=new DustCloudsAnim(a,b,3,-38);c.add(c.cloudsAnim);c.sparklesAnim=new SparklesLineAnim(a,b,-20,-38);c.add(c.sparklesAnim);c.embedVisual(c.cloudsAnim);c.embedVisual(c.sparklesAnim);c.tentIm=c.scene.add.image(0,20,"allGraphics2","w001_tent4new0000");c.tentIm.setOrigin(.5,1);c.add(c.tentIm);a=c.createImageModifier(c.outBrickIm,.8);a.addAnimNode(0,c.outBrickIm.x,c.outBrickIm.y,c.outBrickIm.rotation,1,1,1,1,1);a.addAnimNode(.25,
c.outBrickIm.x-90,c.outBrickIm.y-18,.5*c.outBrickIm.rotation,1,1,1,1,1);a.addAnimNode(.5,c.outBrickIm.x-162,c.outBrickIm.y+54,0,1,1,1,1,1);a.addAnimNode(.75,c.outBrickIm.x-162,c.outBrickIm.y+54,0,1,1,1,1,1);a.addAnimNode(1,c.outBrickIm.x-162,c.outBrickIm.y+54,0,1,1,1,1,0);a=c.createImageModifier(c.transferredStoneIm,1);a.addAnimNode(0,c.stoneBufferIm.x,c.stoneBufferIm.y,c.transferredStoneIm.rotation,1,1,1,1,1);a.addAnimNode(.1,c.transferredStoneIm.x,c.transferredStoneIm.y,c.transferredStoneIm.rotation,
1,1,1,1,1);a.addAnimNode(1,c.createdBrickIm.x,c.createdBrickIm.y,c.transferredStoneIm.rotation,1,1,1,1,0);a=c.createImageModifier(c.createdBrickIm,1);a.addAnimNode(0,c.createdBrickIm.x,c.createdBrickIm.y,0,1,1,1,1,0,1);a.addAnimNode(1,c.createdBrickIm.x,c.createdBrickIm.y,0,1,1,1,1,1,0,1);a=c.createImageModifier(c.tentIm,.4);a.addAnimNode(.4,0,0,0,1.1,.95);a.addAnimNode(.8,0,0,0,.95,1.1);a=c.createImageModifier(c.workerIm,.6);a.addAnimNode(.4,c.workerIm.x,c.workerIm.y,0,c.workerIm.scaleX,.95);a.addAnimNode(.8,
c.workerIm.x,c.workerIm.y,0,c.workerIm.scaleX,1.1);a=c.createImageModifier(c.workerIm,3.6);a.addAnimNode(.4999,c.workerIm.x-50,c.workerIm.y,0,-1);a.addAnimNode(.5,c.workerIm.x-50,c.workerIm.y,0,1);a.addAnimNode(.999,c.workerIm.x,c.workerIm.y,0,1);a=c.createImageModifier(c.sawIm,.6);a.addAnimNode(.4,c.workerIm.x,c.workerIm.y,0,c.workerIm.scaleX,.95);a.addAnimNode(.8,c.workerIm.x,c.workerIm.y,0,c.workerIm.scaleX,1.1);c.returnedStoneAnim=new AnimatedImage(c.scene,c.grp,{key:"w001_wood4new0000"});c.registerAnimatedImage(c.returnedStoneAnim);
c.returnedStoneAnim.placeInCoords(c.stoneBufferIm.x,c.stoneBufferIm.y);return c};$jscomp.inherits(LumbermillVisual,BasicMachineVisual);LumbermillVisual.prototype.showStoneProcessingCompletion=function(){this.updateStoneProcessingAnimationsAtLambda(1);this.stopAnimId(1);this.stopAnimId(2);this.runAnimId(0,1,0);this.createdBrickIm.visible=!1;this.cloudsAnim.stopAnimations();this.sparklesAnim.stopAnimations();this.stopAnimId(4);this.stopAnimId(5)};
LumbermillVisual.prototype.startStoneProcessing=function(a,b){this.imageModifiers[1].modNodeProperty(1,"lambda",.1/a);this.runAnimId(1,1,0);this.runAnimId(2,1,0);this.stoneBufferIm.visible=0<b;this.showProductionDebris(a);this.runAnimId(4,-1,0);this.runAnimId(5,-1,0)};
LumbermillVisual.prototype.showProductionDebris=function(a){this.cloudsAnim.startAnimations(this.cloudsAnim.x,this.cloudsAnim.y,a,!1);this.sparklesAnim.startAnimations(this.sparklesAnim.x,this.sparklesAnim.y,a,!1);this.sparklesAnim.rotation=-Math.PI/4-Math.PI/2};LumbermillVisual.prototype.updateStoneProcessingAnimationsAtLambda=function(a){this.setAnimLambda(1,a);this.setAnimLambda(2,a)};LumbermillVisual.prototype.showInputBufferVal=function(a){this.stoneBufferIm.visible=0<a};
LumbermillVisual.prototype.startCloudAnim=function(a,b){this.cloudsAnim.startAnimations(a,b,10,!1)};LumbermillVisual.prototype.startSparklesAnim=function(a,b,c){this.sparklesAnim.startAnimations(a,b,10,!1);this.sparklesAnim.rotation=c};LumbermillVisual.prototype.playReceivingAnimationFrom=function(a,b){this.returnedStoneAnim.startFromPoint(a-this.x,b-this.y)};
LumbermillVisual.prototype.showStoneValue=function(a){0==a?(this.stoneQuantityInf.showText(""),this.stoneBufferIm.visible=!1,this.stoneQuantityInf.visible=!1):(this.stoneQuantityInf.showText(window.bottleScreen.utils.showNumberAsText(a)),this.stoneQuantityInf.visible=!0,this.stoneBufferIm.visible=!0)};
var WaterPumpVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.touchRect=new Phaser.Geom.Rectangle(-80,-130,160,130);a.upgBtnCoords.x=0;a.upgBtnCoords.y=-200;a.hoseCoords=[{x:97,y:3,r:Math.PI/2},{x:95,y:-16,r:99},{x:88,y:-32,r:99},{x:74,y:-39,r:99},{x:57,y:-37,r:-Math.PI/6},{x:-56,y:-24,r:.1},{x:-74,y:-30,r:99},{x:-86,y:-43,r:99},{x:-91,y:-62,r:99},{x:-98,y:-79,r:99},{x:-111,y:-90,r:99},{x:-130,y:-96,r:.2}];a.leftWorkerIm=a.scene.add.image(-53,-25,"allGraphics2","w001_workerSimple4new0000").setOrigin(.5,
1);a.rightWorkerIm=a.scene.add.image(58,-27,"allGraphics2","w001_workerSimple4new0000").setOrigin(.5,1).setScale(-1,1);a.leftPusherIm=a.scene.add.image(-22,-66,"allGraphics2","w001_pumpPusher4new0000").setOrigin(.5,0);a.rightPusherIm=a.scene.add.image(22,-67,"allGraphics2","w001_pumpPusher4new0000").setOrigin(.5,0);a.botIm=a.scene.add.image(2,-3,"allGraphics2","w001_pumpBottom4new0000").setOrigin(.5,.5);a.axleIm=a.scene.add.image(0,-58,"allGraphics2","w001_pumpAxle4new0000").setOrigin(.5,.5);a.levelIm=
a.scene.add.image(0,-68,"allGraphics2","w001_pumpLever4new0000").setOrigin(.5,.5);a.leftTankIm=a.scene.add.image(-24,-31,"allGraphics2","w001_pumpTankLeft4new0000").setOrigin(.5,.5);a.rightTankIm=a.scene.add.image(26,-31,"allGraphics2","w001_pumpTankRight4new0000").setOrigin(.5,.5);a.add(a.leftWorkerIm);a.add(a.rightWorkerIm);a.add(a.leftPusherIm);a.add(a.rightPusherIm);a.add(a.botIm);a.add(a.axleIm);a.add(a.levelIm);a.add(a.leftTankIm);a.add(a.rightTankIm);a.hoseSegments=[];for(b=0;b<a.hoseCoords.length;b++)c=
a.hoseCoords[b],d=a.scene.add.image(c.x,c.y,"allGraphics2","w001_hoseSegment4new0000").setOrigin(.5,.5),a.hoseSegments.push(d),a.add(d),d.rotation=99==c.r?Math.atan2(a.hoseSegments[b-1].y-c.y,a.hoseSegments[b-1].x-c.x):c.r;a.hoseEndIm=a.scene.add.image(-141,-97,"allGraphics2","w001_hoseEnd4new0000").setOrigin(.75,.5);a.hoseSegments.push(a.hoseEndIm);a.waterIm=a.scene.add.image(-157,-97,"allGraphics2","w001_waterFromHose4new0000").setOrigin(1,.5);a.waterIm.scaleX=0;a.add(a.hoseEndIm);a.add(a.waterIm);
a.sectionsImgs=[];a.animWaves=[];for(b=0;5>b;b++)a.sectionsImgs.push(a.hoseSegments[b]);for(b=5;b<a.hoseSegments.length;b++)a.sectionsImgs.push(a.hoseSegments[b]);b=a.createImageModifier(a.levelIm,2);b.addAnimNode(.25,a.levelIm.x,a.levelIm.y,Math.PI/12);b.addAnimNode(.75,a.levelIm.x,a.levelIm.y,-Math.PI/12);b.startAnimation(-1,0);b=a.createImageModifier(a.leftPusherIm,2);b.addAnimNode(.25,a.leftPusherIm.x,a.leftPusherIm.y-7);b.addAnimNode(.75,a.leftPusherIm.x,a.leftPusherIm.y+7);b.startAnimation(-1,
0);b=a.createImageModifier(a.rightPusherIm,2);b.addAnimNode(.25,a.rightPusherIm.x,a.leftPusherIm.y+7);b.addAnimNode(.75,a.rightPusherIm.x,a.leftPusherIm.y-7);b.startAnimation(-1,0);b=a.createImageModifier(a.leftWorkerIm,2);b.addAnimNode(.25,a.leftWorkerIm.x,a.leftWorkerIm.y-14,0,a.leftWorkerIm.scaleX);b.addAnimNode(.75,a.leftWorkerIm.x,a.leftWorkerIm.y+14,0,a.leftWorkerIm.scaleX);b.startAnimation(-1,0);b=a.createImageModifier(a.rightWorkerIm,2);b.addAnimNode(.25,a.rightWorkerIm.x,a.rightWorkerIm.y+
14,0,a.rightWorkerIm.scaleX);b.addAnimNode(.75,a.rightWorkerIm.x,a.rightWorkerIm.y-14,0,a.rightWorkerIm.scaleX);b.startAnimation(-1,0);b=a.createImageModifier(a.leftTankIm,2);b.addAnimNode(.25,a.leftTankIm.x,a.leftTankIm.y,0,a.leftTankIm.scaleX);b.addAnimNode(.75,a.leftTankIm.x,a.leftTankIm.y,0,1.1*a.leftTankIm.scaleX);b.startAnimation(-1,0);b=a.createImageModifier(a.rightTankIm,2);b.addAnimNode(.25,a.rightTankIm.x,a.rightTankIm.y,0,1.1*a.rightTankIm.scaleX);b.addAnimNode(.75,a.rightTankIm.x,a.rightTankIm.y,
0,a.rightTankIm.scaleX);b.startAnimation(-1,0);b=a.createImageModifier(a.waterIm,.5);b.addAnimNode(.25,a.waterIm.x,a.waterIm.y,0,1);b.addAnimNode(.75,a.waterIm.x-30,a.waterIm.y,0,0);b.startAnimation(-1,0);a.timeAfterLastWave=0;b=a.createImageModifier(a.leftTankIm,.3);b.addAnimNode(.5,a.leftTankIm.x,a.leftTankIm.y,0,a.leftTankIm.scaleX,1.2);b=a.createImageModifier(a.rightTankIm,.3);b.addAnimNode(.5,a.rightTankIm.x,a.rightTankIm.y,0,a.rightTankIm.scaleX,1.2);b=a.createImageModifier(a.botIm,.3);b.addAnimNode(.5,
a.botIm.x,a.botIm.y,0,1.1*a.botIm.scaleX,1.5);return a};$jscomp.inherits(WaterPumpVisual,BasicMachineVisual);WaterPumpVisual.prototype.doAnimations=function(a){BasicMachineVisual.prototype.doAnimations.call(this,a);for(var b=0;b<this.animWaves.length;b++)this.animWaves[b].doStep(a);this.timeAfterLastWave+=a;2<this.timeAfterLastWave&&(this.startWave(),this.timeAfterLastWave-=2)};
WaterPumpVisual.prototype.startWave=function(){for(var a=null,b=0;b<this.animWaves.length;b++)if(!this.animWaves[b].isAnimationRunning){a=this.animWaves[b];break}a||(a=new WaveMover(this.sectionsImgs),a.animationSpeedCoef=this.sectionsImgs.length/2,a.sectionSizeAddCoef=.5,this.animWaves.push(a));a.startAnimation()};
var MainBabelTowerVisual=function(a,b,c,d){c=BasicMachineVisual.call(this,a,b,c,d)||this;c.touchRect=new Phaser.Geom.Rectangle(-30,100,560,100);c.currentlyBuiltPart=new BuiltTowerVisual(a,b,0,-15);c.add(c.currentlyBuiltPart);d=c.scene.add.image(-15,0,"allGraphics2","w001_floorBasement4new0000");d.setOrigin(0,1);c.add(d);c.leftGrass=c.scene.add.image(25,11,"allGraphics2","w001_grassPart4new0000");c.leftGrass.setOrigin(.5,1);c.add(c.leftGrass);c.rightGrass=c.scene.add.image(c.leftGrass.x+490,c.leftGrass.y,
"allGraphics2","w001_grassPart4new0000");c.rightGrass.setOrigin(.5,1);c.rightGrass.setScale(-1,1);c.add(c.rightGrass);c.humanWithCart=new HumanWithCart(a,b,550,0,"w001_brick4new0000");c.humanWithCart.setScale(-1,1);c.humanWithCart.hideBrick();c.add(c.humanWithCart);c.humanWithCart.alpha=0;c.humanWithManifest=new HumanManifestation(a,b,350,20);c.add(c.humanWithManifest);c.embedVisual(c.humanWithManifest);c.humanWithManifest.visible=!1;c.openedWindow=new OpenedWindow(c.scene,b,0,0);c.add(c.openedWindow);
c.embedVisual(c.openedWindow);c.windowsCoords=[];a=c.createImageModifier(c.humanWithCart,10);a.addAnimNode(0,c.humanWithCart.x,c.humanWithCart.y,0,-1,1,0,0,0);a.addAnimNode(.1,c.humanWithCart.x,c.humanWithCart.y,0,-1,1,0,0,1);a.addAnimNode(1,c.humanWithCart.x-100,c.humanWithCart.y+200,0,-1);a=c.createImageModifier(c.humanWithCart,10);a.addAnimNode(0,c.humanWithCart.x-100,c.humanWithCart.y+200);a.addAnimNode(.9,c.humanWithCart.x+1,c.humanWithCart.y);a.addAnimNode(1,c.humanWithCart.x+1,c.humanWithCart.y,
0,1,1,0,0,0);return c};$jscomp.inherits(MainBabelTowerVisual,BasicMachineVisual);MainBabelTowerVisual.prototype.addBricks=function(a){this.currentlyBuiltPart.addNewBrick()};MainBabelTowerVisual.prototype.getNumBrick2CompleteStorey=function(){return this.currentlyBuiltPart.getNumBrick2CompleteStorey()};MainBabelTowerVisual.prototype.getStoreyFloorY=function(a){return-a*(this.currentlyBuiltPart.getWallH()+15)};
MainBabelTowerVisual.prototype.fixNewStorageBuildCompletion=function(a){this.currentlyBuiltPart.resetAtNewHeight(a);var b=this.scene.add.image(0,this.getStoreyFloorY(a)-15,"allGraphics2","w001_completeWall4new0000");b.setOrigin(0,1);this.add(b);if(0==a){var c=this.scene.add.image(b.x+310,b.y+0,"allGraphics2","w001_groundDoor4new0000");c.setOrigin(0,1);this.add(c);b=this.scene.add.image(b.x+168,b.y-129,"allGraphics2","w001_groundWindow4new0000");b.setOrigin(.5,.5);this.add(b);this.bringToTop(this.leftGrass);
this.bringToTop(this.rightGrass)}else 6!=a&&(c={x:b.x+140,y:b.y-116},this.windowsCoords.push(c),c=this.scene.add.image(c.x,c.y,"allGraphics2","w001_roundWindow4new0000"),c.setOrigin(.5,.5),this.add(c)),c={x:b.x+409,y:b.y-116},this.windowsCoords.push(c),b=this.scene.add.image(c.x,c.y,"allGraphics2","w001_roundWindow4new0000"),b.setOrigin(.5,.5),this.add(b);this.bringToTop(this.humanWithCart);this.bringToTop(this.humanWithManifest);this.bringToTop(this.openedWindow);b=this.scene.add.image(-15,-(a+1)*
(this.currentlyBuiltPart.getWallH()+15),"allGraphics2","w001_floorBasement4new0000");b.setOrigin(0,1);this.add(b);this.touchRect.top-=this.currentlyBuiltPart.getWallH()+15};MainBabelTowerVisual.prototype.showOpenedWindow=function(a,b){if(!this.openedWindow.isShowing&&0<this.windowsCoords.length){var c=this.windowsCoords[Math.floor(Math.random()*this.windowsCoords.length)];this.openedWindow.startShowing(c.x,c.y,a,b)}};
MainBabelTowerVisual.prototype.hasTappedOnSecretGold=function(a,b){a-=this.x;b-=this.y;var c=!1;this.openedWindow.isShowing&&this.openedWindow.hasPurse&&(a-=this.openedWindow.x,b-=this.openedWindow.y-31,c=1600>=a*a+b*b);return c};MainBabelTowerVisual.prototype.showGoldGrab=function(a,b){this.openedWindow.showGoldGrab()};MainBabelTowerVisual.prototype.startHumanMove=function(a){this.humanWithCart.setScale(-1,1);this.humanWithCart.hideBrick();this.setAnimLength(0,a);this.runAnimId(0,1,0)};
MainBabelTowerVisual.prototype.startHumanBackMove=function(a,b){this.humanWithCart.setScale(1,1);0<b&&this.humanWithCart.showBrick();this.setAnimLength(1,a);this.runAnimId(1,1,0)};MainBabelTowerVisual.prototype.startManifestation=function(a){this.humanWithManifest.showPhrase(a);this.humanWithManifest.startAnimation();this.humanWithManifest.visible=!0};MainBabelTowerVisual.prototype.stopManifestation=function(a){this.humanWithManifest.stopAnimation();this.humanWithManifest.visible=!1};
MainBabelTowerVisual.prototype.doAnimations=function(a){BasicMachineVisual.prototype.doAnimations.call(this,a);this.humanWithCart.doAnimations(a)};
var HumanWithCart=function(a,b,c,d,e){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.humanIm=a.scene.add.image(0,0,"allGraphics2","w001_workerSimple4new0000");a.humanIm.setOrigin(.5,1);a.add(a.humanIm);e=e?e:"w001_brick4new0000";b=-5;c=0;"w001_brick4new0000"==e&&(b=-33);"w001_plank4new0000"==e&&(b=-60,c=-Math.PI/3);"w001_wood4new0000"==e&&(b=-25,c=Math.PI/4);a.brickIm=a.scene.add.image(66,b,"allGraphics2",e);a.brickIm.setOrigin(.5,1);a.brickIm.rotation=c;a.add(a.brickIm);a.cartIm=a.scene.add.image(8,
-41,"allGraphics2","w001_cart4new0000");a.cartIm.setOrigin(0,0);a.add(a.cartIm);e=a.createImageModifier(a.humanIm,.5);e.addAnimNode(.2,a.humanIm.x,a.humanIm.y-15);e.addAnimNode(.4,a.humanIm.x,a.humanIm.y);e.startAnimation(-1,0);return a};$jscomp.inherits(HumanWithCart,BasicMachineVisual);HumanWithCart.prototype.hideBrick=function(){this.brickIm.visible=!1};HumanWithCart.prototype.showBrick=function(){this.brickIm.visible=!0};
var BuiltTowerVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.brickW=71;a.brickH=37;a.maxWallWidth=7.5;a.currentlyBuildLineId=0;a.maxLinesInWalls=6;a.brickIdInCurrentLine=0;a.bluePrintIm=a.scene.add.image(-16,16,"allGraphics2","w001_wallBlueprint4new0000");a.bluePrintIm.setOrigin(0,1);a.bluePrintIm.alpha=.5;a.add(a.bluePrintIm);a.bluePrintIm.visible=!1;a.bricksPool=[];a.animatedBrick=a.scene.add.image(0,0,"allGraphics2","w001_brick4new0000");a.animatedBrick.setOrigin(.5,1);
a.animatedBrick.visible=!1;b=a.createImageModifier(a.animatedBrick,.4);b.addAnimNode(.4,0,0,0,1.1,.95);b.addAnimNode(.8,0,0,0,.95,1.1);return a};$jscomp.inherits(BuiltTowerVisual,BasicMachineVisual);
BuiltTowerVisual.prototype.addNewBrick=function(){if(this.brickIdInCurrentLine<Math.floor(this.maxWallWidth))var a=(.5+this.brickIdInCurrentLine)*this.brickW,b=1;else a=(.5+this.brickIdInCurrentLine-.25)*this.brickW,b=.5;1==this.currentlyBuildLineId%2&&(a=this.maxWallWidth*this.brickW-a);var c=-this.currentlyBuildLineId*this.brickH,d=this.getBrickFromPool();d.x=a;d.y=c;d.setScale(b,1);this.bluePrintIm.visible=!0;this.brickIdInCurrentLine++;this.brickIdInCurrentLine>=Math.ceil(this.maxWallWidth)&&
(this.brickIdInCurrentLine=0,this.currentlyBuildLineId++)};BuiltTowerVisual.prototype.resetAtNewHeight=function(a){this.y=-(a+1)*(this.getWallH()+15)-15;this.returnBricks2Pool();this.bluePrintIm.visible=!1};BuiltTowerVisual.prototype.getWallH=function(){return this.maxLinesInWalls*this.brickH};BuiltTowerVisual.prototype.getNumBrick2CompleteStorey=function(){return Math.ceil(this.maxWallWidth)*this.maxLinesInWalls-(Math.ceil(this.maxWallWidth)*this.currentlyBuildLineId+this.brickIdInCurrentLine)};
BuiltTowerVisual.prototype.getBrickFromPool=function(){for(var a=null,b=0;b<this.bricksPool.length;b++)if(this.bricksPool[b].isInPool){a=this.bricksPool[b];break}a||(a=this.scene.add.image(0,0,"allGraphics2","w001_brick4new0000"),a.setOrigin(.5,1),this.add(a),this.bricksPool.push(a));a.visible=!0;a.isInPool=!1;return a};
BuiltTowerVisual.prototype.returnBricks2Pool=function(){for(var a=0;a<this.bricksPool.length;a++)this.bricksPool[a].isInPool=!0,this.bricksPool[a].visible=!1;this.brickIdInCurrentLine=this.currentlyBuildLineId=0};
var BuiltCraneVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.brickCoords=[{x:0,y:0,r:0,s:1},{x:48,y:-48,r:75/180*Math.PI,s:.8},{x:-15,y:-48,r:-40/180*Math.PI,s:1},{x:15,y:-48,r:40/180*Math.PI,s:1},{x:-48,y:-48,r:-75/180*Math.PI,s:.8}];a.currentlyBuildPlankId=0;a.bricksPool=[];a.animatedBrick=a.scene.add.image(0,0,"allGraphics2","w001_plank4Building4new0000");a.animatedBrick.setOrigin(.5,.5);a.animatedBrick.visible=!1;b=a.createImageModifier(a.animatedBrick,.4);b.addAnimNode(.4,
0,0,0,1.1,.95);b.addAnimNode(.8,0,0,0,.95,1.1);return a};$jscomp.inherits(BuiltCraneVisual,BasicMachineVisual);BuiltCraneVisual.prototype.addNewBrick=function(){var a=this.brickCoords[this.currentlyBuildPlankId],b=this.getBrickFromPool();b.x=a.x;b.y=a.y;b.setScale(a.s,1);b.rotation=a.r;this.currentlyBuildPlankId++};BuiltCraneVisual.prototype.resetAtNewHeight=function(a){this.y=-(a+1)*this.getWallH();this.returnBricks2Pool()};BuiltCraneVisual.prototype.getWallH=function(){return 79};
BuiltCraneVisual.prototype.getNumBrick2CompleteStorey=function(){return this.brickCoords.length-this.currentlyBuildPlankId};BuiltCraneVisual.prototype.getBrickFromPool=function(){for(var a=null,b=0;b<this.bricksPool.length;b++)if(this.bricksPool[b].isInPool){a=this.bricksPool[b];break}a||(a=this.scene.add.image(0,0,"allGraphics2","w001_plank4Building4new0000"),a.setOrigin(.5,1),this.add(a),this.bricksPool.push(a));a.visible=!0;a.isInPool=!1;a.rotation=0;return a};
BuiltCraneVisual.prototype.returnBricks2Pool=function(){for(var a=0;a<this.bricksPool.length;a++)this.bricksPool[a].isInPool=!0,this.bricksPool[a].visible=!1;this.currentlyBuildPlankId=0};
var DrummerOnBalconyVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.upgBtnCoords.x=-100;a.upgBtnCoords.y=-231;a.touchRect=new Phaser.Geom.Rectangle(-238,-164,265,194);a.drumIm=a.scene.add.image(-138,-11,"allGraphics2","w001_drum4new0000").setOrigin(.5,1);a.add(a.drumIm);a.humanIm=new HumanWithDrumSticks(a.scene,a,-48,-13);a.humanIm.setScale(1,1);a.balconyIm=a.scene.add.image(0,-2,"allGraphics2","w001_balcony4new0000").setOrigin(1,.5);a.add(a.balconyIm);a.embedVisual(a.humanIm);
b=a.createImageModifier(a.drumIm,1);b.addAnimNode(.3,a.drumIm.x,a.drumIm.y,a.drumIm.rotation,1.1*a.drumIm.scaleX,.9);b.addAnimNode(.5,a.drumIm.x,a.drumIm.y,a.drumIm.rotation,a.drumIm.scaleX,1);b.addAnimNode(.7,a.drumIm.x,a.drumIm.y,a.drumIm.rotation,1.1*a.drumIm.scaleX,.9);b.startAnimation(-1,0);return a};$jscomp.inherits(DrummerOnBalconyVisual,BasicMachineVisual);
var SmokeMachineVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.upgBtnCoords.x=320;a.upgBtnCoords.y=-30;a.touchRect=new Phaser.Geom.Rectangle(-33,-164,277,194);a.pusherIm=a.scene.add.image(94,-128,"allGraphics2","w001_smokePusher4new0000").setOrigin(.5,0);a.smokeIm=a.scene.add.image(240,-114,"allGraphics2","w001_SteamCloud4new0000").setOrigin(.5,.5);a.machineIm=a.scene.add.image(143,-12,"allGraphics2","w001_smokeMachine4new0000").setOrigin(.5,1);a.humanIm=a.scene.add.image(50,
-28,"allGraphics2","w001_workerSimple4new0000").setOrigin(.5,1);a.balconyIm=a.scene.add.image(0,-2,"allGraphics2","w001_balcony4new0000").setOrigin(1,.5).setScale(-1,1);a.add(a.pusherIm);a.add(a.smokeIm);a.add(a.machineIm);a.add(a.humanIm);a.add(a.balconyIm);b=a.createImageModifier(a.pusherIm,1);b.addAnimNode(.5,a.pusherIm.x-5,a.pusherIm.y+40,0,1,1);b.startAnimation(-1,0);b=a.createImageModifier(a.humanIm,1);b.addAnimNode(.5,a.humanIm.x,a.humanIm.y+15,0,1,1);b.startAnimation(-1,0);b=a.createImageModifier(a.machineIm,
1);b.addAnimNode(.5,a.machineIm.x,a.machineIm.y,0,1.08*a.machineIm.scaleX,.95*a.machineIm.scaleY);b.startAnimation(-1,0);a.smokeIm.setScale(0,0);b=a.createImageModifier(a.smokeIm,1);b.addAnimNode(.8,a.smokeIm.x+288,a.smokeIm.y-160,0,1,1);b.addAnimNode(1,a.smokeIm.x+288,a.smokeIm.y-160,0,1,1,0,0,0);b.startAnimation(-1,0);return a};$jscomp.inherits(SmokeMachineVisual,BasicMachineVisual);
var RainCloudVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.upgBtnCoords.x=0;a.upgBtnCoords.y=-180;a.touchRect=new Phaser.Geom.Rectangle(-170,-120,240,194);a.cloudIm=a.scene.add.image(0,0,"allGraphics2","w001_cloud4new0000").setOrigin(.5,.5);a.add(a.cloudIm);a.dropsAnim=new RainDropsAnim(a.scene,a,0,120);a.add(a.dropsAnim);a.embedVisual(a.dropsAnim);return a};$jscomp.inherits(RainCloudVisual,BasicMachineVisual);
RainCloudVisual.prototype.showWaterValueInCloud=function(a,b){a/=b;1<a&&(a=1);0>a&&(a=0);.5>a?(this.cloudIm.setScale(.5,.5),this.cloudIm.alpha=a/.5):(this.cloudIm.alpha=1,this.cloudIm.setScale(a,a))};RainCloudVisual.prototype.startRaining=function(){this.dropsAnim.startAnimations(this.dropsAnim.x,this.dropsAnim.y,999999999999,!1)};RainCloudVisual.prototype.stopRaining=function(){this.dropsAnim.stopAnimations()};
var Berth4FlyingMachineVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.upgBtnCoords.x=-100;a.upgBtnCoords.y=-231;a.touchRect=new Phaser.Geom.Rectangle(-452,-220,488,282);b=[{x:-521,y:-150},{x:-521,y:-120},{x:-411,y:-64},{x:-212,y:-64},{x:-156,y:-11},{x:-18,y:-11}];a.berthIm=a.scene.add.image(-205,-43,"allGraphics2","w001_airHarbor4new0000").setOrigin(1,1);a.stepsIm=a.scene.add.image(-227,-65,"allGraphics2","w001_airHarborSteps4new0000").setOrigin(0,0);a.balconyIm=a.scene.add.image(0,
-2,"allGraphics2","w001_balcony4new0000").setOrigin(1,.5);a.add(a.berthIm);a.add(a.stepsIm);a.add(a.balconyIm);a.humanIms=[];for(c=0;3>c;c++){var e=b[3>c?0:b.length-1].x,f=b[3>c?0:b.length-1].y;d=b[3<=c?0:b.length-1].x;var g=b[3<=c?0:b.length-1].y,h=3>c?1:-1,k=a.scene.add.image(e,f,"allGraphics2","w001_workerSimple4new0000").setOrigin(.5,1);a.add(k);a.humanIms.push(k);k.alpha=0;k.setScale(h,1);k=a.createImageModifier(k,2*(c+1));var n=3>c?1:-1,m=3>c?1:b.length-2;k.addAnimNode(.1,e,f,0,h,1,0,0,1);e=
.1;for(f=m;0<=f&&f<=b.length-1;f+=n)e+=.1,k.addAnimNode(e,b[f].x,b[f].y,0,h);k.addAnimNode(1,d,g,0,h,1,0,0,0)}a.entryIm=a.scene.add.image(5,-13,"allGraphics2","w001_berthEntry4new0000").setOrigin(1,1);a.add(a.entryIm);return a};$jscomp.inherits(Berth4FlyingMachineVisual,BasicMachineVisual);Berth4FlyingMachineVisual.prototype.startPassengersAnimation=function(){for(var a=0;3>a;a++)this.imageModifiers[a].startAnimation(1,0)};
var ZeppelinVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.stepsIm=a.scene.add.image(-25,135,"allGraphics2","w001_zeppelinDeck4new0000").setOrigin(0,.5);a.zepIm=a.scene.add.image(0,0,"allGraphics2","w001_zeppelin4new0000").setOrigin(.5,.5);a.add(a.stepsIm);a.add(a.zepIm);b=a.createImageModifier(a.stepsIm,.5);b.addAnimNode(1,a.stepsIm.x,a.stepsIm.y,Math.PI/6);b=a.createImageModifier(a.stepsIm,.5);b.addAnimNode(0,a.stepsIm.x,a.stepsIm.y,Math.PI/6);b=a.createImageModifier(a,
.5);b.addAnimNode(0,a.x,a.y,a.rotation,a.scaleX,a.scaleY,0,0,0);b=a.createImageModifier(a,.5);b.addAnimNode(1,a.x,a.y,a.rotation,a.scaleX,a.scaleY,0,0,0);return a};$jscomp.inherits(ZeppelinVisual,BasicMachineVisual);ZeppelinVisual.prototype.showFlightDirection=function(a){this.setScale(0>a?-1:1,1)};
var LiftEngineVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.upgBtnCoords.x=259;a.upgBtnCoords.y=-318;a.touchRect=new Phaser.Geom.Rectangle(128,-234,280,280);a.standIm=a.scene.add.image(259,-89,"allGraphics2","w001_windMillStand4new0000").setOrigin(1,0);a.fanIm=a.scene.add.image(259,-89,"allGraphics2","w001_windMillFan4new0000").setOrigin(.5,.5);a.add(a.standIm);a.add(a.fanIm);b=a.createImageModifier(a.fanIm,4);b.addAnimNode(1,a.fanIm.x,a.fanIm.y,2*Math.PI);b.startAnimation(-1,
0);return a};$jscomp.inherits(LiftEngineVisual,BasicMachineVisual);
var ElephantVisual=function(a,b,c,d,e){c=BasicMachineVisual.call(this,a,b,c,d)||this;c.touchRect=new Phaser.Geom.Rectangle(-140,-180,280,180);c.elephantWithLoad=new ElephantWithLoad(a,b,0,0,"stone"==e?"w001_roughStone4new0000":"w001_wood4new0000");c.add(c.elephantWithLoad);c.embedVisual(c.elephantWithLoad);e=c.createImageModifier(c.elephantWithLoad,.5);e.addAnimNode(.4,c.elephantWithLoad.x,c.elephantWithLoad.y-10,.1);e.addAnimNode(.8,c.elephantWithLoad.x,c.elephantWithLoad.y-10,-.1);c.humanWithManifest=
new HumanManifestation(a,b,-30,20);c.add(c.humanWithManifest);c.embedVisual(c.humanWithManifest);c.humanWithManifest.visible=!1;return c};$jscomp.inherits(ElephantVisual,BasicMachineVisual);ElephantVisual.prototype.setMoveAnimations=function(a){a?this.imageModifiers[0].startAnimation(-1,0):this.imageModifiers[0].stopAfterThisRun()};ElephantVisual.prototype.setLoadVisible=function(a){this.elephantWithLoad.setLoadVisible(a)};ElephantVisual.prototype.startEatingAnimation=function(){this.elephantWithLoad.startEatingAnimation()};
ElephantVisual.prototype.startManifestation=function(a){this.humanWithManifest.showPhrase(a);this.humanWithManifest.startAnimationIfNotAnimating();this.humanWithManifest.visible=!0};ElephantVisual.prototype.stopManifestation=function(a){this.humanWithManifest.stopAnimation();this.humanWithManifest.visible=!1};
ElephantVisual.prototype.setPosition=function(a,b){var c=a-this.x,d=b-this.y;BasicMachineVisual.prototype.setPosition.call(this,a,b);this.upgradeButton&&(this.upgradeButton.x-=c,this.upgradeButton.y-=d)};ElephantVisual.prototype.setScale=function(a,b){this.elephantWithLoad.setScale(a,b)};
var ElephantWithLoad=function(a,b,c,d,e){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.trunkIm=a.scene.add.image(-109,-100,"allGraphics2","w001_elephantTrunk4new0000").setOrigin(0,0);a.add(a.trunkIm);a.img=a.scene.add.image(0,0,"allGraphics2","w001_elephant4new0000").setOrigin(.5,1);a.add(a.img);a.loadIm=a.scene.add.image(25,-150,"allGraphics2",e).setOrigin(.5,1);a.add(a.loadIm);a.loadIm.visible=!1;a.createImageModifier(a.trunkIm,1.5).addAnimNode(.5,a.trunkIm.x,a.trunkIm.y,-.4);return a};
$jscomp.inherits(ElephantWithLoad,BasicMachineVisual);ElephantWithLoad.prototype.setLoadVisible=function(a){this.loadIm.visible=a};ElephantWithLoad.prototype.startEatingAnimation=function(){this.imageModifiers[0].startAnimation(3,0)};
var GrassFieldVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.touchRect=new Phaser.Geom.Rectangle(-50,-170,400,200);a.brick=a.scene.add.image(0,0,"allGraphics2","w001_grassPack4new0000");a.brick.setOrigin(.5,.5);a.brick.alpha=0;a.add(a.brick);a.createImageModifier(a,.4);b=a.createImageModifier(a.brick,.8);b.addAnimNode(0,0,0,0,1,1,1,1,0);b.addAnimNode(.25,210,-252,Math.PI,1,1,1,1,1);b.addAnimNode(.5,300,-117,2*Math.PI,1,1,1,1,1);b.addAnimNode(.8,300,-17,2*Math.PI,1,1,1,1,
1);b.addAnimNode(1,300,-17,2*Math.PI,1,1,1,1,0);a.grassPieces=[];for(b=0;12>b;b++)for(c=0;3>c;c++)d=a.scene.add.image(75-75/11*b+86*c-20+10*Math.random(),-120+10*b,"allGraphics2","w001_grassPart4new0000").setOrigin(.5,1),a.add(d),1==b%2&&(d.tint=9476458),0==c&&a.grassPieces.push(d);a.humanAnims=[];a.bringToTop(a.brick);return a};$jscomp.inherits(GrassFieldVisual,BasicMachineVisual);
GrassFieldVisual.prototype.createHumans=function(a){for(var b=0;b<a;b++){var c=Math.floor(Math.random()*this.grassPieces.length),d=new HumanWithLawnMower(this.scene,this,this.grassPieces[c].x-100,this.grassPieces[c].y-10);d.lineId=c;this.embedVisual(d);this.humanAnims.push(d);for(var e=0,f=0;f<this.humanAnims.length;f++)this.humanAnims[f].lineId>c&&e++;for(f=0;f<3*(this.grassPieces.length-c)+e;f++)this.moveDown(d);c=10+Math.random();e=this.createImageModifier(d,c);e.addAnimNode(.499999,d.x+300,d.y);
e.addAnimNode(.5,d.x+300,d.y,0,-1);e.addAnimNode(.999999,d.x,d.y,0,-1);e.startAnimation(-1,Math.random()*c)}this.bringToTop(this.brick)};var HayStackVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.img=a.scene.add.image(0,0,"allGraphics2","w001_hayStack4new0000").setOrigin(.5,143/161);a.add(a.img);a.text=new TFWithBGD(a.scene,a.grp,"",0,32,{texKey:"w001_bgdOfInformer4new0000",bgdOx:.5,bgdOy:.5,dx:0,dy:-22});a.text.mustTranslateShownText=!1;a.add(a.text);return a};
$jscomp.inherits(HayStackVisual,BasicMachineVisual);HayStackVisual.prototype.showCurrentValue=function(a){var b=a/100;1<b&&(b=1);b=Math.sqrt(b);this.img.setScale(b,b);0==a?(this.text.showText(""),this.text.visible=!1):(this.text.visible=!0,this.text.showText(window.bottleScreen.utils.showNumberAsText(a)))};
var ClockVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.upgBtnCoords.x=-200;a.bgImg=a.scene.add.image(0,0,"allGraphics2","w001_bigBenBack4new0000").setOrigin(.5,.5);a.add(a.bgImg);a.longHandImg=a.scene.add.image(0,0,"allGraphics2","w001_bigBenLongHand4new0000").setOrigin(.5,1);a.add(a.longHandImg);a.smallHandImg=a.scene.add.image(0,0,"allGraphics2","w001_bigBenShortHand4new0000").setOrigin(.5,1);a.add(a.smallHandImg);b=a.createImageModifier(a.longHandImg,60);b.addAnimNode(1,
a.longHandImg.x,a.longHandImg.y,2*Math.PI);b.startAnimation(-1,0);b=a.createImageModifier(a.smallHandImg,720);b.addAnimNode(1,a.smallHandImg.x,a.smallHandImg.y,2*Math.PI);b.startAnimation(-1,0);return a};$jscomp.inherits(ClockVisual,BasicMachineVisual);var UndergroundWaterVisual=function(a,b,c,d){return BasicMachineVisual.call(this,a,b,c,d)||this};$jscomp.inherits(UndergroundWaterVisual,BasicMachineVisual);
var WaterExtractorVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.upgBtnCoords.x=100;a.upgBtnCoords.y=-100;a.waterImg=a.scene.add.image(0,190,"allGraphics2","w001_waterCavern4new0000").setOrigin(.5,.5);a.add(a.waterImg);a.pipeImg=a.scene.add.image(-29,-17,"allGraphics2","w001_drillTube4new0000").setOrigin(1,1);a.add(a.pipeImg);a.bodyImg=a.scene.add.image(0,0,"allGraphics2","w001_drillBottom4new0000").setOrigin(.5,151/173);a.screwIms=[];for(b=0;4>b;b++)c=a.scene.add.image(0,
9+31*b,"allGraphics2","w001_drillScrewSmall4new0000").setOrigin(.5,0),a.add(c),a.screwIms.push(c);a.extractorImg=a.scene.add.image(0,99,"allGraphics2","w001_drillExtractor4new0000").setOrigin(.5,0);a.add(a.extractorImg);a.add(a.bodyImg);a.shakerGrp=a.scene.add.container();a.add(a.shakerGrp);a.shakerGrp.setScale(1,.5);a.shakerGrp.y=-128;a.shakerIm=a.scene.add.image(0,0,"allGraphics2","w001_drillHandle4new0000").setOrigin(.5,.5);a.shakerGrp.add(a.shakerIm);a.screwImas=[];for(b=0;b<a.screwIms.length;b++)c=
a.createImageModifier(a.screwIms[b],1),c.addAnimNode(1,a.screwIms[b].x,a.screwIms[b].y-32),a.screwImas.push(c),c.startAnimation(-1,0);c=a.createImageModifier(a.shakerIm,10);c.addAnimNode(1,a.shakerIm.x,a.shakerIm.y,2*Math.PI);c.startAnimation(-1,0);c=a.createImageModifier(a.extractorImg,1);c.addAnimNode(.25,a.extractorImg.x,a.extractorImg.y,0,1.1);c.addAnimNode(.5,a.extractorImg.x,a.extractorImg.y,0,1.1,1.1);c.addAnimNode(.75,a.extractorImg.x,a.extractorImg.y,0,1,1.1);c.startAnimation(-1,0);return a};
$jscomp.inherits(WaterExtractorVisual,BasicMachineVisual);
var WaterStorageVisual=function(a,b,c,d){a=BasicStorageVisual.call(this,a,b,c,d)||this;a.bgImg=a.scene.add.image(23,-21,"allGraphics2","w001_waterLevelInside4new0000").setOrigin(0,1);a.add(a.bgImg);a.bgImg.tint=16777215;a.waterImg=a.scene.add.image(23,-21,"allGraphics2","w001_waterLevelInside4new0000").setOrigin(0,1);a.add(a.waterImg);a.waterImg.tint=353731;a.bodyImg=a.scene.add.image(0,0,"allGraphics2","w001_drillReservoir4new0000").setOrigin(.5,303/317);a.add(a.bodyImg);a.text=new TFWithBGD(a.scene,
a.grp,"",0,-30,{texKey:"w001_bgdOfInformer4new0000",bgdOx:.5,bgdOy:.5,dx:0,dy:-22});a.text.mustTranslateShownText=!1;a.add(a.text);return a};$jscomp.inherits(WaterStorageVisual,BasicStorageVisual);WaterStorageVisual.prototype.showCurrentValue=function(a){var b=a/1E8;1<b&&(b=1);b=Math.sqrt(b);this.waterImg.setScale(1,b);0==a?(this.text.showText(""),this.text.visible=!1):(this.text.visible=!0,this.text.showText(window.bottleScreen.utils.showNumberAsText(a)))};
var CarawanSaraiVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.bodyImg=a.scene.add.image(0,0,"allGraphics2","w001_carawanSarai4new0000").setOrigin(.5,220/241);a.add(a.bodyImg);a.sacksImg=a.scene.add.image(-144,61,"allGraphics2","w001_sackPack4new0000").setOrigin(.5,1);a.add(a.sacksImg);a.settingsButton=null;a.upgBtnCoords.x=94;a.upgBtnCoords.y=-214;return a};$jscomp.inherits(CarawanSaraiVisual,BasicMachineVisual);
CarawanSaraiVisual.prototype.createSettingsButton=function(a){this.settingsButton=new ButtonWithIcon(this.scene,this,"w000_settingsIcon4new0000",-94,-214);this.settingsButton.registerHandler(this.setBtnHandler);this.settingsButton.myMachine=a};CarawanSaraiVisual.prototype.setBtnHandler=function(){this.myMachine.myWorld.hud.showSettingsPanel4Carawan(this.myMachine)};
var CamelVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.camelImg=a.scene.add.image(0,0,"allGraphics2","w001_camel4new0000").setOrigin(.5,1);a.add(a.camelImg);b=a.createImageModifier(a.camelImg,.5);b.addAnimNode(.4,a.camelImg.x,a.camelImg.y-10,.1);b.addAnimNode(.8,a.camelImg.x,a.camelImg.y-10,-.1);return a};$jscomp.inherits(CamelVisual,BasicMachineVisual);CamelVisual.prototype.setMoveAnimations=function(a){a?this.imageModifiers[0].startAnimation(-1,0):this.imageModifiers[0].stopAfterThisRun()};
var HelicopterVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.heliContainer=a.scene.add.container();a.add(a.heliContainer);a.pilotImg=a.scene.add.image(11,50,"allGraphics2","w001_workerSimple4new0000").setOrigin(.5,1).setScale(-1,1);a.heliContainer.add(a.pilotImg);a.bodyImg=a.scene.add.image(0,0,"allGraphics2","w001_helicopterBody4new0000").setOrigin(74/316,.5);a.heliContainer.add(a.bodyImg);a.tailScrewImg=a.scene.add.image(242,-77,"allGraphics2","w001_helicopterTailScrew4new0000");
a.heliContainer.add(a.tailScrewImg);a.topScrews=[];for(b=0;5>b;b++)c=a.scene.add.image(39,-66-2*b,"allGraphics2","w001_heicopterScrew4new0000").setOrigin(1,1),a.topScrews.push(c),a.heliContainer.add(c);a.screwImas=[];for(b=0;b<a.topScrews.length;b++)c=a.createImageModifier(a.topScrews[b],1),c.addAnimNode(.5,a.topScrews[b].x,a.topScrews[b].y,0,-1),a.screwImas.push(c),c.startAnimation(-1,1*b/a.topScrews.length);c=a.createImageModifier(a.tailScrewImg,1);c.addAnimNode(1,a.tailScrewImg.x,a.tailScrewImg.y,
2*Math.PI);c.startAnimation(-1,0);return a};$jscomp.inherits(HelicopterVisual,BasicMachineVisual);HelicopterVisual.prototype.setPosition=function(a,b){var c=a-this.x,d=b-this.y;BasicMachineVisual.prototype.setPosition.call(this,a,b);this.upgradeButton&&(this.upgradeButton.x-=c,this.upgradeButton.y-=d)};HelicopterVisual.prototype.setScale=function(a,b){this.heliContainer.setScale(a,b)};
var HelicopterBalconyVisual=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.dynImg=a.scene.add.image(69,-9,"allGraphics2","w001_dynamitePack4new0000").setOrigin(.5,1);a.add(a.dynImg);a.bodyImg=a.scene.add.image(0,0,"allGraphics2","w001_longBalcony4new0000").setOrigin(0,64/159);a.add(a.bodyImg);return a};$jscomp.inherits(HelicopterBalconyVisual,BasicMachineVisual);
var HumanWithPickAxe=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.humanIm=a.scene.add.image(0,0,"allGraphics2","w001_workerSimple4new0000");a.humanIm.setOrigin(.5,1);a.add(a.humanIm);a.humanIm.setScale(-1,1);a.pickIm=a.scene.add.image(-21,-34,"allGraphics2","w001_pickaxe4new0000");a.pickIm.setOrigin(.5,1);a.add(a.pickIm);a.pickIm.rotation=Math.PI/4;b=.5+.1*Math.random();c=a.createImageModifier(a.humanIm,b);c.addAnimNode(.1,0,0,a.humanIm.rotation+.2,-1,a.humanIm.scale.y);c.addAnimNode(.4,
7,6,a.humanIm.rotation-Math.PI/4,-1,a.humanIm.scale.y);c.startAnimation(-1,0);c=a.createImageModifier(a.pickIm,b);c.addAnimNode(.1,a.pickIm.x+10,a.pickIm.y+3,a.pickIm.rotation+.3,1,1);c.addAnimNode(.4,a.pickIm.x+6,a.pickIm.y+8,-Math.PI/2,1,1);c.startAnimation(-1,0);return a};$jscomp.inherits(HumanWithPickAxe,BasicMachineVisual);
var HumanWithDrumSticks=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.stickIm1=a.scene.add.image(7,-46,"allGraphics2","w001_drumStick4new0000");a.stickIm1.setOrigin(.5,1);a.add(a.stickIm1);a.stickIm1.rotation=-Math.PI/4;a.humanIm=a.scene.add.image(0,0,"allGraphics2","w001_workerSimple4new0000");a.humanIm.setOrigin(.5,1);a.add(a.humanIm);a.humanIm.setScale(-1,1);a.stickIm2=a.scene.add.image(5,-45,"allGraphics2","w001_drumStick4new0000");a.stickIm2.setOrigin(.25,1);a.add(a.stickIm2);
a.stickIm2.rotation=-Math.PI/6;b=a.createImageModifier(a.stickIm1,1);b.addAnimNode(.3,a.stickIm1.x,a.stickIm1.y+3,-Math.PI/2);b.addAnimNode(.6,a.stickIm1.x,a.stickIm1.y,a.stickIm1.rotation);b.startAnimation(-1,0);b=a.createImageModifier(a.stickIm2,1);b.addAnimNode(.4,a.stickIm1.x,a.stickIm2.y,a.stickIm1.rotation);b.addAnimNode(.7,a.stickIm1.x,a.stickIm2.y+3,-Math.PI/2);b.startAnimation(-1,0);b=a.createImageModifier(a.humanIm,1);b.addAnimNode(.3,a.humanIm.x,a.humanIm.y,a.humanIm.rotation,a.humanIm.scaleX,
.9);b.addAnimNode(.5,a.humanIm.x,a.humanIm.y,a.humanIm.rotation,a.humanIm.scaleX,1);b.addAnimNode(.7,a.humanIm.x,a.humanIm.y,a.humanIm.rotation,a.humanIm.scaleX,.9);b.startAnimation(-1,0);return a};$jscomp.inherits(HumanWithDrumSticks,BasicMachineVisual);
var HumanWithLawnMower=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.lineId=0;a.humanIm=a.scene.add.image(0,0,"allGraphics2","w001_workerSimple4new0000");a.humanIm.setOrigin(.5,1);a.add(a.humanIm);a.humanIm.setScale(1,1);a.mowerIm=a.scene.add.image(0,-50,"allGraphics2","w001_lawnMover4new0000");a.mowerIm.setOrigin(0,0);a.add(a.mowerIm);b=.5+.1*Math.random();c=a.createImageModifier(a.humanIm,b);c.addAnimNode(.5,a.humanIm.x,a.humanIm.y-10,0,1,a.humanIm.scale.y);c.startAnimation(-1,
0);c=a.createImageModifier(a.mowerIm,b);c.addAnimNode(.5,a.mowerIm.x,a.mowerIm.y,0,1.05,a.humanIm.scale.y);c.startAnimation(-1,0);return a};$jscomp.inherits(HumanWithLawnMower,BasicMachineVisual);
var HumanWithAxe=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.humanIm=a.scene.add.image(0,0,"allGraphics2","w001_workerSimple4new0000");a.humanIm.setOrigin(.5,1);a.add(a.humanIm);a.humanIm.setScale(1,1);a.pickIm=a.scene.add.image(15,-47,"allGraphics2","w001_axe4new0000");a.pickIm.setOrigin(.25,1);a.add(a.pickIm);a.pickIm.rotation=-Math.PI/2.5;b=.5+.1*Math.random();c=a.createImageModifier(a.humanIm,b);c.addAnimNode(.1,0,0,a.humanIm.rotation-Math.PI/16,1,a.humanIm.scale.y);c.addAnimNode(.4,
7,6,a.humanIm.rotation+Math.PI/16,1,a.humanIm.scale.y);c.startAnimation(-1,0);c=a.createImageModifier(a.pickIm,b);c.addAnimNode(.1,a.pickIm.x-13,a.pickIm.y-3,a.pickIm.rotation-.3,1,1);c.addAnimNode(.4,20,-32,Math.PI/2.2,1,1);c.startAnimation(-1,0);return a};$jscomp.inherits(HumanWithAxe,BasicMachineVisual);HumanWithAxe.prototype.pauseAnimations=function(){this.stopAnimId(0);this.stopAnimId(1)};HumanWithAxe.prototype.resumeAnimations=function(){this.runAnimId(0,-1,0);this.runAnimId(1,-1,0)};
var HumanManifestation=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.txIm=new TFWithBGD(a.scene,a,"1 Brick",10,-140,{texKey:"w001_placate4new0000",originX:.5,originY:0,dx:0,dy:-50});a.humanIm=a.scene.add.image(0,0,"allGraphics2","w001_workerSimple4new0000");a.humanIm.setOrigin(.5,1);a.add(a.humanIm);a.humanIm.setScale(1,1);b=a.createImageModifier(a.humanIm,.5);b.addAnimNode(.2,a.humanIm.x,a.humanIm.y-15);b.addAnimNode(.4,a.humanIm.x,a.humanIm.y);b=a.createImageModifier(a.humanIm,
4);b.addAnimNode(.4999,a.humanIm.x+100,a.humanIm.y,0,1);b.addAnimNode(.5,a.humanIm.x+100,a.humanIm.y,0,-1);b.addAnimNode(.99,a.humanIm.x,a.humanIm.y,0,-1);b=a.createImageModifier(a.txIm,.5);b.addAnimNode(.2,a.txIm.x,a.txIm.y-10);b.addAnimNode(.4,a.txIm.x,a.txIm.y);b=a.createImageModifier(a.txIm,4);b.addAnimNode(.5,a.txIm.x+100,a.txIm.y);return a};$jscomp.inherits(HumanManifestation,BasicMachineVisual);HumanManifestation.prototype.showPhrase=function(a){this.txIm.showText(a)};
HumanManifestation.prototype.startAnimationIfNotAnimating=function(){this.imageModifiers[0].isAnimating||this.startAnimation()};HumanManifestation.prototype.startAnimation=function(){this.runAnimId(0,-1,0);this.runAnimId(1,-1,0);this.runAnimId(2,-1,0);this.runAnimId(3,-1,0)};HumanManifestation.prototype.stopAnimation=function(){this.stopAnimId(0);this.stopAnimId(1);this.stopAnimId(2);this.stopAnimId(3)};
var ElevatorOfBricks=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.ropeZeroLength=50;a.humanIm=a.scene.add.image(36,-5,"allGraphics2","w001_workerSimple4new0000");a.humanIm.setOrigin(.5,1);a.add(a.humanIm);a.humanIm.setScale(-1,1);a.rollIm=a.scene.add.image(-11,-62,"allGraphics2","w001_elevatorRoll4new0000");a.rollIm.setOrigin(.5,.5);a.add(a.rollIm);a.baseIm=a.scene.add.image(16,0,"allGraphics2","w001_elevatorStand4new0000");a.baseIm.setOrigin(.5,1);a.add(a.baseIm);a.ropeIm=a.scene.add.image(-46,
-104,"allGraphics2","w001_rope4new0000");a.ropeIm.setOrigin(.5,0);a.add(a.ropeIm);a.ropeZeroLength=a.ropeIm.height;a.ropeNullLength=50;a.ropeIm.setScale(1,a.ropeNullLength/a.ropeIm.height);a.moverIm=a.scene.add.image(-46,a.ropeIm.y+a.ropeNullLength,"allGraphics2","w001_elevatorMover4new0000");a.moverIm.setOrigin(.5,0);a.add(a.moverIm);a.lastPayloadCode="brick";a.brickIm=a.scene.add.image(-49,a.ropeIm.y+a.ropeNullLength+55,"allGraphics2","w001_brick4new0000");a.brickIm.setOrigin(.5,1);a.add(a.brickIm);
a.brickIm.setScale(.6);a.brickIm.visible=!1;a.heightToBottom=200;a.moverZeroY=a.moverIm.y;a.brickZeroY=a.brickIm.y;b=a.createImageModifier(a.ropeIm,1);b.addAnimNode(1,a.ropeIm.x,a.ropeIm.y,0,1,(a.heightToBottom+a.ropeNullLength)/a.ropeZeroLength);b=a.createImageModifier(a.moverIm,1);b.addAnimNode(1,a.moverIm.x,a.moverZeroY+a.heightToBottom,0,1,1);b=a.createImageModifier(a.brickIm,1);b.addAnimNode(1,a.brickIm.x,a.brickZeroY+a.heightToBottom,0,a.brickIm.scale.x,a.brickIm.scale.y);b=a.createImageModifier(a.ropeIm,
1);b.addAnimNode(0,a.ropeIm.x,a.ropeIm.y,0,1,(a.heightToBottom+a.ropeNullLength)/a.ropeZeroLength);b.addAnimNode(1,a.ropeIm.x,a.ropeIm.y,0,1,.999*a.ropeNullLength/a.ropeZeroLength);b=a.createImageModifier(a.moverIm,1);b.addAnimNode(0,a.moverIm.x,a.moverZeroY+a.heightToBottom,0,1,1);b.addAnimNode(1,a.moverIm.x,a.moverIm.y-1,0,1,1);b=a.createImageModifier(a.brickIm,1);b.addAnimNode(0,a.brickIm.x,a.brickZeroY+a.heightToBottom,0,a.brickIm.scale.x,a.brickIm.scale.y);b.addAnimNode(.999999,a.brickIm.x,a.brickIm.y-
1,0,a.brickIm.scale.x,a.brickIm.scale.y,0,0,1,0);b.addAnimNode(1,a.brickIm.x,a.brickIm.y-1,0,a.brickIm.scale.x,a.brickIm.scale.y,0,0,1,0);b=a.createImageModifier(a.humanIm,.5);b.addAnimNode(.3,a.humanIm.x,a.humanIm.y,-.2,a.humanIm.scaleX,.9);b.addAnimNode(.6,a.humanIm.x,a.humanIm.y,.2,a.humanIm.scaleX,1);b=a.createImageModifier(a.rollIm,5);b.addAnimNode(1,a.rollIm.x,a.rollIm.y,2*Math.PI);b=a.createImageModifier(a.humanIm,.4);b.addAnimNode(.3,a.humanIm.x,a.humanIm.y,0,a.humanIm.scaleX,.9);b.addAnimNode(.6,
a.humanIm.x,a.humanIm.y-10,0,a.humanIm.scaleX,1);b=a.createImageModifier(a.rollIm,1);b.addAnimNode(1,a.rollIm.x,a.rollIm.y,-12*Math.PI);a.wasLastOrderDown=!1;return a};$jscomp.inherits(ElevatorOfBricks,BasicMachineVisual);
ElevatorOfBricks.prototype.setNewDist2Floor=function(a){this.heightToBottom=a;this.imageModifiers[0].modNodeProperty(1,"scaleY",(this.heightToBottom+this.ropeNullLength)/this.ropeZeroLength);this.imageModifiers[1].modNodeProperty(1,"y",this.moverZeroY+this.heightToBottom);this.imageModifiers[2].modNodeProperty(1,"y",this.brickZeroY+this.heightToBottom);this.imageModifiers[3].modNodeProperty(0,"scaleY",(this.heightToBottom+this.ropeNullLength)/this.ropeZeroLength);this.imageModifiers[4].modNodeProperty(0,
"y",this.moverZeroY+this.heightToBottom);this.imageModifiers[5].modNodeProperty(0,"y",this.brickZeroY+this.heightToBottom)};
ElevatorOfBricks.prototype.startMovingUp=function(a,b,c){this.lastPayloadCode!=c&&(this.lastPayloadCode=c,this.brickIm.setTexture("allGraphics2","brick"==c?"w001_brick4new0000":"w001_plank4new0000"));this.setAnimLength(3,a);this.runAnimId(3,1,0);this.setAnimLength(4,a);this.runAnimId(4,1,0);0<b&&(this.setAnimLength(5,a),this.runAnimId(5,1,0));this.runAnimId(6,Math.round(a/.5),0);this.runAnimId(7,Math.round(a/5),0);this.wasLastOrderDown=!1};
ElevatorOfBricks.prototype.updateElevatorAnimationsAtLambda=function(a,b){this.interpolateAnimLambda(3,a,b);this.interpolateAnimLambda(4,a,b);this.imageModifiers[5].isAnimating&&this.interpolateAnimLambda(5,a,b)};ElevatorOfBricks.prototype.stopMovingUpAnimation=function(){this.updateElevatorAnimationsAtLambda(1,1);this.stopAnimId(6);this.stopAnimId(7);this.wasLastOrderDown=!1};
ElevatorOfBricks.prototype.startMovingDown=function(){this.wasLastOrderDown||(this.runAnimId(0,1,0),this.runAnimId(1,1,0),this.runAnimId(2,1,0),this.runAnimId(8,1,0),this.runAnimId(9,1,0),this.wasLastOrderDown=!0)};var BasicParticlesAnimation=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.isAnimating=!1;a.animationTimeLeft=0;a.mustImmediatelyStopAnimationAfterTimeOver=!1;a.particlesPool=[];a.particleModifiers=[];a.initParticlesPool();return a};
$jscomp.inherits(BasicParticlesAnimation,BasicMachineVisual);BasicParticlesAnimation.prototype.initParticlesPool=function(){};BasicParticlesAnimation.prototype.doAnimations=function(a){BasicMachineVisual.prototype.doAnimations.call(this,a);this.isAnimating&&(this.doParticleAnimations(),this.animationTimeLeft-=a,0>=this.animationTimeLeft&&(this.isAnimating=!1,this.mustImmediatelyStopAnimationAfterTimeOver&&this.immediatelyStopAnimations()))};
BasicParticlesAnimation.prototype.stopAnimations=function(){this.animationTimeLeft=0;this.isAnimating=!1};BasicParticlesAnimation.prototype.startAnimations=function(a,b,c,d){this.x=a;this.y=b;this.animationTimeLeft=c;this.mustImmediatelyStopAnimationAfterTimeOver=d;this.isAnimating=!0;this.immediatelyStartAnimation()};
BasicParticlesAnimation.prototype.doParticleAnimations=function(a){for(a=0;a<this.particlesPool.length;a++){var b=this.particlesPool[a];b.isInPool?this.startSingleParticleAnimation(a):this.particleModifiers[a].isAnimating||(b.isInPool=!0,b.visible=!1)}};BasicParticlesAnimation.prototype.immediatelyStartAnimation=function(){};BasicParticlesAnimation.prototype.immediatelyStopAnimations=function(){};var RainDropsAnim=function(a,b,c,d){return BasicParticlesAnimation.call(this,a,b,c,d)||this};
$jscomp.inherits(RainDropsAnim,BasicParticlesAnimation);RainDropsAnim.prototype.initParticlesPool=function(){for(var a=0;15>a;a++){var b=this.scene.add.image(0,0,"allGraphics2","w001_waterFromHose4new0000");b.setOrigin(1,.5);b.rotation=-Math.PI/2;this.add(b);this.particlesPool.push(b);b.isInPool=!0;b.visible=!1;var c=this.createImageModifier(b,1);c.addAnimNode(0,b.x,b.y,b.rotation,1,0,0,0,0);c.addAnimNode(.5,b.x,b.y,b.rotation,1,2,0,0,1);c.addAnimNode(1,b.x,b.y+60,b.rotation,1,0,0,0,0);this.particleModifiers.push(c)}};
RainDropsAnim.prototype.startSingleParticleAnimation=function(a){if(.1>Math.random()){var b=this.particlesPool[a];a=this.particleModifiers[a];b.isInPool=!1;b.visible=!0;b.x=300*Math.random()-150;b.y=700*Math.random();a.modNodeProperty(0,"x",b.x);a.modNodeProperty(0,"y",b.y);a.modNodeProperty(1,"x",b.x);a.modNodeProperty(1,"y",b.y);a.modNodeProperty(2,"x",b.x);a.modNodeProperty(2,"y",b.y+60);a.setCycle(0,.2+.3*Math.random());a.startAnimation(1,0)}};
var DustCloudsAnim=function(a,b,c,d){return BasicParticlesAnimation.call(this,a,b,c,d)||this};$jscomp.inherits(DustCloudsAnim,BasicParticlesAnimation);
DustCloudsAnim.prototype.initParticlesPool=function(){for(var a=0;5>a;a++){var b=this.scene.add.image(0,0,"allGraphics2","w001_cloudPart4new0000");b.setOrigin(.5,.5);b.rotation=Math.random()*Math.PI;this.add(b);this.particlesPool.push(b);b.isInPool=!0;b.visible=!1;var c=this.createImageModifier(b,1);c.addAnimNode(0,b.x,b.y,b.rotation,0,0,0,0,0);c.addAnimNode(.3,b.x,b.y,b.rotation+1,1,1,0,0,1);c.addAnimNode(1,b.x,b.y,b.rotation+2,2,2,0,0,0);this.particleModifiers.push(c)}};
DustCloudsAnim.prototype.doAnimations=function(a){BasicParticlesAnimation.prototype.doAnimations.call(this,a)};DustCloudsAnim.prototype.startSingleParticleAnimation=function(a){if(.1>Math.random()){var b=this.particlesPool[a];a=this.particleModifiers[a];b.isInPool=!1;b.visible=!0;b.x=60*Math.random()-30;b.y=60*Math.random()-30;a.modNodeProperty(0,"x",b.x);a.modNodeProperty(0,"y",b.y);a.modNodeProperty(2,"x",-b.x);a.modNodeProperty(2,"y",-b.y);a.setCycle(0,.2+.3*Math.random());a.startAnimation(1,0)}};
var SparklesLineAnim=function(a,b,c,d){return BasicParticlesAnimation.call(this,a,b,c,d)||this};$jscomp.inherits(SparklesLineAnim,BasicParticlesAnimation);
SparklesLineAnim.prototype.initParticlesPool=function(){for(var a=0;5>a;a++){var b=this.scene.add.image(0,0,"allGraphics2","w001_starWithTrack4new0000");b.setOrigin(1,.5);this.add(b);this.particlesPool.push(b);b.isInPool=!0;b.visible=!1;var c=this.createImageModifier(b,1);c.addAnimNode(0,b.x,b.y,b.rotation,0,1,0,0,0);c.addAnimNode(.2,b.x+67,b.y,b.rotation,1,1,0,0,1);c.addAnimNode(1,b.x+130,b.y,b.rotation,1,1,0,0,0);this.particleModifiers.push(c)}};
SparklesLineAnim.prototype.startSingleParticleAnimation=function(a){if(.1>Math.random()){var b=this.particlesPool[a];a=this.particleModifiers[a];b.isInPool=!1;b.visible=!0;b.x=20*Math.random()-10;b.y=20*Math.random()-10;var c=.2*Math.random()-.1;a.modNodeProperty(0,"x",b.x);a.modNodeProperty(0,"y",b.y);a.modNodeProperty(1,"x",b.x+67);a.modNodeProperty(1,"y",b.y-67*Math.sin(c));a.modNodeProperty(1,"rotation",c);a.modNodeProperty(2,"x",b.x+130);a.modNodeProperty(2,"y",b.y-130*Math.sin(c));a.modNodeProperty(2,
"rotation",c);a.setCycle(0,.1+.1*Math.random());a.startAnimation(1,0)}};
var AnimatedImage=function(a,b,c){this.scene=a;a=c.key;c=c.mode;a||(a="w001_roughStone4new0000");c||(c="linear");this.mode=c;this.im=this.scene.add.image(0,0,"allGraphics2",a);this.ima=new ImageModifier;this.ima.registerDob(this.im,.4);this.ima.addAnimNode(0,-1,-1,0,1,1,0,0,1);"withRotation"==this.mode&&this.ima.addAnimNode(.1,-1,-1,-Math.PI,1,1,0,0,1);this.ima.addAnimNode(.9,0,0,0,1,1,0,0,1);this.ima.addAnimNode(1,0,0,0,1,1,0,0,0)};
AnimatedImage.prototype.startFromPoint=function(a,b){this.im.x=a;this.im.y=b;this.im.visible=!0;this.ima.modNodeProperty(0,"x",a);this.ima.modNodeProperty(0,"y",b);"withRotation"==this.mode&&(this.ima.modNodeProperty(1,"x",a),this.ima.modNodeProperty(1,"y",b));this.ima.startAnimation(1,0)};
AnimatedImage.prototype.placeInCoords=function(a,b){this.im.x=a;this.im.y=b;this.ima.modNodeProperty(this.ima.viewsSnapshots.length-2,"x",a);this.ima.modNodeProperty(this.ima.viewsSnapshots.length-2,"y",b);this.ima.modNodeProperty(this.ima.viewsSnapshots.length-1,"x",a);this.ima.modNodeProperty(this.ima.viewsSnapshots.length-1,"y",b)};
var OpenedWindow=function(a,b,c,d){a=BasicMachineVisual.call(this,a,b,c,d)||this;a.isShowing=!1;a.visible=!1;a.hasPurse=!1;a.bgdIm=a.scene.add.image(0,0,"allGraphics2","w001_windowInnerPart4new0000");a.bgdIm.setOrigin(.5,1);a.add(a.bgdIm);a.purseIm=a.scene.add.image(0,-31,"allGraphics2","w001_purseWithDiamonds4new0000");a.purseIm.setOrigin(.5,.5);a.add(a.purseIm);a.leftPartIm=a.scene.add.image(-31,0,"allGraphics2","w001_windowsHalf4new0000");a.leftPartIm.setOrigin(1,1);a.leftPartIm.setScale(-1,1);
a.add(a.leftPartIm);a.rightPartIm=a.scene.add.image(31,0,"allGraphics2","w001_windowsHalf4new0000");a.rightPartIm.setOrigin(1,1);a.add(a.rightPartIm);b=a.createImageModifier(a.leftPartIm,2);b.addAnimNode(.1,a.leftPartIm.x,a.leftPartIm.y,0,1,1);b.addAnimNode(.9,a.leftPartIm.x,a.leftPartIm.y,0,1,1);b=a.createImageModifier(a.rightPartIm,2);b.addAnimNode(.1,a.rightPartIm.x,a.rightPartIm.y,0,-1,1);b.addAnimNode(.9,a.rightPartIm.x,a.rightPartIm.y,0,-1,1);return a};$jscomp.inherits(OpenedWindow,BasicMachineVisual);
OpenedWindow.prototype.startShowing=function(a,b,c,d){this.x=a;this.y=b+47;this.setAnimLength(0,d*c);this.setAnimLength(1,d*c);this.imageModifiers[0].modNodeProperty(1,"lambda",.2/(d*c));this.imageModifiers[0].modNodeProperty(2,"lambda",1-.2/(d*c));this.imageModifiers[1].modNodeProperty(1,"lambda",.2/(d*c));this.imageModifiers[1].modNodeProperty(2,"lambda",1-.2/(d*c));this.runAnimId(0,1,0);this.runAnimId(1,1,0);this.visible=this.isShowing=!0;this.hasPurse=.5>Math.random();this.purseIm.visible=this.hasPurse};
OpenedWindow.prototype.stopShowing=function(){this.visible=this.isShowing=!1};OpenedWindow.prototype.doAnimations=function(a){BasicMachineVisual.prototype.doAnimations.call(this,a);this.isShowing&&(this.imageModifiers[0].isAnimating||this.stopShowing())};
OpenedWindow.prototype.showGoldGrab=function(){this.hasPurse=!1;this.purseIm.visible=this.hasPurse;this.imageModifiers[0].phiGathered<.8*this.imageModifiers[0].phiCycleLength&&(this.setAnimLambda(0,this.imageModifiers[0].viewsSnapshots[2].momentLambda),this.setAnimLambda(1,this.imageModifiers[1].viewsSnapshots[2].momentLambda))};
var EffectMoney=function(a,b,c){SimplePooledEffect.call(this,a,b,c);this.txt=new TextField(this.scene,this.grp,"",0,0);this.txt.changeAlign("left");this.visObjects.push(this.txt);this.txt.mustTranslateShownText=!1;this.iconIm=this.scene.add.image(0,0,"allGraphics2","w001_eftCoinsPack4new0000");this.grp.add(this.iconIm);this.visObjects.push(this.iconIm);new ImageModifier};$jscomp.inherits(EffectMoney,SimplePooledEffect);
EffectMoney.prototype.doStep=function(a){SimplePooledEffect.prototype.doStep.call(this,a);for(var b=0;b<this.visObjects.length;b++)this.visObjects[b].y-=50*a,1<this.timeExisting&&(this.visObjects[b].alpha=1-2*(this.timeExisting-1));2<this.timeExisting&&this.back2Pool()};
EffectMoney.prototype.startEffect=function(a,b,c){SimplePooledEffect.prototype.startEffect.call(this,a,b,c);this.iconIm.x=a;this.iconIm.y=b;this.txt.x=a+30;this.txt.y=b;this.txt.showText(c.txt);this.txt.visible=!0;this.iconIm.visible=!0;this.txt.alpha=1;this.iconIm.alpha=1};
var EffectDynamiteDrop=function(a,b,c){SimplePooledEffect.call(this,a,b,c);this.dynIm=this.scene.add.image(0,0,"allGraphics2","w001_dynamite4new0000");this.grp.add(this.dynIm);this.visObjects.push(this.dynIm);this.explIm=this.scene.add.image(0,0,"allGraphics2","w001_eftExplosion4new0000");this.grp.add(this.explIm);this.visObjects.push(this.explIm);a=this.createImageModifier(this.dynIm,.5);a.addAnimNode(.99999,this.dynIm.x,this.dynIm.y+720,0,1,1,0,0,1,0);this.explIm.setScale(0,0);a=this.createImageModifier(this.explIm,
1.5);a.addAnimNode(.33,this.explIm.x,this.explIm.y,0,0,0,0,0,1);a.addAnimNode(.66,this.explIm.x,this.explIm.y,0,1,1,0,0,1);a.addAnimNode(1,this.explIm.x,this.explIm.y,0,2,2,0,0,0)};$jscomp.inherits(EffectDynamiteDrop,SimplePooledEffect);EffectDynamiteDrop.prototype.doStep=function(a){SimplePooledEffect.prototype.doStep.call(this,a);1.5<this.timeExisting&&this.back2Pool()};
EffectDynamiteDrop.prototype.startEffect=function(a,b,c){SimplePooledEffect.prototype.startEffect.call(this,a,b,c);this.dynIm.x=a;this.dynIm.y=b;this.explIm.x=a;this.explIm.y=b+720;this.dynIm.visible=!0;this.explIm.visible=!0;this.explIm.setScale(0);this.explIm.alpha=1;this.imageModifiers[0].modNodeProperty(0,"y",this.dynIm.y);this.imageModifiers[0].modNodeProperty(1,"y",this.dynIm.y+720);this.imageModifiers[0].modNodeProperty(2,"y",this.dynIm.y+720);this.imageModifiers[0].startAnimation(1,0);this.imageModifiers[1].startAnimation(1,
0)};
